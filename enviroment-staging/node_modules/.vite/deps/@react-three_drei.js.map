{
  "version": 3,
  "sources": ["../../@react-three/drei/web/Html.js", "../../@react-three/drei/web/CycleRaycast.js", "../../@react-three/drei/web/useCursor.js", "../../@react-three/drei/web/Loader.js", "../../@react-three/drei/core/Progress.js", "../../zustand/esm/react.mjs", "../../@react-three/drei/web/DragControls.js", "../../@react-three/drei/web/ScrollControls.js", "../../@react-three/drei/web/PresentationControls.js", "../../@react-three/drei/web/KeyboardControls.js", "../../zustand/esm/middleware.mjs", "../../@react-three/drei/web/Select.js", "../../zustand/esm/vanilla/shallow.mjs", "../../zustand/esm/react/shallow.mjs", "../../@react-three/drei/core/Billboard.js", "../../@react-three/drei/core/ScreenSpace.js", "../../@react-three/drei/core/ScreenSizer.js", "../../@react-three/drei/core/calculateScaleFactor.js", "../../@react-three/drei/core/QuadraticBezierLine.js", "../../@react-three/drei/core/Line.js", "../../@react-three/drei/core/CubicBezierLine.js", "../../@react-three/drei/core/CatmullRomLine.js", "../../@react-three/drei/core/PositionalAudio.js", "../../@react-three/drei/core/Text.js", "../../@react-three/drei/core/Text3D.js", "../../@react-three/drei/core/useFont.js", "../../@react-three/drei/core/Effects.js", "../../@react-three/drei/core/GradientTexture.js", "../../@react-three/drei/core/Image.js", "../../@react-three/drei/core/shaderMaterial.js", "../../@react-three/drei/core/Texture.js", "../../@react-three/drei/helpers/constants.js", "../../@react-three/drei/core/Edges.js", "../../@react-three/drei/core/Outlines.js", "../../@react-three/drei/core/Trail.js", "../../@react-three/drei/core/Sampler.js", "../../@react-three/drei/core/ComputedAttribute.js", "../../@react-three/drei/core/Clone.js", "../../@react-three/drei/core/MarchingCubes.js", "../../@react-three/drei/core/Decal.js", "../../@react-three/drei/core/Svg.js", "../../@react-three/drei/core/Gltf.js", "../../@react-three/drei/core/AsciiRenderer.js", "../../@react-three/drei/core/Splat.js", "../../@react-three/drei/core/OrthographicCamera.js", "../../@react-three/drei/core/Fbo.js", "../../@react-three/drei/core/PerspectiveCamera.js", "../../@react-three/drei/core/CubeCamera.js", "../../@react-three/drei/core/DeviceOrientationControls.js", "../../@react-three/drei/core/FlyControls.js", "../../@react-three/drei/core/MapControls.js", "../../@react-three/drei/core/OrbitControls.js", "../../@react-three/drei/core/TrackballControls.js", "../../@react-three/drei/core/ArcballControls.js", "../../@react-three/drei/core/TransformControls.js", "../../@react-three/drei/core/PointerLockControls.js", "../../@react-three/drei/core/FirstPersonControls.js", "../../@react-three/drei/core/CameraControls.js", "../../@react-three/drei/core/MotionPathControls.js", "../../@react-three/drei/core/GizmoHelper.js", "../../@react-three/drei/core/Hud.js", "../../@react-three/drei/core/GizmoViewcube.js", "../../@react-three/drei/core/GizmoViewport.js", "../../@react-three/drei/core/Grid.js", "../../@react-three/drei/core/CubeTexture.js", "../../@react-three/drei/core/Fbx.js", "../../@react-three/drei/core/Ktx2.js", "../../@react-three/drei/core/VideoTexture.js", "../../@react-three/drei/core/useSpriteLoader.js", "../../@react-three/drei/core/Helper.js", "../../@react-three/drei/core/Stats.js", "../../@react-three/drei/helpers/useEffectfulState.js", "../../@react-three/drei/core/StatsGl.js", "../../@react-three/drei/core/useDepthBuffer.js", "../../@react-three/drei/core/useAspect.js", "../../@react-three/drei/core/useCamera.js", "../../@react-three/drei/core/DetectGPU.js", "../../@react-three/drei/core/Bvh.js", "../../three-mesh-bvh/src/core/Constants.js", "../../three-mesh-bvh/src/core/build/geometryUtils.js", "../../three-mesh-bvh/src/core/build/computeBoundsUtils.js", "../../three-mesh-bvh/src/utils/ArrayBoxUtilities.js", "../../three-mesh-bvh/src/core/build/splitUtils.js", "../../three-mesh-bvh/src/core/MeshBVHNode.js", "../../three-mesh-bvh/src/core/build/sortUtils.generated.js", "../../three-mesh-bvh/src/core/build/sortUtils_indirect.generated.js", "../../three-mesh-bvh/src/core/utils/nodeBufferUtils.js", "../../three-mesh-bvh/src/core/build/buildUtils.js", "../../three-mesh-bvh/src/core/build/buildTree.js", "../../three-mesh-bvh/src/math/SeparatingAxisBounds.js", "../../three-mesh-bvh/src/math/MathUtilities.js", "../../three-mesh-bvh/src/math/ExtendedTriangle.js", "../../three-mesh-bvh/src/math/OrientedBox.js", "../../three-mesh-bvh/src/utils/PrimitivePool.js", "../../three-mesh-bvh/src/utils/ExtendedTrianglePool.js", "../../three-mesh-bvh/src/core/utils/BufferStack.js", "../../three-mesh-bvh/src/core/cast/shapecast.js", "../../three-mesh-bvh/src/core/cast/closestPointToPoint.js", "../../three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js", "../../three-mesh-bvh/src/utils/TriangleUtilities.js", "../../three-mesh-bvh/src/core/utils/iterationUtils.generated.js", "../../three-mesh-bvh/src/core/cast/refit.generated.js", "../../three-mesh-bvh/src/core/utils/intersectUtils.js", "../../three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js", "../../three-mesh-bvh/src/core/cast/raycast.generated.js", "../../three-mesh-bvh/src/core/cast/raycastFirst.generated.js", "../../three-mesh-bvh/src/core/cast/intersectsGeometry.generated.js", "../../three-mesh-bvh/src/core/cast/closestPointToGeometry.generated.js", "../../three-mesh-bvh/src/core/cast/refit_indirect.generated.js", "../../three-mesh-bvh/src/core/cast/raycast_indirect.generated.js", "../../three-mesh-bvh/src/core/cast/raycastFirst_indirect.generated.js", "../../three-mesh-bvh/src/core/cast/intersectsGeometry_indirect.generated.js", "../../three-mesh-bvh/src/core/cast/closestPointToGeometry_indirect.generated.js", "../../three-mesh-bvh/src/utils/BufferUtils.js", "../../three-mesh-bvh/src/core/cast/bvhcast.js", "../../three-mesh-bvh/src/core/MeshBVH.js", "../../three-mesh-bvh/src/objects/MeshBVHHelper.js", "../../three-mesh-bvh/src/debug/Debug.js", "../../three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js", "../../three-mesh-bvh/src/utils/ExtensionUtilities.js", "../../three-mesh-bvh/src/gpu/VertexAttributeTexture.js", "../../three-mesh-bvh/src/gpu/MeshBVHUniformStruct.js", "../../three-mesh-bvh/src/utils/StaticGeometryGenerator.js", "../../three-mesh-bvh/src/gpu/BVHShaderGLSL.js", "../../three-mesh-bvh/src/gpu/glsl/common_functions.glsl.js", "../../three-mesh-bvh/src/gpu/glsl/bvh_distance_functions.glsl.js", "../../three-mesh-bvh/src/gpu/glsl/bvh_ray_functions.glsl.js", "../../three-mesh-bvh/src/gpu/glsl/bvh_struct_definitions.glsl.js", "../../three-mesh-bvh/src/index.js", "../../@react-three/drei/core/useContextBridge.js", "../../@react-three/drei/core/useAnimations.js", "../../@react-three/drei/core/useIntersect.js", "../../@react-three/drei/core/useBoxProjectedEnv.js", "../../@react-three/drei/core/BBAnchor.js", "../../@react-three/drei/core/TrailTexture.js", "../../@react-three/drei/core/Example.js", "../../@react-three/drei/core/Center.js", "../../@react-three/drei/core/SpriteAnimator.js", "../../@react-three/drei/core/Instances.js", "../../@react-three/drei/helpers/deprecated.js", "../../@react-three/drei/core/CurveModifier.js", "../../@react-three/drei/core/MeshDistortMaterial.js", "../../@react-three/drei/helpers/glsl/distort.vert.glsl.js", "../../@react-three/drei/core/MeshWobbleMaterial.js", "../../@react-three/drei/core/MeshReflectorMaterial.js", "../../@react-three/drei/materials/ConvolutionMaterial.js", "../../@react-three/drei/materials/BlurPass.js", "../../@react-three/drei/materials/MeshReflectorMaterial.js", "../../@react-three/drei/core/MeshRefractionMaterial.js", "../../@react-three/drei/materials/MeshRefractionMaterial.js", "../../@react-three/drei/core/MeshTransmissionMaterial.js", "../../@react-three/drei/materials/DiscardMaterial.js", "../../@react-three/drei/core/MeshDiscardMaterial.js", "../../@react-three/drei/core/MultiMaterial.js", "../../@react-three/drei/core/PointMaterial.js", "../../@react-three/drei/core/softShadows.js", "../../@react-three/drei/core/shapes.js", "../../@react-three/drei/core/RoundedBox.js", "../../@react-three/drei/core/ScreenQuad.js", "../../@react-three/drei/core/Resize.js", "../../@react-three/drei/core/Bounds.js", "../../@react-three/drei/core/CameraShake.js", "../../@react-three/drei/core/Float.js", "../../@react-three/drei/core/Stage.js", "../../@react-three/drei/core/Environment.js", "../../@react-three/drei/helpers/environment-assets.js", "../../@react-three/drei/core/useEnvironment.js", "../../@react-three/drei/core/ContactShadows.js", "../../@react-three/drei/core/AccumulativeShadows.js", "../../@react-three/drei/core/Backdrop.js", "../../@react-three/drei/core/Shadow.js", "../../@react-three/drei/core/Caustics.js", "../../@react-three/drei/core/SpotLight.js", "../../@react-three/drei/materials/SpotLightMaterial.js", "../../@react-three/drei/helpers/glsl/DefaultSpotlightShadowShadows.glsl.js", "../../@react-three/drei/core/Lightformer.js", "../../@react-three/drei/core/Sky.js", "../../@react-three/drei/core/Stars.js", "../../@react-three/drei/core/Cloud.js", "../../@react-three/drei/core/Sparkles.js", "../../@react-three/drei/core/MatcapTexture.js", "../../@react-three/drei/core/NormalTexture.js", "../../@react-three/drei/core/Wireframe.js", "../../@react-three/drei/materials/WireframeMaterial.js", "../../@react-three/drei/core/ShadowAlpha.js", "../../@react-three/drei/core/Points.js", "../../@react-three/drei/core/Segments.js", "../../@react-three/drei/core/Detailed.js", "../../@react-three/drei/core/Preload.js", "../../@react-three/drei/core/BakeShadows.js", "../../@react-three/drei/core/meshBounds.js", "../../@react-three/drei/core/AdaptiveDpr.js", "../../@react-three/drei/core/AdaptiveEvents.js", "../../@react-three/drei/core/PerformanceMonitor.js", "../../@react-three/drei/core/RenderTexture.js", "../../@react-three/drei/core/RenderCubeTexture.js", "../../@react-three/drei/core/Mask.js", "../../@react-three/drei/core/Fisheye.js", "../../@react-three/drei/core/MeshPortalMaterial.js", "../../@react-three/drei/web/View.js", "../../@react-three/drei/web/pivotControls/index.js", "../../@react-three/drei/web/pivotControls/AxisArrow.js", "../../@react-three/drei/web/pivotControls/context.js", "../../@react-three/drei/web/pivotControls/AxisRotator.js", "../../@react-three/drei/web/pivotControls/PlaneSlider.js", "../../@react-three/drei/web/pivotControls/ScalingSphere.js", "../../@react-three/drei/web/ScreenVideoTexture.js", "../../@react-three/drei/web/WebcamVideoTexture.js", "../../@react-three/drei/web/FaceControls.js", "../../@react-three/drei/web/Facemesh.js", "../../@react-three/drei/web/FaceLandmarker.js"],
  "sourcesContent": ["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { Vector3, DoubleSide, OrthographicCamera, PerspectiveCamera, Vector2 } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = /* @__PURE__ */new Vector3();\nconst v2 = /* @__PURE__ */new Vector3();\nconst v3 = /* @__PURE__ */new Vector3();\nconst v4 = /* @__PURE__ */new Vector2();\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  v4.set(screenPos.x, screenPos.y);\n  raycaster.setFromCamera(v4, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n  return true;\n}\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n  return undefined;\n}\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n  return prepend + matrix3d;\n}\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\nfunction isRefObject(ref) {\n  return ref && typeof ref === 'object' && 'current' in ref;\n}\nconst Html = /* @__PURE__ */React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  castShadow,\n  receiveShadow,\n  material,\n  geometry,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  wrapperClass,\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  const {\n    gl,\n    camera,\n    scene,\n    size,\n    raycaster,\n    events,\n    viewport\n  } = useThree();\n  const [el] = React.useState(() => document.createElement(as));\n  const root = React.useRef(null);\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  // Append to the connected element, which makes HTML work with views\n  const target = (portal == null ? void 0 : portal.current) || events.connected || gl.domElement.parentNode;\n  const occlusionMeshRef = React.useRef(null);\n  const isMeshSizeSet = React.useRef(false);\n  const isRayCastOcclusion = React.useMemo(() => {\n    return occlude && occlude !== 'blending' || Array.isArray(occlude) && occlude.length && isRefObject(occlude[0]);\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    const el = gl.domElement;\n    if (occlude && occlude === 'blending') {\n      el.style.zIndex = `${Math.floor(zIndexRange[0] / 2)}`;\n      el.style.position = 'absolute';\n      el.style.pointerEvents = 'none';\n    } else {\n      el.style.zIndex = null;\n      el.style.position = null;\n      el.style.pointerEvents = null;\n    }\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    if (group.current) {\n      const currentRoot = root.current = ReactDOM.createRoot(el);\n      scene.updateMatrixWorld();\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n      return () => {\n        if (target) target.removeChild(el);\n        currentRoot.unmount();\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(() => {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    isMeshSizeSet.current = false;\n    if (transform) {\n      var _root$current;\n      (_root$current = root.current) == null || _root$current.render(/*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))));\n    } else {\n      var _root$current2;\n      (_root$current2 = root.current) == null || _root$current2.render(/*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }));\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(gl => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n        if (isRayCastOcclusion) {\n          if (Array.isArray(occlude)) {\n            raytraceTarget = occlude.map(item => item.current);\n          } else if (occlude !== 'blending') {\n            raytraceTarget = [scene];\n          }\n        }\n        const previouslyVisible = visible.current;\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n        const halfRange = Math.floor(zIndexRange[0] / 2);\n        const zRange = occlude ? isRayCastOcclusion //\n        ? [zIndexRange[0], halfRange] : [halfRange - 1, 0] : zIndexRange;\n        el.style.zIndex = `${objectZIndex(group.current, camera, zRange)}`;\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n    if (!isRayCastOcclusion && occlusionMeshRef.current && !isMeshSizeSet.current) {\n      if (transform) {\n        if (transformOuterRef.current) {\n          const el = transformOuterRef.current.children[0];\n          if (el != null && el.clientWidth && el != null && el.clientHeight) {\n            const {\n              isOrthographicCamera\n            } = camera;\n            if (isOrthographicCamera || geometry) {\n              if (props.scale) {\n                if (!Array.isArray(props.scale)) {\n                  occlusionMeshRef.current.scale.setScalar(1 / props.scale);\n                } else if (props.scale instanceof Vector3) {\n                  occlusionMeshRef.current.scale.copy(props.scale.clone().divideScalar(1));\n                } else {\n                  occlusionMeshRef.current.scale.set(1 / props.scale[0], 1 / props.scale[1], 1 / props.scale[2]);\n                }\n              }\n            } else {\n              const ratio = (distanceFactor || 10) / 400;\n              const w = el.clientWidth * ratio;\n              const h = el.clientHeight * ratio;\n              occlusionMeshRef.current.scale.set(w, h, 1);\n            }\n            isMeshSizeSet.current = true;\n          }\n        }\n      } else {\n        const ele = el.children[0];\n        if (ele != null && ele.clientWidth && ele != null && ele.clientHeight) {\n          const ratio = 1 / viewport.factor;\n          const w = ele.clientWidth * ratio;\n          const h = ele.clientHeight * ratio;\n          occlusionMeshRef.current.scale.set(w, h, 1);\n          isMeshSizeSet.current = true;\n        }\n        occlusionMeshRef.current.lookAt(gl.camera.position);\n      }\n    }\n  });\n  const shaders = React.useMemo(() => ({\n    vertexShader: !transform ? /* glsl */`\n          /*\n            This shader is from the THREE's SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if \"transfrom\"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ` : undefined,\n    fragmentShader: /* glsl */`\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      `\n  }), [transform]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }), occlude && !isRayCastOcclusion && /*#__PURE__*/React.createElement(\"mesh\", {\n    castShadow: castShadow,\n    receiveShadow: receiveShadow,\n    ref: occlusionMeshRef\n  }, geometry || /*#__PURE__*/React.createElement(\"planeGeometry\", null), material || /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    side: DoubleSide,\n    vertexShader: shaders.vertexShader,\n    fragmentShader: shaders.fragmentShader\n  })));\n});\n\nexport { Html };\n", "import * as React from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction CycleRaycast({\n  onChanged,\n  portal,\n  preventDefault = true,\n  scroll = true,\n  keyCode = 9\n}) {\n  const cycle = React.useRef(0);\n  const setEvents = useThree(state => state.setEvents);\n  const get = useThree(state => state.get);\n  const gl = useThree(state => state.gl);\n  React.useEffect(() => {\n    var _portal$current;\n    let hits = [];\n    let lastEvent = undefined;\n    const prev = get().events.filter;\n    const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n\n    // Render custom status\n    const renderStatus = () => target && onChanged && onChanged(hits, Math.round(cycle.current) % hits.length);\n\n    // Overwrite the raycasters custom filter (this only exists in r3f)\n    setEvents({\n      filter: (intersections, state) => {\n        // Reset cycle when the intersections change\n        let clone = [...intersections];\n        if (clone.length !== hits.length || !hits.every(hit => clone.map(e => e.object.uuid).includes(hit.object.uuid))) {\n          cycle.current = 0;\n          hits = clone;\n          renderStatus();\n        }\n        // Run custom filter if there is one\n        if (prev) clone = prev(clone, state);\n        // Cycle through the actual raycast intersects\n        for (let i = 0; i < Math.round(cycle.current) % clone.length; i++) {\n          const first = clone.shift();\n          clone = [...clone, first];\n        }\n        return clone;\n      }\n    });\n\n    // Cycle, refresh events and render status\n    const refresh = fn => {\n      var _get$events$handlers, _get$events$handlers2;\n      cycle.current = fn(cycle.current);\n      // Cancel hovered elements and fake a pointer-move\n      (_get$events$handlers = get().events.handlers) == null || _get$events$handlers.onPointerCancel(undefined);\n      (_get$events$handlers2 = get().events.handlers) == null || _get$events$handlers2.onPointerMove(lastEvent);\n      renderStatus();\n    };\n\n    // Key events\n    const tabEvent = event => {\n      if ((event.keyCode || event.which) === keyCode) {\n        if (preventDefault) event.preventDefault();\n        if (hits.length > 1) refresh(current => current + 1);\n      }\n    };\n\n    // Wheel events\n    const wheelEvent = event => {\n      if (preventDefault) event.preventDefault();\n      let delta = 0;\n      if (!event) event = window.event;\n      if (event.wheelDelta) delta = event.wheelDelta / 120;else if (event.detail) delta = -event.detail / 3;\n      if (hits.length > 1) refresh(current => Math.abs(current - delta));\n    };\n\n    // Catch last move event and position custom status\n    const moveEvent = event => lastEvent = event;\n    document.addEventListener('pointermove', moveEvent, {\n      passive: true\n    });\n    if (scroll) document.addEventListener('wheel', wheelEvent);\n    if (keyCode !== undefined) document.addEventListener('keydown', tabEvent);\n    return () => {\n      // Clean up\n      setEvents({\n        filter: prev\n      });\n      if (keyCode !== undefined) document.removeEventListener('keydown', tabEvent);\n      if (scroll) document.removeEventListener('wheel', wheelEvent);\n      document.removeEventListener('pointermove', moveEvent);\n    };\n  }, [gl, get, setEvents, preventDefault, scroll, keyCode]);\n  return null;\n}\n\nexport { CycleRaycast };\n", "import * as React from 'react';\n\nfunction useCursor(hovered, onPointerOver = 'pointer', onPointerOut = 'auto', container = document.body) {\n  React.useEffect(() => {\n    if (hovered) {\n      container.style.cursor = onPointerOver;\n      return () => void (container.style.cursor = onPointerOut);\n    }\n  }, [hovered]);\n}\n\nexport { useCursor };\n", "import * as React from 'react';\nimport { useProgress } from '../core/Progress.js';\n\nconst defaultDataInterpolation = p => `Loading ${p.toFixed(2)}%`;\nfunction Loader({\n  containerStyles,\n  innerStyles,\n  barStyles,\n  dataStyles,\n  dataInterpolation = defaultDataInterpolation,\n  initialState = active => active\n}) {\n  const {\n    active,\n    progress\n  } = useProgress();\n  const progressRef = React.useRef(0);\n  const rafRef = React.useRef(0);\n  const progressSpanRef = React.useRef(null);\n  const [shown, setShown] = React.useState(initialState(active));\n  React.useEffect(() => {\n    let t;\n    if (active !== shown) t = setTimeout(() => setShown(active), 300);\n    return () => clearTimeout(t);\n  }, [shown, active]);\n  const updateProgress = React.useCallback(() => {\n    if (!progressSpanRef.current) return;\n    progressRef.current += (progress - progressRef.current) / 2;\n    if (progressRef.current > 0.95 * progress || progress === 100) progressRef.current = progress;\n    progressSpanRef.current.innerText = dataInterpolation(progressRef.current);\n    if (progressRef.current < progress) rafRef.current = requestAnimationFrame(updateProgress);\n  }, [dataInterpolation, progress]);\n  React.useEffect(() => {\n    updateProgress();\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [updateProgress]);\n  return shown ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      ...styles.container,\n      opacity: active ? 1 : 0,\n      ...containerStyles\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      ...styles.inner,\n      ...innerStyles\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      ...styles.bar,\n      transform: `scaleX(${progress / 100})`,\n      ...barStyles\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    ref: progressSpanRef,\n    style: {\n      ...styles.data,\n      ...dataStyles\n    }\n  })))) : null;\n}\nconst styles = {\n  container: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: '#171717',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: 'opacity 300ms ease',\n    zIndex: 1000\n  },\n  inner: {\n    width: 100,\n    height: 3,\n    background: '#272727',\n    textAlign: 'center'\n  },\n  bar: {\n    height: 3,\n    width: '100%',\n    background: 'white',\n    transition: 'transform 200ms',\n    transformOrigin: 'left center'\n  },\n  data: {\n    display: 'inline-block',\n    position: 'relative',\n    fontVariantNumeric: 'tabular-nums',\n    marginTop: '0.8em',\n    color: '#f0f0f0',\n    fontSize: '0.6em',\n    fontFamily: `-apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Helvetica Neue\", Helvetica, Arial, Roboto, Ubuntu, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    whiteSpace: 'nowrap'\n  }\n};\n\nexport { Loader };\n", "import * as React from 'react';\nimport { DefaultLoadingManager } from 'three';\nimport { create } from 'zustand';\n\nlet saveLastTotalLoaded = 0;\nconst useProgress = /* @__PURE__ */create(set => {\n  DefaultLoadingManager.onStart = (item, loaded, total) => {\n    set({\n      active: true,\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100\n    });\n  };\n  DefaultLoadingManager.onLoad = () => {\n    set({\n      active: false\n    });\n  };\n  DefaultLoadingManager.onError = item => set(state => ({\n    errors: [...state.errors, item]\n  }));\n  DefaultLoadingManager.onProgress = (item, loaded, total) => {\n    if (loaded === total) {\n      saveLastTotalLoaded = total;\n    }\n    set({\n      active: true,\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100 || 100\n    });\n  };\n  return {\n    errors: [],\n    active: false,\n    progress: 0,\n    item: '',\n    loaded: 0,\n    total: 0\n  };\n});\n\n//\n\nfunction Progress({\n  children\n}) {\n  const result = useProgress();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(result));\n}\n\nexport { Progress, useProgress };\n", "import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState())\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\n\nexport { create, useStore };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useGesture } from '@use-gesture/react';\n\nconst initialModelPosition = /* @__PURE__ */new THREE.Vector3();\nconst mousePosition2D = /* @__PURE__ */new THREE.Vector2();\nconst mousePosition3D = /* @__PURE__ */new THREE.Vector3();\nconst dragOffset = /* @__PURE__ */new THREE.Vector3();\nconst dragPlaneNormal = /* @__PURE__ */new THREE.Vector3();\nconst dragPlane = /* @__PURE__ */new THREE.Plane();\nconst DragControls = /*#__PURE__*/React.forwardRef(({\n  autoTransform = true,\n  matrix,\n  axisLock,\n  dragLimits,\n  onHover,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  children,\n  dragConfig,\n  ...props\n}, fRef) => {\n  const defaultControls = useThree(state => state.controls);\n  const {\n    camera,\n    size,\n    raycaster,\n    invalidate\n  } = useThree();\n  const ref = React.useRef(null);\n  const bind = useGesture({\n    onHover: ({\n      hovering\n    }) => onHover && onHover(hovering !== null && hovering !== void 0 ? hovering : false),\n    onDragStart: ({\n      event\n    }) => {\n      if (defaultControls) defaultControls.enabled = false;\n      const {\n        point\n      } = event;\n      ref.current.matrix.decompose(initialModelPosition, new THREE.Quaternion(), new THREE.Vector3());\n      mousePosition3D.copy(point);\n      dragOffset.copy(mousePosition3D).sub(initialModelPosition);\n      onDragStart && onDragStart(initialModelPosition);\n      invalidate();\n    },\n    onDrag: ({\n      xy: [dragX, dragY],\n      intentional\n    }) => {\n      if (!intentional) return;\n      const normalizedMouseX = (dragX - size.left) / size.width * 2 - 1;\n      const normalizedMouseY = -((dragY - size.top) / size.height) * 2 + 1;\n      mousePosition2D.set(normalizedMouseX, normalizedMouseY);\n      raycaster.setFromCamera(mousePosition2D, camera);\n      if (!axisLock) {\n        camera.getWorldDirection(dragPlaneNormal).negate();\n      } else {\n        switch (axisLock) {\n          case 'x':\n            dragPlaneNormal.set(1, 0, 0);\n            break;\n          case 'y':\n            dragPlaneNormal.set(0, 1, 0);\n            break;\n          case 'z':\n            dragPlaneNormal.set(0, 0, 1);\n            break;\n        }\n      }\n      dragPlane.setFromNormalAndCoplanarPoint(dragPlaneNormal, mousePosition3D);\n      raycaster.ray.intersectPlane(dragPlane, mousePosition3D);\n      const previousLocalMatrix = ref.current.matrix.clone();\n      const previousWorldMatrix = ref.current.matrixWorld.clone();\n      const intendedNewPosition = new THREE.Vector3(mousePosition3D.x - dragOffset.x, mousePosition3D.y - dragOffset.y, mousePosition3D.z - dragOffset.z);\n      if (dragLimits) {\n        intendedNewPosition.x = dragLimits[0] ? Math.max(Math.min(intendedNewPosition.x, dragLimits[0][1]), dragLimits[0][0]) : intendedNewPosition.x;\n        intendedNewPosition.y = dragLimits[1] ? Math.max(Math.min(intendedNewPosition.y, dragLimits[1][1]), dragLimits[1][0]) : intendedNewPosition.y;\n        intendedNewPosition.z = dragLimits[2] ? Math.max(Math.min(intendedNewPosition.z, dragLimits[2][1]), dragLimits[2][0]) : intendedNewPosition.z;\n      }\n      if (autoTransform) {\n        ref.current.matrix.setPosition(intendedNewPosition);\n        const deltaLocalMatrix = ref.current.matrix.clone().multiply(previousLocalMatrix.invert());\n        const deltaWorldMatrix = ref.current.matrix.clone().multiply(previousWorldMatrix.invert());\n        onDrag && onDrag(ref.current.matrix, deltaLocalMatrix, ref.current.matrixWorld, deltaWorldMatrix);\n      } else {\n        const tempMatrix = new THREE.Matrix4().copy(ref.current.matrix);\n        tempMatrix.setPosition(intendedNewPosition);\n        const deltaLocalMatrix = tempMatrix.clone().multiply(previousLocalMatrix.invert());\n        const deltaWorldMatrix = tempMatrix.clone().multiply(previousWorldMatrix.invert());\n        onDrag && onDrag(tempMatrix, deltaLocalMatrix, ref.current.matrixWorld, deltaWorldMatrix);\n      }\n      invalidate();\n    },\n    onDragEnd: () => {\n      if (defaultControls) defaultControls.enabled = true;\n      onDragEnd && onDragEnd();\n      invalidate();\n    }\n  }, {\n    drag: {\n      filterTaps: true,\n      threshold: 1,\n      ...(typeof dragConfig === 'object' ? dragConfig : {})\n    }\n  });\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  React.useLayoutEffect(() => {\n    if (!matrix) return;\n\n    // If the matrix is a real matrix4 it means that the user wants to control the gizmo\n    // In that case it should just be set, as a bare prop update would merely copy it\n    ref.current.matrix = matrix;\n  }, [matrix]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, bind(), {\n    matrix: matrix,\n    matrixAutoUpdate: false\n  }, props), children);\n});\n\nexport { DragControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { useThree, useFrame, context as context$1 } from '@react-three/fiber';\nimport { easing } from 'maath';\n\nconst context = /* @__PURE__ */React.createContext(null);\nfunction useScroll() {\n  return React.useContext(context);\n}\nfunction ScrollControls({\n  eps = 0.00001,\n  enabled = true,\n  infinite,\n  horizontal,\n  pages = 1,\n  distance = 1,\n  damping = 0.25,\n  maxSpeed = Infinity,\n  prepend = false,\n  style = {},\n  children\n}) {\n  const {\n    get,\n    setEvents,\n    gl,\n    size,\n    invalidate,\n    events\n  } = useThree();\n  const [el] = React.useState(() => document.createElement('div'));\n  const [fill] = React.useState(() => document.createElement('div'));\n  const [fixed] = React.useState(() => document.createElement('div'));\n  const target = gl.domElement.parentNode;\n  const scroll = React.useRef(0);\n  const state = React.useMemo(() => {\n    const state = {\n      el,\n      eps,\n      fill,\n      fixed,\n      horizontal,\n      damping,\n      offset: 0,\n      delta: 0,\n      scroll,\n      pages,\n      // 0-1 for a range between from -> from + distance\n      range(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset < start ? 0 : this.offset > end ? 1 : (this.offset - start) / (end - start);\n      },\n      // 0-1-0 for a range between from -> from + distance\n      curve(from, distance, margin = 0) {\n        return Math.sin(this.range(from, distance, margin) * Math.PI);\n      },\n      // true/false for a range between from -> from + distance\n      visible(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset >= start && this.offset <= end;\n      }\n    };\n    return state;\n  }, [eps, damping, horizontal, pages]);\n  React.useEffect(() => {\n    el.style.position = 'absolute';\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style[horizontal ? 'overflowX' : 'overflowY'] = 'auto';\n    el.style[horizontal ? 'overflowY' : 'overflowX'] = 'hidden';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    for (const key in style) {\n      el.style[key] = style[key];\n    }\n    fixed.style.position = 'sticky';\n    fixed.style.top = '0px';\n    fixed.style.left = '0px';\n    fixed.style.width = '100%';\n    fixed.style.height = '100%';\n    fixed.style.overflow = 'hidden';\n    el.appendChild(fixed);\n    fill.style.height = horizontal ? '100%' : `${pages * distance * 100}%`;\n    fill.style.width = horizontal ? `${pages * distance * 100}%` : '100%';\n    fill.style.pointerEvents = 'none';\n    el.appendChild(fill);\n    if (prepend) target.prepend(el);else target.appendChild(el);\n\n    // Init scroll one pixel in to allow upward/leftward scroll\n    el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n    const oldTarget = events.connected || gl.domElement;\n    requestAnimationFrame(() => events.connect == null ? void 0 : events.connect(el));\n    const oldCompute = get().events.compute;\n    setEvents({\n      compute(event, state) {\n        // we are using boundingClientRect because we could not rely on target.offsetTop as canvas could be positioned anywhere in dom\n        const {\n          left,\n          top\n        } = target.getBoundingClientRect();\n        const offsetX = event.clientX - left;\n        const offsetY = event.clientY - top;\n        state.pointer.set(offsetX / state.size.width * 2 - 1, -(offsetY / state.size.height) * 2 + 1);\n        state.raycaster.setFromCamera(state.pointer, state.camera);\n      }\n    });\n    return () => {\n      target.removeChild(el);\n      setEvents({\n        compute: oldCompute\n      });\n      events.connect == null || events.connect(oldTarget);\n    };\n  }, [pages, distance, horizontal, el, fill, fixed, target]);\n  React.useEffect(() => {\n    if (events.connected === el) {\n      const containerLength = size[horizontal ? 'width' : 'height'];\n      const scrollLength = el[horizontal ? 'scrollWidth' : 'scrollHeight'];\n      const scrollThreshold = scrollLength - containerLength;\n      let current = 0;\n      let disableScroll = true;\n      let firstRun = true;\n      const onScroll = () => {\n        // Prevent first scroll because it is indirectly caused by the one pixel offset\n        if (!enabled || firstRun) return;\n        invalidate();\n        current = el[horizontal ? 'scrollLeft' : 'scrollTop'];\n        scroll.current = current / scrollThreshold;\n        if (infinite) {\n          if (!disableScroll) {\n            if (current >= scrollThreshold) {\n              const damp = 1 - state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n              scroll.current = state.offset = -damp;\n              disableScroll = true;\n            } else if (current <= 0) {\n              const damp = 1 + state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = scrollLength;\n              scroll.current = state.offset = damp;\n              disableScroll = true;\n            }\n          }\n          if (disableScroll) setTimeout(() => disableScroll = false, 40);\n        }\n      };\n      el.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n      requestAnimationFrame(() => firstRun = false);\n      const onWheel = e => el.scrollLeft += e.deltaY / 2;\n      if (horizontal) el.addEventListener('wheel', onWheel, {\n        passive: true\n      });\n      return () => {\n        el.removeEventListener('scroll', onScroll);\n        if (horizontal) el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [el, events, size, infinite, state, invalidate, horizontal, enabled]);\n  let last = 0;\n  useFrame((_, delta) => {\n    last = state.offset;\n    easing.damp(state, 'offset', scroll.current, damping, delta, maxSpeed, undefined, eps);\n    easing.damp(state, 'delta', Math.abs(last - state.offset), damping, delta, maxSpeed, undefined, eps);\n    if (state.delta > eps) invalidate();\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, children);\n}\nconst ScrollCanvas = /* @__PURE__ */React.forwardRef(({\n  children\n}, ref) => {\n  const group = React.useRef(null);\n  React.useImperativeHandle(ref, () => group.current, []);\n  const state = useScroll();\n  const {\n    width,\n    height\n  } = useThree(state => state.viewport);\n  useFrame(() => {\n    group.current.position.x = state.horizontal ? -width * (state.pages - 1) * state.offset : 0;\n    group.current.position.y = state.horizontal ? 0 : height * (state.pages - 1) * state.offset;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: group\n  }, children);\n});\nconst ScrollHtml = /*#__PURE__*/React.forwardRef(({\n  children,\n  style,\n  ...props\n}, ref) => {\n  const state = useScroll();\n  const group = React.useRef(null);\n  React.useImperativeHandle(ref, () => group.current, []);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const fiberState = React.useContext(context$1);\n  const root = React.useMemo(() => ReactDOM.createRoot(state.fixed), [state.fixed]);\n  useFrame(() => {\n    if (state.delta > state.eps) {\n      group.current.style.transform = `translate3d(${state.horizontal ? -width * (state.pages - 1) * state.offset : 0}px,${state.horizontal ? 0 : height * (state.pages - 1) * -state.offset}px,0)`;\n    }\n  });\n  root.render(/*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: group,\n    style: {\n      ...style,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      willChange: 'transform'\n    }\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(context$1.Provider, {\n    value: fiberState\n  }, children))));\n  return null;\n});\nconst Scroll = /* @__PURE__ */React.forwardRef(({\n  html,\n  ...props\n}, ref) => {\n  const El = html ? ScrollHtml : ScrollCanvas;\n  return /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref\n  }, props));\n});\n\nexport { Scroll, ScrollControls, useScroll };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useGesture } from '@use-gesture/react';\nimport { easing } from 'maath';\n\nfunction PresentationControls({\n  enabled = true,\n  snap,\n  global,\n  domElement,\n  cursor = true,\n  children,\n  speed = 1,\n  rotation = [0, 0, 0],\n  zoom = 1,\n  polar = [0, Math.PI / 2],\n  azimuth = [-Infinity, Infinity],\n  damping = 0.25\n}) {\n  const events = useThree(state => state.events);\n  const gl = useThree(state => state.gl);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const {\n    size\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  React.useEffect(() => {\n    if (global && cursor && enabled) {\n      explDomElement.style.cursor = 'grab';\n      gl.domElement.style.cursor = '';\n      return () => {\n        explDomElement.style.cursor = 'default';\n        gl.domElement.style.cursor = 'default';\n      };\n    }\n  }, [global, cursor, explDomElement, enabled]);\n  const [animation] = React.useState({\n    scale: 1,\n    rotation: rInitial,\n    damping\n  });\n  const ref = React.useRef(null);\n  useFrame((state, delta) => {\n    easing.damp3(ref.current.scale, animation.scale, animation.damping, delta);\n    easing.dampE(ref.current.rotation, animation.rotation, animation.damping, delta);\n  });\n  const bind = useGesture({\n    onHover: ({\n      last\n    }) => {\n      if (cursor && !global && enabled) explDomElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: ({\n      down,\n      delta: [x, y],\n      memo: [oldY, oldX] = animation.rotation || rInitial\n    }) => {\n      if (!enabled) return [y, x];\n      if (cursor) explDomElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      animation.scale = down && y > rPolar[1] / 2 ? zoom : 1;\n      animation.rotation = snap && !down ? rInitial : [y, x, 0];\n      animation.damping = snap && !down && typeof snap !== 'boolean' ? snap : damping;\n      return [y, x];\n    }\n  }, {\n    target: global ? explDomElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, bind == null ? void 0 : bind()), children);\n}\n\nexport { PresentationControls };\n", "import * as React from 'react';\nimport { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\n// These are removed in Zustand v4\n// unknown\n\n// Zustand v3 marked deprecations in 3.x, but there's no visible upgrade path\n\nconst context = /* @__PURE__ */React.createContext(null);\nfunction KeyboardControls({\n  map,\n  children,\n  onChange,\n  domElement\n}) {\n  const key = map.map(item => item.name + item.keys).join('-');\n  const useControls = React.useMemo(() => {\n    return create(subscribeWithSelector(() => map.reduce((prev, cur) => ({\n      ...prev,\n      [cur.name]: false\n    }), {})));\n  }, [key]);\n  const api = React.useMemo(() => [useControls.subscribe, useControls.getState, useControls], [key]);\n  const set = useControls.setState;\n  React.useEffect(() => {\n    const config = map.map(({\n      name,\n      keys,\n      up\n    }) => ({\n      keys,\n      up,\n      fn: value => {\n        // Set zustand state\n        set({\n          [name]: value\n        });\n        // Inform callback\n        if (onChange) onChange(name, value, api[1]());\n      }\n    }));\n    const keyMap = config.reduce((out, {\n      keys,\n      fn,\n      up = true\n    }) => {\n      keys.forEach(key => out[key] = {\n        fn,\n        pressed: false,\n        up\n      });\n      return out;\n    }, {});\n    const downHandler = ({\n      key,\n      code\n    }) => {\n      const obj = keyMap[key] || keyMap[code];\n      if (!obj) return;\n      const {\n        fn,\n        pressed,\n        up\n      } = obj;\n      obj.pressed = true;\n      if (up || !pressed) fn(true);\n    };\n    const upHandler = ({\n      key,\n      code\n    }) => {\n      const obj = keyMap[key] || keyMap[code];\n      if (!obj) return;\n      const {\n        fn,\n        up\n      } = obj;\n      obj.pressed = false;\n      if (up) fn(false);\n    };\n    const source = domElement || window;\n    source.addEventListener('keydown', downHandler, {\n      passive: true\n    });\n    source.addEventListener('keyup', upHandler, {\n      passive: true\n    });\n    return () => {\n      source.removeEventListener('keydown', downHandler);\n      source.removeEventListener('keyup', upHandler);\n    };\n  }, [domElement, key]);\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: api,\n    children: children\n  });\n}\nfunction useKeyboardControls(sel) {\n  const [sub, get, store] = React.useContext(context);\n  if (sel) return store(sel);else return [sub, get];\n}\n\nexport { KeyboardControls, useKeyboardControls };\n", "const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === undefined) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === undefined ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === undefined) {\n      connection == null ? undefined : connection.send(action, get());\n      return r;\n    }\n    connection == null ? undefined : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? undefined : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? undefined : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : undefined) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === undefined) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === undefined || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === undefined) {\n              return connection == null ? undefined : connection.init(api.getState());\n            }\n            return connection == null ? undefined : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === undefined) {\n              connection == null ? undefined : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? undefined : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === undefined) {\n                setStateFromDevtools(state);\n                connection == null ? undefined : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? undefined : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === undefined) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? undefined : _a.state;\n            if (!lastComputedState) return;\n            if (store === undefined) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? undefined : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== undefined) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? undefined : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? undefined : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? undefined : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? undefined : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? undefined : _b.call(options, (_a = get()) != null ? _a : configResult)) || undefined;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, undefined];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? undefined : postRehydrationCallback(stateFromStorage, undefined);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? undefined : postRehydrationCallback(undefined, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? undefined : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport { shallow } from 'zustand/shallow';\n\nconst context = /* @__PURE__ */React.createContext([]);\nfunction Select({\n  box,\n  multiple,\n  children,\n  onChange,\n  onChangePointerUp,\n  border = '1px solid #55aaff',\n  backgroundColor = 'rgba(75, 160, 255, 0.1)',\n  filter: customFilter = item => item,\n  ...props\n}) {\n  const [downed, down] = React.useState(false);\n  const {\n    setEvents,\n    camera,\n    raycaster,\n    gl,\n    controls,\n    size,\n    get\n  } = useThree();\n  const [hovered, hover] = React.useState(false);\n  const [active, dispatch] = React.useReducer(\n  // @ts-expect-error\n  (state, {\n    object,\n    shift\n  }) => {\n    if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];\n    // @ts-expect-error\n    else if (state.includes(object)) return state.filter(o => o !== object);else return [object, ...state];\n  }, []);\n  React.useEffect(() => {\n    if (downed) onChange == null || onChange(active);else onChangePointerUp == null || onChangePointerUp(active);\n  }, [active, downed]);\n  const onClick = React.useCallback(e => {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  const onPointerMissed = React.useCallback(e => !hovered && dispatch({}), [hovered]);\n  const ref = React.useRef(null);\n  React.useEffect(() => {\n    if (!box || !multiple) return;\n    const selBox = new SelectionBox(camera, ref.current);\n    const element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    const startPoint = new THREE.Vector2();\n    const pointTopLeft = new THREE.Vector2();\n    const pointBottomRight = new THREE.Vector2();\n    const oldRaycasterEnabled = get().events.enabled;\n    const oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    let isDown = false;\n    function prepareRay(event, vec) {\n      const {\n        offsetX,\n        offsetY\n      } = event;\n      const {\n        width,\n        height\n      } = size;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n      if (controls) controls.enabled = false;\n      setEvents({\n        enabled: false\n      });\n      down(isDown = true);\n      (_gl$domElement$parent = gl.domElement.parentElement) == null || _gl$domElement$parent.appendChild(element);\n      element.style.left = `${event.clientX}px`;\n      element.style.top = `${event.clientY}px`;\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = `${pointTopLeft.x}px`;\n      element.style.top = `${pointTopLeft.y}px`;\n      element.style.width = `${pointBottomRight.x - pointTopLeft.x}px`;\n      element.style.height = `${pointBottomRight.y - pointTopLeft.y}px`;\n    }\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n        if (controls) controls.enabled = oldControlsEnabled;\n        setEvents({\n          enabled: oldRaycasterEnabled\n        });\n        down(isDown = false);\n        (_element$parentElemen = element.parentElement) == null || _element$parentElemen.removeChild(element);\n      }\n    }\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n    let previous = [];\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        const allSelected = selBox.select().sort(o => o.uuid).filter(o => o.isMesh);\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return () => {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove, true);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size.width, size.height, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: () => hover(true),\n    onPointerOut: () => hover(false),\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\n\n// The return type is explicitly declared here because otherwise TypeScript will emit `THREE.Object3D<THREE.Event>[]`.\n// The meaning of the generic parameter for `Object3D` was changed in r156, so it should not be included so that it\n// works with all versions of @types/three.\nfunction useSelect() {\n  return React.useContext(context);\n}\n\nexport { Select, useSelect };\n", "const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (!isIterable(valueA) || !isIterable(valueB)) {\n    return compareEntries(\n      { entries: () => Object.entries(valueA) },\n      { entries: () => Object.entries(valueB) }\n    );\n  }\n  if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n    return compareEntries(valueA, valueB);\n  }\n  return compareIterables(valueA, valueB);\n}\n\nexport { shallow };\n", "import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef(undefined);\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Quaternion } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\n/**\n * Wraps children in a billboarded group. Sample usage:\n *\n * ```js\n * <Billboard>\n *   <Text>hi</Text>\n * </Billboard>\n * ```\n */\nconst Billboard = /* @__PURE__ */React.forwardRef(function Billboard({\n  children,\n  follow = true,\n  lockX = false,\n  lockY = false,\n  lockZ = false,\n  ...props\n}, fref) {\n  const inner = React.useRef(null);\n  const localRef = React.useRef(null);\n  const q = new Quaternion();\n  useFrame(({\n    camera\n  }) => {\n    if (!follow || !localRef.current) return;\n\n    // save previous rotation in case we're locking an axis\n    const prevRotation = inner.current.rotation.clone();\n\n    // always face the camera\n    localRef.current.updateMatrix();\n    localRef.current.updateWorldMatrix(false, false);\n    localRef.current.getWorldQuaternion(q);\n    camera.getWorldQuaternion(inner.current.quaternion).premultiply(q.invert());\n\n    // readjust any axis that is locked\n    if (lockX) inner.current.rotation.x = prevRotation.x;\n    if (lockY) inner.current.rotation.y = prevRotation.y;\n    if (lockZ) inner.current.rotation.z = prevRotation.z;\n  });\n  React.useImperativeHandle(fref, () => localRef.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: localRef\n  }, props), /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children));\n});\n\nexport { Billboard };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nconst ScreenSpace = /* @__PURE__ */React.forwardRef(({\n  children,\n  depth = -1,\n  ...rest\n}, ref) => {\n  const localRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => localRef.current, []);\n  useFrame(({\n    camera\n  }) => {\n    localRef.current.quaternion.copy(camera.quaternion);\n    localRef.current.position.copy(camera.position);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: localRef\n  }, rest), /*#__PURE__*/React.createElement(\"group\", {\n    \"position-z\": -depth\n  }, children));\n});\n\nexport { ScreenSpace };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { forwardRef, useRef } from 'react';\nimport { Vector3 } from 'three';\nimport { calculateScaleFactor } from './calculateScaleFactor.js';\n\nconst worldPos = /* @__PURE__ */new Vector3();\n/**\n * Wraps children in an `Object3D` and attempts to scale from\n * world units to screen units * scale factor.\n *\n * For example, this will render a box of roughly 1x1 pixel size,\n * independently of how far the camera is.\n *\n * ```jsx\n * <ScreenSizer>\n *   <Box />\n * </ScreenSizer>\n * ```\n */\nconst ScreenSizer = /* @__PURE__ */forwardRef(({\n  scale = 1,\n  ...props\n}, ref) => {\n  const container = useRef(null);\n  React.useImperativeHandle(ref, () => container.current, []);\n  useFrame(state => {\n    const obj = container.current;\n    if (!obj) return;\n    const sf = calculateScaleFactor(obj.getWorldPosition(worldPos), scale, state.camera, state.size);\n    obj.scale.setScalar(sf * scale);\n  });\n  return /*#__PURE__*/React.createElement(\"object3D\", _extends({\n    ref: container\n  }, props));\n});\n\nexport { ScreenSizer };\n", "import * as THREE from 'three';\n\nconst tV0 = /* @__PURE__ */new THREE.Vector3();\nconst tV1 = /* @__PURE__ */new THREE.Vector3();\nconst tV2 = /* @__PURE__ */new THREE.Vector3();\nconst getPoint2 = (point3, camera, size) => {\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  camera.updateMatrixWorld(false);\n  const vector = point3.project(camera);\n  vector.x = vector.x * widthHalf + widthHalf;\n  vector.y = -(vector.y * heightHalf) + heightHalf;\n  return vector;\n};\nconst getPoint3 = (point2, camera, size, zValue = 1) => {\n  const vector = tV0.set(point2.x / size.width * 2 - 1, -(point2.y / size.height) * 2 + 1, zValue);\n  vector.unproject(camera);\n  return vector;\n};\nconst calculateScaleFactor = (point3, radiusPx, camera, size) => {\n  const point2 = getPoint2(tV2.copy(point3), camera, size);\n  let scale = 0;\n  for (let i = 0; i < 2; ++i) {\n    const point2off = tV1.copy(point2).setComponent(i, point2.getComponent(i) + radiusPx);\n    const point3off = getPoint3(point2off, camera, size, point2off.z);\n    scale = Math.max(scale, point3.distanceTo(point3off));\n  }\n  return scale;\n};\n\nexport { calculateScaleFactor };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { QuadraticBezierCurve3, Vector3 } from 'three';\nimport { Line } from './Line.js';\n\nconst v = /* @__PURE__ */new Vector3();\nconst QuadraticBezierLine = /* @__PURE__ */React.forwardRef(function QuadraticBezierLine({\n  start = [0, 0, 0],\n  end = [0, 0, 0],\n  mid,\n  segments = 20,\n  ...rest\n}, forwardref) {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardref, () => ref.current);\n  const [curve] = React.useState(() => new QuadraticBezierCurve3(undefined, undefined, undefined));\n  const getPoints = React.useCallback((start, end, mid, segments = 20) => {\n    if (start instanceof Vector3) curve.v0.copy(start);else curve.v0.set(...start);\n    if (end instanceof Vector3) curve.v2.copy(end);else curve.v2.set(...end);\n    if (mid instanceof Vector3) {\n      curve.v1.copy(mid);\n    } else if (Array.isArray(mid)) {\n      curve.v1.set(...mid);\n    } else {\n      curve.v1.copy(curve.v0.clone().add(curve.v2.clone().sub(curve.v0)).add(v.set(0, curve.v0.y - curve.v2.y, 0)));\n    }\n    return curve.getPoints(segments);\n  }, []);\n  React.useLayoutEffect(() => {\n    ref.current.setPoints = (start, end, mid) => {\n      const points = getPoints(start, end, mid);\n      if (ref.current.geometry) ref.current.geometry.setPositions(points.map(p => p.toArray()).flat());\n    };\n  }, []);\n  const points = React.useMemo(() => getPoints(start, end, mid, segments), [start, end, mid, segments]);\n  return /*#__PURE__*/React.createElement(Line, _extends({\n    ref: ref,\n    points: points\n  }, rest));\n});\n\nexport { QuadraticBezierLine };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, Vector4, Vector2, Color } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { LineSegments2, Line2, LineMaterial, LineSegmentsGeometry, LineGeometry } from 'three-stdlib';\n\nconst Line = /* @__PURE__ */React.forwardRef(function Line({\n  points,\n  color = 0xffffff,\n  vertexColors,\n  linewidth,\n  lineWidth,\n  segments,\n  dashed,\n  ...rest\n}, ref) {\n  var _vertexColors$, _ref;\n  const size = useThree(state => state.size);\n  const line2 = React.useMemo(() => segments ? new LineSegments2() : new Line2(), [segments]);\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const itemSize = (vertexColors == null || (_vertexColors$ = vertexColors[0]) == null ? void 0 : _vertexColors$.length) === 4 ? 4 : 3;\n  const lineGeom = React.useMemo(() => {\n    const geom = segments ? new LineSegmentsGeometry() : new LineGeometry();\n    const pValues = points.map(p => {\n      const isArray = Array.isArray(p);\n      return p instanceof Vector3 || p instanceof Vector4 ? [p.x, p.y, p.z] : p instanceof Vector2 ? [p.x, p.y, 0] : isArray && p.length === 3 ? [p[0], p[1], p[2]] : isArray && p.length === 2 ? [p[0], p[1], 0] : p;\n    });\n    geom.setPositions(pValues.flat());\n    if (vertexColors) {\n      // using vertexColors requires the color value to be white see #1813\n      color = 0xffffff;\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat(), itemSize);\n    }\n    return geom;\n  }, [points, segments, vertexColors, itemSize]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => {\n      lineGeom.dispose();\n      lineMaterial.dispose();\n    };\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: [size.width, size.height],\n    linewidth: (_ref = linewidth !== null && linewidth !== void 0 ? linewidth : lineWidth) !== null && _ref !== void 0 ? _ref : 1,\n    dashed: dashed,\n    transparent: itemSize === 4\n  }, rest)));\n});\n\nexport { Line };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CubicBezierCurve3 } from 'three';\nimport { Line } from './Line.js';\n\nconst CubicBezierLine = /* @__PURE__ */React.forwardRef(function CubicBezierLine({\n  start,\n  end,\n  midA,\n  midB,\n  segments = 20,\n  ...rest\n}, ref) {\n  const points = React.useMemo(() => {\n    const startV = start instanceof Vector3 ? start : new Vector3(...start);\n    const endV = end instanceof Vector3 ? end : new Vector3(...end);\n    const midAV = midA instanceof Vector3 ? midA : new Vector3(...midA);\n    const midBV = midB instanceof Vector3 ? midB : new Vector3(...midB);\n    const interpolatedV = new CubicBezierCurve3(startV, midAV, midBV, endV).getPoints(segments);\n    return interpolatedV;\n  }, [start, end, midA, midB, segments]);\n  return /*#__PURE__*/React.createElement(Line, _extends({\n    ref: ref,\n    points: points\n  }, rest));\n});\n\nexport { CubicBezierLine };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CatmullRomCurve3, Color } from 'three';\nimport { Line } from './Line.js';\n\nconst CatmullRomLine = /* @__PURE__ */React.forwardRef(function CatmullRomLine({\n  points,\n  closed = false,\n  curveType = 'centripetal',\n  tension = 0.5,\n  segments = 20,\n  vertexColors,\n  ...rest\n}, ref) {\n  const curve = React.useMemo(() => {\n    const mappedPoints = points.map(pt => pt instanceof Vector3 ? pt : new Vector3(...pt));\n    return new CatmullRomCurve3(mappedPoints, closed, curveType, tension);\n  }, [points, closed, curveType, tension]);\n  const segmentedPoints = React.useMemo(() => curve.getPoints(segments), [curve, segments]);\n  const interpolatedVertexColors = React.useMemo(() => {\n    if (!vertexColors || vertexColors.length < 2) return undefined;\n    if (vertexColors.length === segments + 1) return vertexColors;\n    const mappedColors = vertexColors.map(color => color instanceof Color ? color : new Color(...color));\n    if (closed) mappedColors.push(mappedColors[0].clone());\n    const iColors = [mappedColors[0]];\n    const divisions = segments / (mappedColors.length - 1);\n    for (let i = 1; i < segments; i++) {\n      const alpha = i % divisions / divisions;\n      const colorIndex = Math.floor(i / divisions);\n      iColors.push(mappedColors[colorIndex].clone().lerp(mappedColors[colorIndex + 1], alpha));\n    }\n    iColors.push(mappedColors[mappedColors.length - 1]);\n    return iColors;\n  }, [vertexColors, segments]);\n  return /*#__PURE__*/React.createElement(Line, _extends({\n    ref: ref,\n    points: segmentedPoints,\n    vertexColors: interpolatedVertexColors\n  }, rest));\n});\n\nexport { CatmullRomLine };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { AudioListener, AudioLoader } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\n\nconst PositionalAudio = /* @__PURE__ */React.forwardRef(({\n  url,\n  distance = 1,\n  loop = true,\n  autoplay,\n  ...props\n}, ref) => {\n  const sound = React.useRef(null);\n  React.useImperativeHandle(ref, () => sound.current, []);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const [listener] = React.useState(() => new AudioListener());\n  const buffer = useLoader(AudioLoader, url);\n  React.useEffect(() => {\n    const _sound = sound.current;\n    if (_sound) {\n      _sound.setBuffer(buffer);\n      _sound.setRefDistance(distance);\n      _sound.setLoop(loop);\n      if (autoplay && !_sound.isPlaying) _sound.play();\n    }\n  }, [buffer, camera, distance, loop]);\n  React.useEffect(() => {\n    const _sound = sound.current;\n    camera.add(listener);\n    return () => {\n      camera.remove(listener);\n      if (_sound) {\n        if (_sound.isPlaying) _sound.stop();\n        if (_sound.source && _sound.source._connected) _sound.disconnect();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"positionalAudio\", _extends({\n    ref: sound,\n    args: [listener]\n  }, props));\n});\n\nexport { PositionalAudio };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Text as Text$1, preloadFont } from 'troika-three-text';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nconst Text = /* @__PURE__ */React.forwardRef(({\n  sdfGlyphSize = 64,\n  anchorX = 'center',\n  anchorY = 'middle',\n  font,\n  fontSize = 1,\n  children,\n  characters,\n  onSync,\n  ...props\n}, ref) => {\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const [troikaMesh] = React.useState(() => new Text$1());\n  const [nodes, text] = React.useMemo(() => {\n    const n = [];\n    let t = '';\n    React.Children.forEach(children, child => {\n      if (typeof child === 'string' || typeof child === 'number') {\n        t += child;\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children]);\n  suspend(() => new Promise(res => preloadFont({\n    font,\n    characters\n  }, res)), ['troika-text', font, characters]);\n  React.useLayoutEffect(() => void troikaMesh.sync(() => {\n    invalidate();\n    if (onSync) onSync(troikaMesh);\n  }));\n  React.useEffect(() => {\n    return () => troikaMesh.dispose();\n  }, [troikaMesh]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: troikaMesh,\n    ref: ref,\n    font: font,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY,\n    fontSize: fontSize,\n    sdfGlyphSize: sdfGlyphSize\n  }, props), nodes);\n});\n\nexport { Text };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { extend } from '@react-three/fiber';\nimport { TextGeometry, mergeVertices } from 'three-stdlib';\nimport { useFont } from './useFont.js';\n\nconst types = ['string', 'number'];\nconst getTextFromChildren = children => {\n  let label = '';\n  const rest = [];\n  React.Children.forEach(children, child => {\n    if (types.includes(typeof child)) label += child + '';else rest.push(child);\n  });\n  return [label, ...rest];\n};\nconst Text3D = /* @__PURE__ */React.forwardRef(({\n  font: _font,\n  letterSpacing = 0,\n  lineHeight = 1,\n  size = 1,\n  height = 0.2,\n  bevelThickness = 0.1,\n  bevelSize = 0.01,\n  bevelEnabled = false,\n  bevelOffset = 0,\n  bevelSegments = 4,\n  curveSegments = 8,\n  smooth,\n  children,\n  ...props\n}, fref) => {\n  React.useMemo(() => extend({\n    RenamedTextGeometry: TextGeometry\n  }), []);\n  const ref = React.useRef(null);\n  const font = useFont(_font);\n  const opts = useMemo(() => {\n    return {\n      font,\n      size,\n      height,\n      bevelThickness,\n      bevelSize,\n      bevelEnabled,\n      bevelSegments,\n      bevelOffset,\n      curveSegments,\n      letterSpacing,\n      lineHeight\n    };\n  }, [font, size, height, bevelThickness, bevelSize, bevelEnabled, bevelSegments, bevelOffset, curveSegments, letterSpacing, lineHeight]);\n\n  /**\n   * We need the `children` in the deps because we\n   * need to be able to do `<Text3d>{state}</Text3d>`.\n   */\n  const [label, ...rest] = useMemo(() => getTextFromChildren(children), [children]);\n  const args = React.useMemo(() => [label, opts], [label, opts]);\n  React.useLayoutEffect(() => {\n    if (smooth) {\n      ref.current.geometry = mergeVertices(ref.current.geometry, smooth);\n      ref.current.geometry.computeVertexNormals();\n    }\n  }, [args, smooth]);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({}, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"renamedTextGeometry\", {\n    args: args\n  }), rest);\n});\n\nexport { Text3D };\n", "import { FontLoader } from 'three-stdlib';\nimport { suspend, preload, clear } from 'suspend-react';\n\nlet fontLoader = null;\nasync function loadFontData(font) {\n  return typeof font === 'string' ? await (await fetch(font)).json() : font;\n}\nfunction parseFontData(fontData) {\n  if (!fontLoader) {\n    fontLoader = new FontLoader();\n  }\n  return fontLoader.parse(fontData);\n}\nasync function loader(font) {\n  const data = await loadFontData(font);\n  return parseFontData(data);\n}\nfunction useFont(font) {\n  return suspend(loader, [font]);\n}\nuseFont.preload = font => preload(loader, [font]);\nuseFont.clear = font => clear([font]);\n\nexport { useFont };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, HalfFloatType, RGBAFormat, UnsignedByteType } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\n\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /* @__PURE__ */React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableRender,\n  disableGamma,\n  disableRenderPass,\n  depthBuffer = true,\n  stencilBuffer = false,\n  anisotropy = 1,\n  colorSpace,\n  type,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    EffectComposer,\n    RenderPass,\n    ShaderPass\n  }), []);\n  const composer = React.useRef(null);\n  React.useImperativeHandle(ref, () => composer.current, []);\n  const {\n    scene,\n    camera,\n    gl,\n    size,\n    viewport\n  } = useThree();\n  const [target] = React.useState(() => {\n    const t = new WebGLRenderTarget(size.width, size.height, {\n      type: type || HalfFloatType,\n      format: RGBAFormat,\n      depthBuffer,\n      stencilBuffer,\n      anisotropy\n    });\n\n    // sRGB textures must be RGBA8 since r137 https://github.com/mrdoob/three.js/pull/23129\n    if (type === UnsignedByteType && colorSpace != null) {\n      t.texture.colorSpace = colorSpace;\n    }\n    t.samples = multisamping;\n    return t;\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n    (_composer$current = composer.current) == null || _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null || _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(() => {\n    var _composer$current3;\n    if (!disableRender) (_composer$current3 = composer.current) == null || _composer$current3.render();\n  }, renderIndex);\n  const passes = [];\n  if (!disableRenderPass) passes.push(/*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    attach: `passes-${passes.length}`,\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push(/*#__PURE__*/React.createElement(\"shaderPass\", {\n    attach: `passes-${passes.length}`,\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, el => {\n    el && passes.push(/*#__PURE__*/React.cloneElement(el, {\n      key: passes.length,\n      attach: `passes-${passes.length}`\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: composer,\n    args: [gl, target]\n  }, props), passes);\n});\n\nexport { Effects, isWebGL2Available };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport * as THREE from 'three';\n\nlet GradientType = /*#__PURE__*/function (GradientType) {\n  GradientType[\"Linear\"] = \"linear\";\n  GradientType[\"Radial\"] = \"radial\";\n  return GradientType;\n}({});\nfunction GradientTexture({\n  stops,\n  colors,\n  size = 1024,\n  width = 16,\n  type = GradientType.Linear,\n  innerCircleRadius = 0,\n  outerCircleRadius = 'auto',\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const canvas = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    canvas.width = width;\n    canvas.height = size;\n    let gradient;\n    if (type === GradientType.Linear) {\n      gradient = context.createLinearGradient(0, 0, 0, size);\n    } else {\n      const canvasCenterX = canvas.width / 2;\n      const canvasCenterY = canvas.height / 2;\n      const radius = outerCircleRadius !== 'auto' ? Math.abs(Number(outerCircleRadius)) : Math.sqrt(canvasCenterX ** 2 + canvasCenterY ** 2);\n      gradient = context.createRadialGradient(canvasCenterX, canvasCenterY, Math.abs(innerCircleRadius), canvasCenterX, canvasCenterY, radius);\n    }\n    const tempColor = new THREE.Color(); // reuse instance for performance\n    let i = stops.length;\n    while (i--) {\n      gradient.addColorStop(stops[i], tempColor.set(colors[i]).getStyle());\n    }\n    context.save();\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, width, size);\n    context.restore();\n    return canvas;\n  }, [stops]);\n  return /*#__PURE__*/React.createElement(\"canvasTexture\", _extends({\n    colorSpace: gl.outputColorSpace,\n    args: [canvas],\n    attach: \"map\"\n  }, props));\n}\n\nexport { GradientTexture, GradientType };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { useTexture } from './Texture.js';\nimport { version } from '../helpers/constants.js';\n\n// {texture: THREE.Texture} XOR {url: string}\n\nconst ImageMaterialImpl = /* @__PURE__ */shaderMaterial({\n  color: /* @__PURE__ */new THREE.Color('white'),\n  scale: /* @__PURE__ */new THREE.Vector2(1, 1),\n  imageBounds: /* @__PURE__ */new THREE.Vector2(1, 1),\n  resolution: 1024,\n  map: null,\n  zoom: 1,\n  radius: 0,\n  grayscale: 0,\n  opacity: 1\n}, /* glsl */`\n  varying vec2 vUv;\n  varying vec2 vPos;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n    vPos = position.xy;\n  }\n`, /* glsl */`\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  varying vec2 vPos;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform float resolution;\n  uniform vec3 color;\n  uniform sampler2D map;\n  uniform float radius;\n  uniform float zoom;\n  uniform float grayscale;\n  uniform float opacity;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  \n  const float PI = 3.14159265;\n    \n  // from https://iquilezles.org/articles/distfunctions\n  float udRoundBox( vec2 p, vec2 b, float r ) {\n    return length(max(abs(p)-b+r,0.0))-r;\n  }\n\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n\n    vec2 res = vec2(scale * resolution);\n    vec2 halfRes = 0.5 * res;\n    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    \n\t  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);\n    \n    #include <tonemapping_fragment>\n    #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n  }\n`);\nconst ImageBase = /* @__PURE__ */React.forwardRef(({\n  children,\n  color,\n  segments = 1,\n  scale = 1,\n  zoom = 1,\n  grayscale = 0,\n  opacity = 1,\n  radius = 0,\n  texture,\n  toneMapped,\n  transparent,\n  side,\n  ...props\n}, fref) => {\n  extend({\n    ImageMaterial: ImageMaterialImpl\n  });\n  const ref = React.useRef(null);\n  const size = useThree(state => state.size);\n  const planeBounds = Array.isArray(scale) ? [scale[0], scale[1]] : [scale, scale];\n  const imageBounds = [texture.image.width, texture.image.height];\n  const resolution = Math.max(size.width, size.height);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  React.useLayoutEffect(() => {\n    // Support arbitrary plane geometries (for instance with rounded corners)\n    // @ts-ignore\n    if (ref.current.geometry.parameters) {\n      // @ts-ignore\n      ref.current.material.scale.set(\n      // @ts-ignore\n      planeBounds[0] * ref.current.geometry.parameters.width,\n      // @ts-ignore\n      planeBounds[1] * ref.current.geometry.parameters.height);\n    }\n    /* eslint react-hooks/exhaustive-deps: 1 */\n  }, [planeBounds[0], planeBounds[1]]);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    scale: Array.isArray(scale) ? [...scale, 1] : scale\n  }, props), /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: [1, 1, segments, segments]\n  }), /*#__PURE__*/React.createElement(\"imageMaterial\", {\n    color: color,\n    map: texture,\n    zoom: zoom,\n    grayscale: grayscale,\n    opacity: opacity,\n    scale: planeBounds,\n    imageBounds: imageBounds,\n    resolution: resolution,\n    radius: radius,\n    toneMapped: toneMapped,\n    transparent: transparent,\n    side: side,\n    key: ImageMaterialImpl.key\n  }), children);\n});\nconst ImageWithUrl = /* @__PURE__ */React.forwardRef(({\n  url,\n  ...props\n}, ref) => {\n  const texture = useTexture(url);\n  return /*#__PURE__*/React.createElement(ImageBase, _extends({}, props, {\n    texture: texture,\n    ref: ref\n  }));\n});\nconst ImageWithTexture = /* @__PURE__ */React.forwardRef(({\n  url: _url,\n  ...props\n}, ref) => {\n  return /*#__PURE__*/React.createElement(ImageBase, _extends({}, props, {\n    ref: ref\n  }));\n});\nconst Image = /* @__PURE__ */React.forwardRef((props, ref) => {\n  if (props.url) return /*#__PURE__*/React.createElement(ImageWithUrl, _extends({}, props, {\n    ref: ref\n  }));else if (props.texture) return /*#__PURE__*/React.createElement(ImageWithTexture, _extends({}, props, {\n    ref: ref\n  }));else throw new Error('<Image /> requires a url or texture');\n});\n\nexport { Image };\n", "import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  var _Class;\n  return _Class = class extends THREE.ShaderMaterial {\n    constructor(parameters) {\n      super({\n        vertexShader,\n        fragmentShader,\n        ...parameters\n      });\n      for (const key in uniforms) {\n        this.uniforms[key] = new THREE.Uniform(uniforms[key]);\n        Object.defineProperty(this, key, {\n          get() {\n            return this.uniforms[key].value;\n          },\n          set(value) {\n            this.uniforms[key].value = value;\n          }\n        });\n      }\n      this.uniforms = THREE.UniformsUtils.clone(this.uniforms);\n      onInit == null || onInit(this);\n    }\n  }, _Class.key = THREE.MathUtils.generateUUID(), _Class;\n}\n\nexport { shaderMaterial };\n", "import * as React from 'react';\nimport { useLayoutEffect, useEffect, useMemo } from 'react';\nimport { TextureLoader, Texture as Texture$1 } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\n\nconst IsObject = url => url === Object(url) && !Array.isArray(url) && typeof url !== 'function';\nfunction useTexture(input, onLoad) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(TextureLoader, IsObject(input) ? Object.values(input) : input);\n  useLayoutEffect(() => {\n    onLoad == null || onLoad(textures);\n  }, [onLoad]);\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  // NOTE: only available for WebGLRenderer\n  useEffect(() => {\n    if ('initTexture' in gl) {\n      let textureArray = [];\n      if (Array.isArray(textures)) {\n        textureArray = textures;\n      } else if (textures instanceof Texture$1) {\n        textureArray = [textures];\n      } else if (IsObject(textures)) {\n        textureArray = Object.values(textures);\n      }\n      textureArray.forEach(texture => {\n        if (texture instanceof Texture$1) {\n          gl.initTexture(texture);\n        }\n      });\n    }\n  }, [gl, textures]);\n  const mappedTextures = useMemo(() => {\n    if (IsObject(input)) {\n      const keyed = {};\n      let i = 0;\n      for (const key in input) keyed[key] = textures[i++];\n      return keyed;\n    } else {\n      return textures;\n    }\n  }, [input, textures]);\n  return mappedTextures;\n}\nuseTexture.preload = url => useLoader.preload(TextureLoader, url);\nuseTexture.clear = input => useLoader.clear(TextureLoader, input);\n\n//\n\nconst Texture = ({\n  children,\n  input,\n  onLoad\n}) => {\n  const ret = useTexture(input, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(ret));\n};\n\nexport { IsObject, Texture, useTexture };\n", "import { REVISION } from 'three';\n\nconst getVersion = () => parseInt(REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */getVersion();\n\nexport { version };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { Line } from './Line.js';\n\nconst Edges = /* @__PURE__ */React.forwardRef(({\n  threshold = 15,\n  geometry: explicitGeometry,\n  ...props\n}, fref) => {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  const tmpPoints = React.useMemo(() => [0, 0, 0, 1, 0, 0], []);\n  const memoizedGeometry = React.useRef(null);\n  const memoizedThreshold = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = ref.current.parent;\n    const geometry = explicitGeometry !== null && explicitGeometry !== void 0 ? explicitGeometry : parent == null ? void 0 : parent.geometry;\n    if (!geometry) return;\n    const cached = memoizedGeometry.current === geometry && memoizedThreshold.current === threshold;\n    if (cached) return;\n    memoizedGeometry.current = geometry;\n    memoizedThreshold.current = threshold;\n    const points = new THREE.EdgesGeometry(geometry, threshold).attributes.position.array;\n    ref.current.geometry.setPositions(points);\n    ref.current.geometry.attributes.instanceStart.needsUpdate = true;\n    ref.current.geometry.attributes.instanceEnd.needsUpdate = true;\n    ref.current.computeLineDistances();\n  });\n  return /*#__PURE__*/React.createElement(Line, _extends({\n    segments: true,\n    points: tmpPoints,\n    ref: ref,\n    raycast: () => null\n  }, props));\n});\n\nexport { Edges };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { useThree, extend, applyProps } from '@react-three/fiber';\nimport { toCreasedNormals } from 'three-stdlib';\nimport { version } from '../helpers/constants.js';\n\nconst OutlinesMaterial = /* @__PURE__ */shaderMaterial({\n  screenspace: false,\n  color: /* @__PURE__ */new THREE.Color('black'),\n  opacity: 1,\n  thickness: 0.05,\n  size: /* @__PURE__ */new THREE.Vector2()\n}, `#include <common>\n   #include <morphtarget_pars_vertex>\n   #include <skinning_pars_vertex>\n   #include <clipping_planes_pars_vertex>\n   uniform float thickness;\n   uniform bool screenspace;\n   uniform vec2 size;\n   void main() {\n     #if defined (USE_SKINNING)\n\t     #include <beginnormal_vertex>\n       #include <morphnormal_vertex>\n       #include <skinbase_vertex>\n       #include <skinnormal_vertex>\n       #include <defaultnormal_vertex>\n     #endif\n     #include <begin_vertex>\n\t   #include <morphtarget_vertex>\n\t   #include <skinning_vertex>\n     #include <project_vertex>\n     #include <clipping_planes_vertex>\n     vec4 tNormal = vec4(normal, 0.0);\n     vec4 tPosition = vec4(transformed, 1.0);\n     #ifdef USE_INSTANCING\n       tNormal = instanceMatrix * tNormal;\n       tPosition = instanceMatrix * tPosition;\n     #endif\n     if (screenspace) {\n       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;\n       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); \n     } else {\n       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;\n       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;\n       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;\n       clipPosition.xy += offset;\n       gl_Position = clipPosition;\n     }\n   }`, `uniform vec3 color;\n   uniform float opacity;\n   #include <clipping_planes_pars_fragment>\n   void main(){\n     #include <clipping_planes_fragment>\n     gl_FragColor = vec4(color, opacity);\n     #include <tonemapping_fragment>\n     #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nfunction Outlines({\n  color = 'black',\n  opacity = 1,\n  transparent = false,\n  screenspace = false,\n  toneMapped = true,\n  polygonOffset = false,\n  polygonOffsetFactor = 0,\n  renderOrder = 0,\n  thickness = 0.05,\n  angle = Math.PI,\n  clippingPlanes,\n  ...props\n}) {\n  const ref = React.useRef(null);\n  const [material] = React.useState(() => new OutlinesMaterial({\n    side: THREE.BackSide\n  }));\n  const {\n    gl\n  } = useThree();\n  const contextSize = gl.getDrawingBufferSize(new THREE.Vector2());\n  React.useMemo(() => extend({\n    OutlinesMaterial\n  }), []);\n  const oldAngle = React.useRef(0);\n  const oldGeometry = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    if (!group) return;\n    const parent = group.parent;\n    if (parent && parent.geometry) {\n      if (oldAngle.current !== angle || oldGeometry.current !== parent.geometry) {\n        var _group$children;\n        oldAngle.current = angle;\n        oldGeometry.current = parent.geometry;\n\n        // Remove old mesh\n        let mesh = (_group$children = group.children) == null ? void 0 : _group$children[0];\n        if (mesh) {\n          if (angle) mesh.geometry.dispose();\n          group.remove(mesh);\n        }\n        if (parent.skeleton) {\n          mesh = new THREE.SkinnedMesh();\n          mesh.material = material;\n          mesh.bind(parent.skeleton, parent.bindMatrix);\n          group.add(mesh);\n        } else if (parent.isInstancedMesh) {\n          mesh = new THREE.InstancedMesh(parent.geometry, material, parent.count);\n          mesh.instanceMatrix = parent.instanceMatrix;\n          group.add(mesh);\n        } else {\n          mesh = new THREE.Mesh();\n          mesh.material = material;\n          group.add(mesh);\n        }\n        mesh.geometry = angle ? toCreasedNormals(parent.geometry, angle) : parent.geometry;\n        mesh.morphTargetInfluences = parent.morphTargetInfluences;\n        mesh.morphTargetDictionary = parent.morphTargetDictionary;\n      }\n    }\n  });\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    if (!group) return;\n    const mesh = group.children[0];\n    if (mesh) {\n      mesh.renderOrder = renderOrder;\n      const parent = group.parent;\n      applyProps(mesh, {\n        morphTargetInfluences: parent.morphTargetInfluences,\n        morphTargetDictionary: parent.morphTargetDictionary\n      });\n      applyProps(mesh.material, {\n        transparent,\n        thickness,\n        color,\n        opacity,\n        size: contextSize,\n        screenspace,\n        toneMapped,\n        polygonOffset,\n        polygonOffsetFactor,\n        clippingPlanes,\n        clipping: clippingPlanes && clippingPlanes.length > 0\n      });\n    }\n  });\n  React.useEffect(() => {\n    return () => {\n      // Dispose everything on unmount\n      const group = ref.current;\n      if (!group) return;\n      const mesh = group.children[0];\n      if (mesh) {\n        if (angle) mesh.geometry.dispose();\n        group.remove(mesh);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n}\n\nexport { Outlines };\n", "import { useFrame, useThree, createPortal } from '@react-three/fiber';\nimport * as React from 'react';\nimport { Vector3, Object3D, Vector2 } from 'three';\nimport { MeshLineGeometry, MeshLineMaterial } from 'meshline';\n\nconst defaults = {\n  width: 0.2,\n  length: 1,\n  decay: 1,\n  local: false,\n  stride: 0,\n  interval: 1\n};\nconst shiftLeft = (collection, steps = 1) => {\n  collection.set(collection.subarray(steps));\n  collection.fill(-Infinity, -steps);\n  return collection;\n};\nfunction useTrail(target, settings) {\n  const {\n    length,\n    local,\n    decay,\n    interval,\n    stride\n  } = {\n    ...defaults,\n    ...settings\n  };\n  const points = React.useRef(null);\n  const [worldPosition] = React.useState(() => new Vector3());\n  React.useLayoutEffect(() => {\n    if (target) {\n      points.current = Float32Array.from({\n        length: length * 10 * 3\n      }, (_, i) => target.position.getComponent(i % 3));\n    }\n  }, [length, target]);\n  const prevPosition = React.useRef(new Vector3());\n  const frameCount = React.useRef(0);\n  useFrame(() => {\n    if (!target) return;\n    if (!points.current) return;\n    if (frameCount.current === 0) {\n      let newPosition;\n      if (local) {\n        newPosition = target.position;\n      } else {\n        target.getWorldPosition(worldPosition);\n        newPosition = worldPosition;\n      }\n      const steps = 1 * decay;\n      for (let i = 0; i < steps; i++) {\n        if (newPosition.distanceTo(prevPosition.current) < stride) continue;\n        shiftLeft(points.current, 3);\n        points.current.set(newPosition.toArray(), points.current.length - 3);\n      }\n      prevPosition.current.copy(newPosition);\n    }\n    frameCount.current++;\n    frameCount.current = frameCount.current % interval;\n  });\n  return points;\n}\nconst Trail = /* @__PURE__ */React.forwardRef((props, forwardRef) => {\n  const {\n    children\n  } = props;\n  const {\n    width,\n    length,\n    decay,\n    local,\n    stride,\n    interval\n  } = {\n    ...defaults,\n    ...props\n  };\n  const {\n    color = 'hotpink',\n    attenuation,\n    target\n  } = props;\n  const size = useThree(s => s.size);\n  const scene = useThree(s => s.scene);\n  const ref = React.useRef(null);\n  const [anchor, setAnchor] = React.useState(null);\n  const points = useTrail(anchor, {\n    length,\n    decay,\n    local,\n    stride,\n    interval\n  });\n  React.useEffect(() => {\n    const t = (target == null ? void 0 : target.current) || ref.current.children.find(o => {\n      return o instanceof Object3D;\n    });\n    if (t) {\n      setAnchor(t);\n    }\n  }, [points, target]);\n  const geo = React.useMemo(() => new MeshLineGeometry(), []);\n  const mat = React.useMemo(() => {\n    var _matOverride, _matOverride2;\n    const m = new MeshLineMaterial({\n      lineWidth: 0.1 * width,\n      color: color,\n      sizeAttenuation: 1,\n      resolution: new Vector2(size.width, size.height)\n    });\n\n    // Get and apply first <meshLineMaterial /> from children\n    let matOverride;\n    if (children) {\n      if (Array.isArray(children)) {\n        matOverride = children.find(child => {\n          const c = child;\n          return typeof c.type === 'string' && c.type === 'meshLineMaterial';\n        });\n      } else {\n        const c = children;\n        if (typeof c.type === 'string' && c.type === 'meshLineMaterial') {\n          matOverride = c;\n        }\n      }\n    }\n    if (typeof ((_matOverride = matOverride) == null ? void 0 : _matOverride.props) === 'object' && ((_matOverride2 = matOverride) == null ? void 0 : _matOverride2.props) !== null) {\n      m.setValues(matOverride.props);\n    }\n    return m;\n  }, [width, color, size, children]);\n  React.useEffect(() => {\n    mat.uniforms.resolution.value.set(size.width, size.height);\n  }, [size]);\n  useFrame(() => {\n    if (!points.current) return;\n    geo.setPoints(points.current, attenuation);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", null, createPortal(/*#__PURE__*/React.createElement(\"mesh\", {\n    ref: forwardRef,\n    geometry: geo,\n    material: mat\n  }), scene), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children));\n});\n\nexport { Trail, useTrail };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MeshSurfaceSampler } from 'three-stdlib';\nimport { InstancedBufferAttribute, Vector3, Color, Object3D } from 'three';\n\nfunction useSurfaceSampler(mesh, count = 16, transform, weight, instanceMesh) {\n  const [buffer, setBuffer] = React.useState(() => {\n    const arr = Array.from({\n      length: count\n    }, () => [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]).flat();\n    return new InstancedBufferAttribute(Float32Array.from(arr), 16);\n  });\n  React.useLayoutEffect(() => {\n    if (typeof mesh.current === 'undefined') return;\n    const sampler = new MeshSurfaceSampler(mesh.current);\n    if (weight) {\n      sampler.setWeightAttribute(weight);\n    }\n    sampler.build();\n    const position = new Vector3();\n    const normal = new Vector3();\n    const color = new Color();\n    const dummy = new Object3D();\n    mesh.current.updateMatrixWorld(true);\n    for (let i = 0; i < count; i++) {\n      sampler.sample(position, normal, color);\n      if (typeof transform === 'function') {\n        transform({\n          dummy,\n          sampledMesh: mesh.current,\n          position,\n          normal,\n          color\n        }, i);\n      } else {\n        dummy.position.copy(position);\n      }\n      dummy.updateMatrix();\n      if (instanceMesh != null && instanceMesh.current) {\n        instanceMesh.current.setMatrixAt(i, dummy.matrix);\n      }\n      dummy.matrix.toArray(buffer.array, i * 16);\n    }\n    if (instanceMesh != null && instanceMesh.current) {\n      instanceMesh.current.instanceMatrix.needsUpdate = true;\n    }\n    buffer.needsUpdate = true;\n    setBuffer(new InstancedBufferAttribute(buffer.array, buffer.itemSize).copy(buffer));\n  }, [mesh, instanceMesh, weight, count, transform]);\n  return buffer;\n}\nfunction Sampler({\n  children,\n  weight,\n  transform,\n  instances,\n  mesh,\n  count = 16,\n  ...props\n}) {\n  const group = React.useRef(null);\n  const instancedRef = React.useRef(null);\n  const meshToSampleRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    var _instances$current, _mesh$current;\n    instancedRef.current = (_instances$current = instances == null ? void 0 : instances.current) !== null && _instances$current !== void 0 ? _instances$current : group.current.children.find(c => c.hasOwnProperty('instanceMatrix'));\n    meshToSampleRef.current = (_mesh$current = mesh == null ? void 0 : mesh.current) !== null && _mesh$current !== void 0 ? _mesh$current : group.current.children.find(c => c.type === 'Mesh');\n  }, [children, mesh == null ? void 0 : mesh.current, instances == null ? void 0 : instances.current]);\n  useSurfaceSampler(meshToSampleRef, count, transform, weight, instancedRef);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children);\n}\n\nexport { Sampler, useSurfaceSampler };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { BufferAttribute } from 'three';\n\n/**\n * Used exclusively as a child of a BufferGeometry.\n * Computes the BufferAttribute by calling the `compute` function\n * and attaches the attribute to the geometry.\n */\nconst ComputedAttribute = ({\n  compute,\n  name,\n  ...props\n}) => {\n  const [bufferAttribute] = React.useState(() => new BufferAttribute(new Float32Array(0), 1));\n  const primitive = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (primitive.current) {\n      var _ref;\n      // @ts-expect-error brittle\n      const parent = (_ref = primitive.current.parent) !== null && _ref !== void 0 ? _ref : primitive.current.__r3f.parent.object;\n      const attr = compute(parent);\n      primitive.current.copy(attr);\n    }\n  }, [compute]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: primitive,\n    object: bufferAttribute,\n    attach: `attributes-${name}`\n  }, props));\n};\n\nexport { ComputedAttribute };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { SkeletonUtils } from 'three-stdlib';\n\nfunction createSpread(child, {\n  keys = ['near', 'far', 'color', 'distance', 'decay', 'penumbra', 'angle', 'intensity', 'skeleton', 'visible', 'castShadow', 'receiveShadow', 'morphTargetDictionary', 'morphTargetInfluences', 'name', 'geometry', 'material', 'position', 'rotation', 'scale', 'up', 'userData', 'bindMode', 'bindMatrix', 'bindMatrixInverse', 'skeleton'],\n  deep,\n  inject,\n  castShadow,\n  receiveShadow\n}) {\n  let spread = {};\n  for (const key of keys) {\n    spread[key] = child[key];\n  }\n  if (deep) {\n    if (spread.geometry && deep !== 'materialsOnly') spread.geometry = spread.geometry.clone();\n    if (spread.material && deep !== 'geometriesOnly') spread.material = spread.material.clone();\n  }\n  if (inject) {\n    if (typeof inject === 'function') spread = {\n      ...spread,\n      children: inject(child)\n    };else if (/*#__PURE__*/React.isValidElement(inject)) spread = {\n      ...spread,\n      children: inject\n    };else spread = {\n      ...spread,\n      ...inject\n    };\n  }\n  if (child instanceof THREE.Mesh) {\n    if (castShadow) spread.castShadow = true;\n    if (receiveShadow) spread.receiveShadow = true;\n  }\n  return spread;\n}\nconst Clone = /* @__PURE__ */React.forwardRef(({\n  isChild = false,\n  object,\n  children,\n  deep,\n  castShadow,\n  receiveShadow,\n  inject,\n  keys,\n  ...props\n}, forwardRef) => {\n  const config = {\n    keys,\n    deep,\n    inject,\n    castShadow,\n    receiveShadow\n  };\n  object = React.useMemo(() => {\n    if (isChild === false && !Array.isArray(object)) {\n      let isSkinned = false;\n      object.traverse(object => {\n        if (object.isSkinnedMesh) isSkinned = true;\n      });\n      if (isSkinned) return SkeletonUtils.clone(object);\n    }\n    return object;\n  }, [object, isChild]);\n\n  // Deal with arrayed clones\n  if (Array.isArray(object)) {\n    return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n      ref: forwardRef\n    }), object.map(o => /*#__PURE__*/React.createElement(Clone, _extends({\n      key: o.uuid,\n      object: o\n    }, config))), children);\n  }\n\n  // Singleton clones\n  const {\n    children: injectChildren,\n    ...spread\n  } = createSpread(object, config);\n  const Element = object.type[0].toLowerCase() + object.type.slice(1);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, spread, props, {\n    ref: forwardRef\n  }), object.children.map(child => {\n    if (child.type === 'Bone') return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n      key: child.uuid,\n      object: child\n    }, config));\n    return /*#__PURE__*/React.createElement(Clone, _extends({\n      key: child.uuid,\n      object: child\n    }, config, {\n      isChild: true\n    }));\n  }), children, injectChildren);\n});\n\nexport { Clone };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { MarchingCubes as MarchingCubes$1 } from 'three-stdlib';\nimport { useFrame } from '@react-three/fiber';\n\nconst globalContext = /* @__PURE__ */React.createContext(null);\nconst MarchingCubes = /* @__PURE__ */React.forwardRef(({\n  resolution = 28,\n  maxPolyCount = 10000,\n  enableUvs = false,\n  enableColors = false,\n  children,\n  ...props\n}, ref) => {\n  const marchingCubesRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => marchingCubesRef.current, []);\n  const marchingCubes = React.useMemo(() => new MarchingCubes$1(resolution, null, enableUvs, enableColors, maxPolyCount), [resolution, maxPolyCount, enableUvs, enableColors]);\n  const api = React.useMemo(() => ({\n    getParent: () => marchingCubesRef\n  }), []);\n  useFrame(() => {\n    marchingCubes.update();\n    marchingCubes.reset();\n  }, -1); // To make sure the reset runs before the balls or planes are added\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: marchingCubes,\n    ref: marchingCubesRef\n  }, props), /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children)));\n});\nconst MarchingCube = /* @__PURE__ */React.forwardRef(({\n  strength = 0.5,\n  subtract = 12,\n  color,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const cubeRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cubeRef.current, []);\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (!parentRef.current || !cubeRef.current) return;\n    cubeRef.current.getWorldPosition(vec);\n    parentRef.current.addBall(0.5 + vec.x * 0.5, 0.5 + vec.y * 0.5, 0.5 + vec.z * 0.5, strength, subtract, color);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: cubeRef\n  }, props));\n});\nconst MarchingPlane = /* @__PURE__ */React.forwardRef(({\n  planeType: _planeType = 'x',\n  strength = 0.5,\n  subtract = 12,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const wallRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => wallRef.current, []);\n  const planeType = React.useMemo(() => _planeType === 'x' ? 'addPlaneX' : _planeType === 'y' ? 'addPlaneY' : 'addPlaneZ', [_planeType]);\n  useFrame(() => {\n    if (!parentRef.current || !wallRef.current) return;\n    parentRef.current[planeType](strength, subtract);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: wallRef\n  }, props));\n});\n\nexport { MarchingCube, MarchingCubes, MarchingPlane };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { applyProps } from '@react-three/fiber';\nimport { DecalGeometry } from 'three-stdlib';\n\nfunction isArray(vec) {\n  return Array.isArray(vec);\n}\nfunction vecToArray(vec = [0, 0, 0]) {\n  if (isArray(vec)) {\n    return vec;\n  } else if (vec instanceof THREE.Vector3 || vec instanceof THREE.Euler) {\n    return [vec.x, vec.y, vec.z];\n  } else {\n    return [vec, vec, vec];\n  }\n}\nconst Decal = /* @__PURE__ */React.forwardRef(function Decal({\n  debug,\n  depthTest = false,\n  polygonOffsetFactor = -10,\n  map,\n  mesh,\n  children,\n  position,\n  rotation,\n  scale,\n  ...props\n}, forwardRef) {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current);\n  const helper = React.useRef(null);\n  const state = React.useRef({\n    position: new THREE.Vector3(),\n    rotation: new THREE.Euler(),\n    scale: new THREE.Vector3(1, 1, 1)\n  });\n  React.useLayoutEffect(() => {\n    const parent = (mesh == null ? void 0 : mesh.current) || ref.current.parent;\n    const target = ref.current;\n    if (!(parent instanceof THREE.Mesh)) {\n      throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');\n    }\n    if (parent) {\n      applyProps(state.current, {\n        position,\n        scale\n      });\n\n      // Zero out the parents matrix world for this operation\n      const matrixWorld = parent.matrixWorld.clone();\n      parent.matrixWorld.identity();\n      if (!rotation || typeof rotation === 'number') {\n        const o = new THREE.Object3D();\n        o.position.copy(state.current.position);\n\n        // Thanks https://x.com/N8Programs !\n        const vertices = parent.geometry.attributes.position.array;\n        if (parent.geometry.attributes.normal === undefined) parent.geometry.computeVertexNormals();\n        const normal = parent.geometry.attributes.normal.array;\n        let distance = Infinity;\n        new THREE.Vector3();\n        let closestNormal = new THREE.Vector3();\n        const ox = o.position.x;\n        const oy = o.position.y;\n        const oz = o.position.z;\n        const vLength = vertices.length;\n        let chosenIdx = -1;\n        for (let i = 0; i < vLength; i += 3) {\n          const x = vertices[i];\n          const y = vertices[i + 1];\n          const z = vertices[i + 2];\n          const xDiff = x - ox;\n          const yDiff = y - oy;\n          const zDiff = z - oz;\n          const distSquared = xDiff * xDiff + yDiff * yDiff + zDiff * zDiff;\n          if (distSquared < distance) {\n            distance = distSquared;\n            chosenIdx = i;\n          }\n        }\n        closestNormal.fromArray(normal, chosenIdx);\n\n        // Get vector tangent to normal\n        o.lookAt(o.position.clone().add(closestNormal));\n        o.rotateZ(Math.PI);\n        o.rotateY(Math.PI);\n        if (typeof rotation === 'number') o.rotateZ(rotation);\n        applyProps(state.current, {\n          rotation: o.rotation\n        });\n      } else {\n        applyProps(state.current, {\n          rotation\n        });\n      }\n      target.geometry = new DecalGeometry(parent, state.current.position, state.current.rotation, state.current.scale);\n      // Reset parents matix-world\n      parent.matrixWorld = matrixWorld;\n      return () => {\n        target.geometry.dispose();\n      };\n    }\n  }, [mesh, ...vecToArray(position), ...vecToArray(scale), ...vecToArray(rotation)]);\n  React.useLayoutEffect(() => {\n    if (helper.current) {\n      applyProps(helper.current, state.current);\n      // Prevent the helpers from blocking rays\n      helper.current.traverse(child => child.raycast = () => null);\n    }\n  }, [debug]);\n\n  // <meshStandardMaterial transparent polygonOffset polygonOffsetFactor={-10} {...props} />}\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    \"material-transparent\": true,\n    \"material-polygonOffset\": true,\n    \"material-polygonOffsetFactor\": polygonOffsetFactor,\n    \"material-depthTest\": depthTest,\n    \"material-map\": map\n  }, props), children, debug && /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: helper\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", null), /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }), /*#__PURE__*/React.createElement(\"axesHelper\", null)));\n});\n\nexport { Decal };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useLoader } from '@react-three/fiber';\nimport * as React from 'react';\nimport { forwardRef, useMemo, useEffect, Fragment } from 'react';\nimport { DoubleSide } from 'three';\nimport { SVGLoader } from 'three-stdlib';\n\nconst Svg = /* @__PURE__ */forwardRef(function R3FSvg({\n  src,\n  skipFill,\n  skipStrokes,\n  fillMaterial,\n  strokeMaterial,\n  fillMeshProps,\n  strokeMeshProps,\n  ...props\n}, ref) {\n  const svg = useLoader(SVGLoader, !src.startsWith('<svg') ? src : `data:image/svg+xml;utf8,${src}`);\n  const strokeGeometries = useMemo(() => skipStrokes ? [] : svg.paths.map(path => {\n    var _path$userData;\n    return ((_path$userData = path.userData) == null ? void 0 : _path$userData.style.stroke) === undefined || path.userData.style.stroke === 'none' ? null : path.subPaths.map(subPath => SVGLoader.pointsToStroke(subPath.getPoints(), path.userData.style));\n  }), [svg, skipStrokes]);\n  useEffect(() => {\n    return () => strokeGeometries.forEach(group => group && group.map(g => g.dispose()));\n  }, [strokeGeometries]);\n  let renderOrder = 0;\n  return /*#__PURE__*/React.createElement(\"object3D\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"object3D\", {\n    scale: [1, -1, 1]\n  }, svg.paths.map((path, p) => {\n    var _path$userData2, _path$userData3;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: p\n    }, !skipFill && ((_path$userData2 = path.userData) == null ? void 0 : _path$userData2.style.fill) !== undefined && path.userData.style.fill !== 'none' && SVGLoader.createShapes(path).map((shape, s) => /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      key: s\n    }, fillMeshProps, {\n      renderOrder: renderOrder++\n    }), /*#__PURE__*/React.createElement(\"shapeGeometry\", {\n      args: [shape]\n    }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", _extends({\n      color: path.userData.style.fill,\n      opacity: path.userData.style.fillOpacity,\n      transparent: true,\n      side: DoubleSide,\n      depthWrite: false\n    }, fillMaterial)))), !skipStrokes && ((_path$userData3 = path.userData) == null ? void 0 : _path$userData3.style.stroke) !== undefined && path.userData.style.stroke !== 'none' && path.subPaths.map((_subPath, s) => /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      key: s,\n      geometry: strokeGeometries[p][s]\n    }, strokeMeshProps, {\n      renderOrder: renderOrder++\n    }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", _extends({\n      color: path.userData.style.stroke,\n      opacity: path.userData.style.strokeOpacity,\n      transparent: true,\n      side: DoubleSide,\n      depthWrite: false\n    }, strokeMaterial)))));\n  })));\n});\n\nexport { Svg };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { GLTFLoader, DRACOLoader, MeshoptDecoder } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\nimport { Clone } from './Clone.js';\n\nlet dracoLoader = null;\nlet decoderPath = 'https://www.gstatic.com/draco/versioned/decoders/1.5.5/';\nfunction extensions(useDraco = true, useMeshopt = true, extendLoader) {\n  return loader => {\n    if (extendLoader) {\n      extendLoader(loader);\n    }\n    if (useDraco) {\n      if (!dracoLoader) {\n        dracoLoader = new DRACOLoader();\n      }\n      dracoLoader.setDecoderPath(typeof useDraco === 'string' ? useDraco : decoderPath);\n      loader.setDRACOLoader(dracoLoader);\n    }\n    if (useMeshopt) {\n      loader.setMeshoptDecoder(typeof MeshoptDecoder === 'function' ? MeshoptDecoder() : MeshoptDecoder);\n    }\n  };\n}\nconst useGLTF = (path, useDraco, useMeshopt, extendLoader) => useLoader(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.preload = (path, useDraco, useMeshopt, extendLoader) => useLoader.preload(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.clear = path => useLoader.clear(GLTFLoader, path);\nuseGLTF.setDecoderPath = path => {\n  decoderPath = path;\n};\n\n//\n\nconst Gltf = /* @__PURE__ */React.forwardRef(({\n  src,\n  useDraco,\n  useMeshOpt,\n  extendLoader,\n  ...props\n}, ref) => {\n  const {\n    scene\n  } = useGLTF(src, useDraco, useMeshOpt, extendLoader);\n  return /*#__PURE__*/React.createElement(Clone, _extends({\n    ref: ref\n  }, props, {\n    object: scene\n  }));\n});\n\nexport { Gltf, useGLTF };\n", "import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\n\nfunction AsciiRenderer({\n  renderIndex = 1,\n  bgColor = 'black',\n  fgColor = 'white',\n  characters = ' .:-+*=%@#',\n  invert = true,\n  color = false,\n  resolution = 0.15\n}) {\n  // Reactive state\n  const {\n    size,\n    gl,\n    scene,\n    camera\n  } = useThree();\n\n  // Create effect\n  const effect = React.useMemo(() => {\n    const effect = new AsciiEffect(gl, characters, {\n      invert,\n      color,\n      resolution\n    });\n    effect.domElement.style.position = 'absolute';\n    effect.domElement.style.top = '0px';\n    effect.domElement.style.left = '0px';\n    effect.domElement.style.pointerEvents = 'none';\n    return effect;\n  }, [characters, invert, color, resolution]);\n\n  // Styling\n  React.useLayoutEffect(() => {\n    effect.domElement.style.color = fgColor;\n    effect.domElement.style.backgroundColor = bgColor;\n  }, [fgColor, bgColor]);\n\n  // Append on mount, remove on unmount\n  React.useEffect(() => {\n    gl.domElement.style.opacity = '0';\n    gl.domElement.parentNode.appendChild(effect.domElement);\n    return () => {\n      gl.domElement.style.opacity = '1';\n      gl.domElement.parentNode.removeChild(effect.domElement);\n    };\n  }, [effect]);\n\n  // Set size\n  React.useEffect(() => {\n    effect.setSize(size.width, size.height);\n  }, [effect, size]);\n\n  // Take over render-loop (that is what the index is for)\n  useFrame(state => {\n    effect.render(scene, camera);\n  }, renderIndex);\n\n  // return something to not break type signatures\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n}\n\nexport { AsciiRenderer };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useLoader, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nconst SplatMaterial = /* @__PURE__ */shaderMaterial({\n  alphaTest: 0,\n  viewport: /* @__PURE__ */new THREE.Vector2(1980, 1080),\n  focal: 1000.0,\n  centerAndScaleTexture: null,\n  covAndColorTexture: null\n}, /*glsl*/`\n    precision highp sampler2D;\n    precision highp usampler2D;\n    out vec4 vColor;\n    out vec3 vPosition;\n    uniform vec2 resolution;\n    uniform vec2 viewport;\n    uniform float focal;\n    attribute uint splatIndex;\n    uniform sampler2D centerAndScaleTexture;\n    uniform usampler2D covAndColorTexture;    \n\n    vec2 unpackInt16(in uint value) {\n      int v = int(value);\n      int v0 = v >> 16;\n      int v1 = (v & 0xFFFF);\n      if((v & 0x8000) != 0)\n        v1 |= 0xFFFF0000;\n      return vec2(float(v1), float(v0));\n    }\n\n    void main () {\n      ivec2 texSize = textureSize(centerAndScaleTexture, 0);\n      ivec2 texPos = ivec2(splatIndex%uint(texSize.x), splatIndex/uint(texSize.x));\n      vec4 centerAndScaleData = texelFetch(centerAndScaleTexture, texPos, 0);\n      vec4 center = vec4(centerAndScaleData.xyz, 1);\n      vec4 camspace = modelViewMatrix * center;\n      vec4 pos2d = projectionMatrix * camspace;\n\n      float bounds = 1.2 * pos2d.w;\n      if (pos2d.z < -pos2d.w || pos2d.x < -bounds || pos2d.x > bounds\n        || pos2d.y < -bounds || pos2d.y > bounds) {\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n        return;\n      }\n\n      uvec4 covAndColorData = texelFetch(covAndColorTexture, texPos, 0);\n      vec2 cov3D_M11_M12 = unpackInt16(covAndColorData.x) * centerAndScaleData.w;\n      vec2 cov3D_M13_M22 = unpackInt16(covAndColorData.y) * centerAndScaleData.w;\n      vec2 cov3D_M23_M33 = unpackInt16(covAndColorData.z) * centerAndScaleData.w;\n      mat3 Vrk = mat3(\n        cov3D_M11_M12.x, cov3D_M11_M12.y, cov3D_M13_M22.x,\n        cov3D_M11_M12.y, cov3D_M13_M22.y, cov3D_M23_M33.x,\n        cov3D_M13_M22.x, cov3D_M23_M33.x, cov3D_M23_M33.y\n      );\n\n      mat3 J = mat3(\n        focal / camspace.z, 0., -(focal * camspace.x) / (camspace.z * camspace.z),\n        0., focal / camspace.z, -(focal * camspace.y) / (camspace.z * camspace.z),\n        0., 0., 0.\n      );\n\n      mat3 W = transpose(mat3(modelViewMatrix));\n      mat3 T = W * J;\n      mat3 cov = transpose(T) * Vrk * T;\n      vec2 vCenter = vec2(pos2d) / pos2d.w;\n      float diagonal1 = cov[0][0] + 0.3;\n      float offDiagonal = cov[0][1];\n      float diagonal2 = cov[1][1] + 0.3;\n      float mid = 0.5 * (diagonal1 + diagonal2);\n      float radius = length(vec2((diagonal1 - diagonal2) / 2.0, offDiagonal));\n      float lambda1 = mid + radius;\n      float lambda2 = max(mid - radius, 0.1);\n      vec2 diagonalVector = normalize(vec2(offDiagonal, lambda1 - diagonal1));\n      vec2 v1 = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n      vec2 v2 = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n      uint colorUint = covAndColorData.w;\n      vColor = vec4(\n        float(colorUint & uint(0xFF)) / 255.0,\n        float((colorUint >> uint(8)) & uint(0xFF)) / 255.0,\n        float((colorUint >> uint(16)) & uint(0xFF)) / 255.0,\n        float(colorUint >> uint(24)) / 255.0\n      );\n      vPosition = position;\n\n      gl_Position = vec4(\n        vCenter \n          + position.x * v2 / viewport * 2.0 \n          + position.y * v1 / viewport * 2.0, pos2d.z / pos2d.w, 1.0);\n    }\n    `, /*glsl*/`\n    #include <alphatest_pars_fragment>\n    #include <alphahash_pars_fragment>\n    in vec4 vColor;\n    in vec3 vPosition;\n    void main () {\n      float A = -dot(vPosition.xy, vPosition.xy);\n      if (A < -4.0) discard;\n      float B = exp(A) * vColor.a;\n      vec4 diffuseColor = vec4(vColor.rgb, B);\n      #include <alphatest_fragment>\n      #include <alphahash_fragment>\n      gl_FragColor = diffuseColor;\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n    }\n  `);\nfunction createWorker(self) {\n  let matrices = null;\n  let offset = 0;\n  function sortSplats(view, hashed = false) {\n    const vertexCount = matrices.length / 16;\n    const threshold = -0.0001;\n    let maxDepth = -Infinity;\n    let minDepth = Infinity;\n    const depthList = new Float32Array(vertexCount);\n    const sizeList = new Int32Array(depthList.buffer);\n    const validIndexList = new Int32Array(vertexCount);\n    let validCount = 0;\n    for (let i = 0; i < vertexCount; i++) {\n      // Sign of depth is reversed\n      const depth = view[0] * matrices[i * 16 + 12] + view[1] * matrices[i * 16 + 13] + view[2] * matrices[i * 16 + 14] + view[3];\n      // Skip behind of camera and small, transparent splat\n      if (hashed || depth < 0 && matrices[i * 16 + 15] > threshold * depth) {\n        depthList[validCount] = depth;\n        validIndexList[validCount] = i;\n        validCount++;\n        if (depth > maxDepth) maxDepth = depth;\n        if (depth < minDepth) minDepth = depth;\n      }\n    }\n\n    // This is a 16 bit single-pass counting sort\n    const depthInv = (256 * 256 - 1) / (maxDepth - minDepth);\n    const counts0 = new Uint32Array(256 * 256);\n    for (let i = 0; i < validCount; i++) {\n      sizeList[i] = (depthList[i] - minDepth) * depthInv | 0;\n      counts0[sizeList[i]]++;\n    }\n    const starts0 = new Uint32Array(256 * 256);\n    for (let i = 1; i < 256 * 256; i++) starts0[i] = starts0[i - 1] + counts0[i - 1];\n    const depthIndex = new Uint32Array(validCount);\n    for (let i = 0; i < validCount; i++) depthIndex[starts0[sizeList[i]]++] = validIndexList[i];\n    return depthIndex;\n  }\n  self.onmessage = e => {\n    if (e.data.method == 'push') {\n      if (offset === 0) matrices = new Float32Array(e.data.length);\n      const new_matrices = new Float32Array(e.data.matrices);\n      matrices.set(new_matrices, offset);\n      offset += new_matrices.length;\n    } else if (e.data.method == 'sort') {\n      if (matrices !== null) {\n        const indices = sortSplats(new Float32Array(e.data.view), e.data.hashed);\n        // @ts-ignore\n        self.postMessage({\n          indices,\n          key: e.data.key\n        }, [indices.buffer]);\n      }\n    }\n  };\n}\nclass SplatLoader extends THREE.Loader {\n  constructor(...args) {\n    super(...args);\n    // WebGLRenderer, needs to be filled out!\n    this.gl = null;\n    // Default chunk size for lazy loading\n    this.chunkSize = 25000;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const shared = {\n      gl: this.gl,\n      url: this.manager.resolveURL(url),\n      worker: new Worker(URL.createObjectURL(new Blob(['(', createWorker.toString(), ')(self)'], {\n        type: 'application/javascript'\n      }))),\n      manager: this.manager,\n      update: (target, camera, hashed) => update(camera, shared, target, hashed),\n      connect: target => connect(shared, target),\n      loading: false,\n      loaded: false,\n      loadedVertexCount: 0,\n      chunkSize: this.chunkSize,\n      totalDownloadBytes: 0,\n      numVertices: 0,\n      rowLength: 3 * 4 + 3 * 4 + 4 + 4,\n      maxVertexes: 0,\n      bufferTextureWidth: 0,\n      bufferTextureHeight: 0,\n      stream: null,\n      centerAndScaleData: null,\n      covAndColorData: null,\n      covAndColorTexture: null,\n      centerAndScaleTexture: null,\n      onProgress\n    };\n    load(shared).then(onLoad).catch(e => {\n      onError == null || onError(e);\n      shared.manager.itemError(shared.url);\n    });\n  }\n}\nasync function load(shared) {\n  shared.manager.itemStart(shared.url);\n  const data = await fetch(shared.url);\n  if (data.body === null) throw 'Failed to fetch file';\n  let _totalDownloadBytes = data.headers.get('Content-Length');\n  const totalDownloadBytes = _totalDownloadBytes ? parseInt(_totalDownloadBytes) : undefined;\n  if (totalDownloadBytes == undefined) throw 'Failed to get content length';\n  shared.stream = data.body.getReader();\n  shared.totalDownloadBytes = totalDownloadBytes;\n  shared.numVertices = Math.floor(shared.totalDownloadBytes / shared.rowLength);\n  const context = shared.gl.getContext();\n  let maxTextureSize = context.getParameter(context.MAX_TEXTURE_SIZE);\n  shared.maxVertexes = maxTextureSize * maxTextureSize;\n  if (shared.numVertices > shared.maxVertexes) shared.numVertices = shared.maxVertexes;\n  shared.bufferTextureWidth = maxTextureSize;\n  shared.bufferTextureHeight = Math.floor((shared.numVertices - 1) / maxTextureSize) + 1;\n  shared.centerAndScaleData = new Float32Array(shared.bufferTextureWidth * shared.bufferTextureHeight * 4);\n  shared.covAndColorData = new Uint32Array(shared.bufferTextureWidth * shared.bufferTextureHeight * 4);\n  shared.centerAndScaleTexture = new THREE.DataTexture(shared.centerAndScaleData, shared.bufferTextureWidth, shared.bufferTextureHeight, THREE.RGBAFormat, THREE.FloatType);\n  shared.centerAndScaleTexture.needsUpdate = true;\n  shared.covAndColorTexture = new THREE.DataTexture(shared.covAndColorData, shared.bufferTextureWidth, shared.bufferTextureHeight, THREE.RGBAIntegerFormat, THREE.UnsignedIntType);\n  shared.covAndColorTexture.internalFormat = 'RGBA32UI';\n  shared.covAndColorTexture.needsUpdate = true;\n  return shared;\n}\nasync function lazyLoad(shared) {\n  shared.loading = true;\n  let bytesDownloaded = 0;\n  let bytesProcessed = 0;\n  const chunks = [];\n  let lastReportedProgress = 0;\n  const lengthComputable = shared.totalDownloadBytes !== 0;\n  while (true) {\n    try {\n      const {\n        value,\n        done\n      } = await shared.stream.read();\n      if (done) break;\n      bytesDownloaded += value.length;\n      if (shared.totalDownloadBytes != undefined) {\n        const percent = bytesDownloaded / shared.totalDownloadBytes * 100;\n        if (shared.onProgress && percent - lastReportedProgress > 1) {\n          const event = new ProgressEvent('progress', {\n            lengthComputable,\n            loaded: bytesDownloaded,\n            total: shared.totalDownloadBytes\n          });\n          shared.onProgress(event);\n          lastReportedProgress = percent;\n        }\n      }\n      chunks.push(value);\n      const bytesRemains = bytesDownloaded - bytesProcessed;\n      if (shared.totalDownloadBytes != undefined && bytesRemains > shared.rowLength * shared.chunkSize) {\n        let vertexCount = Math.floor(bytesRemains / shared.rowLength);\n        const concatenatedChunksbuffer = new Uint8Array(bytesRemains);\n        let offset = 0;\n        for (const chunk of chunks) {\n          concatenatedChunksbuffer.set(chunk, offset);\n          offset += chunk.length;\n        }\n        chunks.length = 0;\n        if (bytesRemains > vertexCount * shared.rowLength) {\n          const extra_data = new Uint8Array(bytesRemains - vertexCount * shared.rowLength);\n          extra_data.set(concatenatedChunksbuffer.subarray(bytesRemains - extra_data.length, bytesRemains), 0);\n          chunks.push(extra_data);\n        }\n        const buffer = new Uint8Array(vertexCount * shared.rowLength);\n        buffer.set(concatenatedChunksbuffer.subarray(0, buffer.byteLength), 0);\n        const matrices = pushDataBuffer(shared, buffer.buffer, vertexCount);\n        shared.worker.postMessage({\n          method: 'push',\n          src: shared.url,\n          length: shared.numVertices * 16,\n          matrices: matrices.buffer\n        }, [matrices.buffer]);\n        bytesProcessed += vertexCount * shared.rowLength;\n        if (shared.onProgress) {\n          const event = new ProgressEvent('progress', {\n            lengthComputable,\n            loaded: shared.totalDownloadBytes,\n            total: shared.totalDownloadBytes\n          });\n          shared.onProgress(event);\n        }\n      }\n    } catch (error) {\n      console.error(error);\n      break;\n    }\n  }\n  if (bytesDownloaded - bytesProcessed > 0) {\n    // Concatenate the chunks into a single Uint8Array\n    let concatenatedChunks = new Uint8Array(chunks.reduce((acc, chunk) => acc + chunk.length, 0));\n    let offset = 0;\n    for (const chunk of chunks) {\n      concatenatedChunks.set(chunk, offset);\n      offset += chunk.length;\n    }\n    let numVertices = Math.floor(concatenatedChunks.byteLength / shared.rowLength);\n    const matrices = pushDataBuffer(shared, concatenatedChunks.buffer, numVertices);\n    shared.worker.postMessage({\n      method: 'push',\n      src: shared.url,\n      length: numVertices * 16,\n      matrices: matrices.buffer\n    }, [matrices.buffer]);\n  }\n  shared.loaded = true;\n  shared.manager.itemEnd(shared.url);\n}\nfunction update(camera, shared, target, hashed) {\n  camera.updateMatrixWorld();\n  shared.gl.getCurrentViewport(target.viewport);\n  // @ts-ignore\n  target.material.viewport.x = target.viewport.z;\n  // @ts-ignore\n  target.material.viewport.y = target.viewport.w;\n  target.material.focal = target.viewport.w / 2.0 * Math.abs(camera.projectionMatrix.elements[5]);\n  if (target.ready) {\n    if (hashed && target.sorted) return;\n    target.ready = false;\n    const view = new Float32Array([target.modelViewMatrix.elements[2], -target.modelViewMatrix.elements[6], target.modelViewMatrix.elements[10], target.modelViewMatrix.elements[14]]);\n    shared.worker.postMessage({\n      method: 'sort',\n      src: shared.url,\n      key: target.uuid,\n      view: view.buffer,\n      hashed\n    }, [view.buffer]);\n    if (hashed && shared.loaded) target.sorted = true;\n  }\n}\nfunction connect(shared, target) {\n  if (!shared.loading) lazyLoad(shared);\n  target.ready = false;\n  target.pm = new THREE.Matrix4();\n  target.vm1 = new THREE.Matrix4();\n  target.vm2 = new THREE.Matrix4();\n  target.viewport = new THREE.Vector4();\n  let splatIndexArray = new Uint32Array(shared.bufferTextureWidth * shared.bufferTextureHeight);\n  const splatIndexes = new THREE.InstancedBufferAttribute(splatIndexArray, 1, false);\n  splatIndexes.setUsage(THREE.DynamicDrawUsage);\n  const geometry = target.geometry = new THREE.InstancedBufferGeometry();\n  const positionsArray = new Float32Array(6 * 3);\n  const positions = new THREE.BufferAttribute(positionsArray, 3);\n  geometry.setAttribute('position', positions);\n  positions.setXYZ(2, -2.0, 2.0, 0.0);\n  positions.setXYZ(1, 2.0, 2.0, 0.0);\n  positions.setXYZ(0, -2.0, -2.0, 0.0);\n  positions.setXYZ(5, -2.0, -2.0, 0.0);\n  positions.setXYZ(4, 2.0, 2.0, 0.0);\n  positions.setXYZ(3, 2.0, -2.0, 0.0);\n  positions.needsUpdate = true;\n  geometry.setAttribute('splatIndex', splatIndexes);\n  geometry.instanceCount = 1;\n  function listener(e) {\n    if (target && e.data.key === target.uuid) {\n      let indexes = new Uint32Array(e.data.indices);\n      // @ts-ignore\n      geometry.attributes.splatIndex.set(indexes);\n      geometry.attributes.splatIndex.needsUpdate = true;\n      geometry.instanceCount = indexes.length;\n      target.ready = true;\n    }\n  }\n  shared.worker.addEventListener('message', listener);\n  async function wait() {\n    while (true) {\n      const centerAndScaleTextureProperties = shared.gl.properties.get(shared.centerAndScaleTexture);\n      const covAndColorTextureProperties = shared.gl.properties.get(shared.covAndColorTexture);\n      if (centerAndScaleTextureProperties != null && centerAndScaleTextureProperties.__webglTexture && covAndColorTextureProperties != null && covAndColorTextureProperties.__webglTexture && shared.loadedVertexCount > 0) break;\n      await new Promise(resolve => setTimeout(resolve, 10));\n    }\n    target.ready = true;\n  }\n  wait();\n  return () => shared.worker.removeEventListener('message', listener);\n}\nfunction pushDataBuffer(shared, buffer, vertexCount) {\n  const context = shared.gl.getContext();\n  if (shared.loadedVertexCount + vertexCount > shared.maxVertexes) vertexCount = shared.maxVertexes - shared.loadedVertexCount;\n  if (vertexCount <= 0) throw 'Failed to parse file';\n  const u_buffer = new Uint8Array(buffer);\n  const f_buffer = new Float32Array(buffer);\n  const matrices = new Float32Array(vertexCount * 16);\n  const covAndColorData_uint8 = new Uint8Array(shared.covAndColorData.buffer);\n  const covAndColorData_int16 = new Int16Array(shared.covAndColorData.buffer);\n  for (let i = 0; i < vertexCount; i++) {\n    const quat = new THREE.Quaternion(-(u_buffer[32 * i + 28 + 1] - 128) / 128.0, (u_buffer[32 * i + 28 + 2] - 128) / 128.0, (u_buffer[32 * i + 28 + 3] - 128) / 128.0, -(u_buffer[32 * i + 28 + 0] - 128) / 128.0);\n    quat.invert();\n    const center = new THREE.Vector3(f_buffer[8 * i + 0], f_buffer[8 * i + 1], -f_buffer[8 * i + 2]);\n    const scale = new THREE.Vector3(f_buffer[8 * i + 3 + 0], f_buffer[8 * i + 3 + 1], f_buffer[8 * i + 3 + 2]);\n    const mtx = new THREE.Matrix4();\n    mtx.makeRotationFromQuaternion(quat);\n    mtx.transpose();\n    mtx.scale(scale);\n    const mtx_t = mtx.clone();\n    mtx.transpose();\n    mtx.premultiply(mtx_t);\n    mtx.setPosition(center);\n    const cov_indexes = [0, 1, 2, 5, 6, 10];\n    let max_value = 0.0;\n    for (let j = 0; j < cov_indexes.length; j++) if (Math.abs(mtx.elements[cov_indexes[j]]) > max_value) max_value = Math.abs(mtx.elements[cov_indexes[j]]);\n    let destOffset = shared.loadedVertexCount * 4 + i * 4;\n    shared.centerAndScaleData[destOffset + 0] = center.x;\n    shared.centerAndScaleData[destOffset + 1] = -center.y;\n    shared.centerAndScaleData[destOffset + 2] = center.z;\n    shared.centerAndScaleData[destOffset + 3] = max_value / 32767.0;\n    destOffset = shared.loadedVertexCount * 8 + i * 4 * 2;\n    for (let j = 0; j < cov_indexes.length; j++) covAndColorData_int16[destOffset + j] = mtx.elements[cov_indexes[j]] * 32767.0 / max_value;\n\n    // RGBA\n    destOffset = shared.loadedVertexCount * 16 + (i * 4 + 3) * 4;\n    const col = new THREE.Color(u_buffer[32 * i + 24 + 0] / 255, u_buffer[32 * i + 24 + 1] / 255, u_buffer[32 * i + 24 + 2] / 255);\n    col.convertSRGBToLinear();\n    covAndColorData_uint8[destOffset + 0] = col.r * 255;\n    covAndColorData_uint8[destOffset + 1] = col.g * 255;\n    covAndColorData_uint8[destOffset + 2] = col.b * 255;\n    covAndColorData_uint8[destOffset + 3] = u_buffer[32 * i + 24 + 3];\n\n    // Store scale and transparent to remove splat in sorting process\n    mtx.elements[15] = Math.max(scale.x, scale.y, scale.z) * u_buffer[32 * i + 24 + 3] / 255.0;\n    for (let j = 0; j < 16; j++) matrices[i * 16 + j] = mtx.elements[j];\n  }\n  while (vertexCount > 0) {\n    let width = 0;\n    let height = 0;\n    const xoffset = shared.loadedVertexCount % shared.bufferTextureWidth;\n    const yoffset = Math.floor(shared.loadedVertexCount / shared.bufferTextureWidth);\n    if (shared.loadedVertexCount % shared.bufferTextureWidth != 0) {\n      width = Math.min(shared.bufferTextureWidth, xoffset + vertexCount) - xoffset;\n      height = 1;\n    } else if (Math.floor(vertexCount / shared.bufferTextureWidth) > 0) {\n      width = shared.bufferTextureWidth;\n      height = Math.floor(vertexCount / shared.bufferTextureWidth);\n    } else {\n      width = vertexCount % shared.bufferTextureWidth;\n      height = 1;\n    }\n    const centerAndScaleTextureProperties = shared.gl.properties.get(shared.centerAndScaleTexture);\n    context.bindTexture(context.TEXTURE_2D, centerAndScaleTextureProperties.__webglTexture);\n    context.texSubImage2D(context.TEXTURE_2D, 0, xoffset, yoffset, width, height, context.RGBA, context.FLOAT, shared.centerAndScaleData, shared.loadedVertexCount * 4);\n    const covAndColorTextureProperties = shared.gl.properties.get(shared.covAndColorTexture);\n    context.bindTexture(context.TEXTURE_2D, covAndColorTextureProperties.__webglTexture);\n    context.texSubImage2D(context.TEXTURE_2D, 0, xoffset, yoffset, width, height,\n    // @ts-ignore\n    context.RGBA_INTEGER, context.UNSIGNED_INT, shared.covAndColorData, shared.loadedVertexCount * 4);\n    shared.gl.resetState();\n    shared.loadedVertexCount += width * height;\n    vertexCount -= width * height;\n  }\n  return matrices;\n}\nfunction Splat({\n  src,\n  toneMapped = false,\n  alphaTest = 0,\n  alphaHash = false,\n  chunkSize = 25000,\n  ...props\n}) {\n  extend({\n    SplatMaterial\n  });\n  const ref = React.useRef(null);\n  const gl = useThree(state => state.gl);\n  const camera = useThree(state => state.camera);\n\n  // Shared state, globally memoized, the same url re-uses the same daza\n  const shared = useLoader(SplatLoader, src, loader => {\n    loader.gl = gl;\n    loader.chunkSize = chunkSize;\n  });\n\n  // Listen to worker results, apply them to the target mesh\n  React.useLayoutEffect(() => shared.connect(ref.current), [src]);\n  // Update the worker\n  useFrame(() => shared.update(ref.current, camera, alphaHash));\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    frustumCulled: false\n  }, props), /*#__PURE__*/React.createElement(\"splatMaterial\", {\n    key: `${src}/${alphaTest}/${alphaHash}${SplatMaterial.key}`,\n    transparent: !alphaHash,\n    depthTest: true,\n    alphaTest: alphaHash ? 0 : alphaTest,\n    centerAndScaleTexture: shared.centerAndScaleTexture,\n    covAndColorTexture: shared.covAndColorTexture,\n    depthWrite: alphaHash ? true : alphaTest > 0,\n    blending: alphaHash ? THREE.NormalBlending : THREE.CustomBlending,\n    blendSrcAlpha: THREE.OneFactor,\n    alphaHash: !!alphaHash,\n    toneMapped: toneMapped\n  }));\n}\n\nexport { Splat };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nconst isFunction = node => typeof node === 'function';\nconst OrthographicCamera = /* @__PURE__ */React.forwardRef(({\n  envMap,\n  resolution = 256,\n  frames = Infinity,\n  children,\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cameraRef.current, []);\n  const groupRef = React.useRef(null);\n  const fbo = useFBO(resolution);\n  React.useLayoutEffect(() => {\n    if (!props.manual) {\n      cameraRef.current.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    cameraRef.current.updateProjectionMatrix();\n  });\n  React.useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set]);\n  let count = 0;\n  let oldEnvMap = null;\n  const functional = isFunction(children);\n  useFrame(state => {\n    if (functional && (frames === Infinity || count < frames)) {\n      groupRef.current.visible = false;\n      state.gl.setRenderTarget(fbo);\n      oldEnvMap = state.scene.background;\n      if (envMap) state.scene.background = envMap;\n      state.gl.render(state.scene, cameraRef.current);\n      state.scene.background = oldEnvMap;\n      state.gl.setRenderTarget(null);\n      groupRef.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: cameraRef\n  }, props), !functional && children), /*#__PURE__*/React.createElement(\"group\", {\n    ref: groupRef\n  }, functional && children(fbo.texture)));\n});\n\nexport { OrthographicCamera };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n//  uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(/** Width in pixels, or settings (will render fullscreen by default) */\nwidth, /** Height in pixels */\nheight, /**Settings */\nsettings) {\n  const size = useThree(state => state.size);\n  const viewport = useThree(state => state.viewport);\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const target = React.useMemo(() => {\n    const target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    if (depth) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\nconst Fbo = ({\n  children,\n  width,\n  height,\n  ...settings\n}) => {\n  const target = useFBO(width, height, settings);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(target));\n};\n\nexport { Fbo, useFBO };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nconst isFunction = node => typeof node === 'function';\nconst PerspectiveCamera = /* @__PURE__ */React.forwardRef(({\n  envMap,\n  resolution = 256,\n  frames = Infinity,\n  makeDefault,\n  children,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cameraRef.current, []);\n  const groupRef = React.useRef(null);\n  const fbo = useFBO(resolution);\n  React.useLayoutEffect(() => {\n    if (!props.manual) {\n      cameraRef.current.aspect = size.width / size.height;\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    cameraRef.current.updateProjectionMatrix();\n  });\n  let count = 0;\n  let oldEnvMap = null;\n  const functional = isFunction(children);\n  useFrame(state => {\n    if (functional && (frames === Infinity || count < frames)) {\n      groupRef.current.visible = false;\n      state.gl.setRenderTarget(fbo);\n      oldEnvMap = state.scene.background;\n      if (envMap) state.scene.background = envMap;\n      state.gl.render(state.scene, cameraRef.current);\n      state.scene.background = oldEnvMap;\n      state.gl.setRenderTarget(null);\n      groupRef.current.visible = true;\n      count++;\n    }\n  });\n  React.useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"perspectiveCamera\", _extends({\n    ref: cameraRef\n  }, props), !functional && children), /*#__PURE__*/React.createElement(\"group\", {\n    ref: groupRef\n  }, functional && children(fbo.texture)));\n});\n\nexport { PerspectiveCamera };\n", "import * as THREE from 'three';\nimport { WebGLCubeRenderTarget, HalfFloatType } from 'three';\nimport * as React from 'react';\nimport { useMemo, useEffect } from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction useCubeCamera({\n  resolution = 256,\n  near = 0.1,\n  far = 1000,\n  envMap,\n  fog\n} = {}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const fbo = useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  useEffect(() => {\n    return () => {\n      fbo.dispose();\n    };\n  }, [fbo]);\n  const camera = useMemo(() => new THREE.CubeCamera(near, far, fbo), [near, far, fbo]);\n  let originalFog;\n  let originalBackground;\n  const update = React.useCallback(() => {\n    originalFog = scene.fog;\n    originalBackground = scene.background;\n    scene.background = envMap || originalBackground;\n    scene.fog = fog || originalFog;\n    camera.update(gl, scene);\n    scene.fog = originalFog;\n    scene.background = originalBackground;\n  }, [gl, scene, camera]);\n  return {\n    fbo,\n    camera,\n    update\n  };\n}\nfunction CubeCamera({\n  children,\n  frames = Infinity,\n  resolution,\n  near,\n  far,\n  envMap,\n  fog,\n  ...props\n}) {\n  const ref = React.useRef(null);\n  const {\n    fbo,\n    camera,\n    update\n  } = useCubeCamera({\n    resolution,\n    near,\n    far,\n    envMap,\n    fog\n  });\n  let count = 0;\n  useFrame(() => {\n    if (ref.current && (frames === Infinity || count < frames)) {\n      ref.current.visible = false;\n      update();\n      ref.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: camera\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children == null ? void 0 : children(fbo.texture)));\n}\n\nexport { CubeCamera, useCubeCamera };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { DeviceOrientationControls as DeviceOrientationControls$1 } from 'three-stdlib';\n\nconst DeviceOrientationControls = /* @__PURE__ */React.forwardRef((props, ref) => {\n  const {\n    camera,\n    onChange,\n    makeDefault,\n    ...rest\n  } = props;\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explCamera = camera || defaultCamera;\n  const controls = React.useMemo(() => new DeviceOrientationControls$1(explCamera), [explCamera]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n    controls == null || controls.addEventListener == null || controls.addEventListener('change', callback);\n    return () => controls == null || controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n  }, [onChange, controls, invalidate]);\n  useFrame(() => controls == null ? void 0 : controls.update(), -1);\n  React.useEffect(() => {\n    const current = controls;\n    current == null || current.connect();\n    return () => current == null ? void 0 : current.dispose();\n  }, [controls]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return controls ? /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, rest)) : null;\n});\n\nexport { DeviceOrientationControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { FlyControls as FlyControls$1 } from 'three-stdlib';\n\nconst FlyControls = /* @__PURE__ */React.forwardRef(({\n  domElement,\n  ...props\n}, fref) => {\n  const {\n    onChange,\n    makeDefault,\n    ...rest\n  } = props;\n  const invalidate = useThree(state => state.invalidate);\n  const camera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new FlyControls$1(camera), [camera]);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n    controls.addEventListener == null || controls.addEventListener('change', callback);\n    return () => controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n  }, [onChange, invalidate]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  useFrame((_, delta) => controls.update(delta));\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: fref,\n    object: controls,\n    args: [camera, explDomElement]\n  }, rest));\n});\n\nexport { FlyControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { MapControls as MapControls$1 } from 'three-stdlib';\n\nconst MapControls = /* @__PURE__ */React.forwardRef((props = {\n  enableDamping: true\n}, ref) => {\n  const {\n    domElement,\n    camera,\n    makeDefault,\n    onChange,\n    onStart,\n    onEnd,\n    ...rest\n  } = props;\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const explCamera = camera || defaultCamera;\n  const controls = React.useMemo(() => new MapControls$1(explCamera), [explCamera]);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      controls.dispose();\n      controls.removeEventListener('change', callback);\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, explDomElement]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  useFrame(() => controls.update(), -1);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: true\n  }, rest));\n});\n\nexport { MapControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /* @__PURE__ */React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  keyEvents = false,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    if (keyEvents) {\n      controls.connect(keyEvents === true ? explDomElement : keyEvents);\n    }\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [keyEvents, explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n    controls.addEventListener('change', callback);\n    controls.addEventListener('start', onStartCb);\n    controls.addEventListener('end', onEndCb);\n    return () => {\n      controls.removeEventListener('start', onStartCb);\n      controls.removeEventListener('end', onEndCb);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, setEvents]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { TrackballControls as TrackballControls$1 } from 'three-stdlib';\n\nconst TrackballControls = /* @__PURE__ */React.forwardRef(({\n  makeDefault,\n  camera,\n  domElement,\n  regress,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const {\n    invalidate,\n    camera: defaultCamera,\n    gl,\n    events,\n    set,\n    get,\n    performance,\n    viewport\n  } = useThree();\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new TrackballControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate]);\n  React.useEffect(() => {\n    controls.handleResize();\n  }, [viewport]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, restProps));\n});\n\nexport { TrackballControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { forwardRef, useMemo, useEffect } from 'react';\nimport { ArcballControls as ArcballControls$1 } from 'three-stdlib';\n\nconst ArcballControls = /* @__PURE__ */forwardRef(({\n  camera,\n  makeDefault,\n  regress,\n  domElement,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = useMemo(() => new ArcballControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      controls.removeEventListener('change', callback);\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n    };\n  }, [onChange, onStart, onEnd]);\n  useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, restProps));\n});\n\nexport { ArcballControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { TransformControls as TransformControls$1 } from 'three-stdlib';\n\nconst TransformControls = /* @__PURE__ */React.forwardRef(({\n  children,\n  domElement,\n  onChange,\n  onMouseDown,\n  onMouseUp,\n  onObjectChange,\n  object,\n  makeDefault,\n  camera,\n  // Transform\n  enabled,\n  axis,\n  mode,\n  translationSnap,\n  rotationSnap,\n  scaleSnap,\n  space,\n  size,\n  showX,\n  showY,\n  showZ,\n  ...props\n}, ref) => {\n  const defaultControls = useThree(state => state.controls);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new TransformControls$1(explCamera, explDomElement), [explCamera, explDomElement]);\n  const group = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (object) {\n      controls.attach(object instanceof THREE.Object3D ? object : object.current);\n    } else if (group.current instanceof THREE.Object3D) {\n      controls.attach(group.current);\n    }\n    return () => void controls.detach();\n  }, [object, children, controls]);\n  React.useEffect(() => {\n    if (defaultControls) {\n      const callback = event => defaultControls.enabled = !event.value;\n      controls.addEventListener('dragging-changed', callback);\n      return () => controls.removeEventListener('dragging-changed', callback);\n    }\n  }, [controls, defaultControls]);\n  const onChangeRef = React.useRef(undefined);\n  const onMouseDownRef = React.useRef(undefined);\n  const onMouseUpRef = React.useRef(undefined);\n  const onObjectChangeRef = React.useRef(undefined);\n  React.useLayoutEffect(() => void (onChangeRef.current = onChange), [onChange]);\n  React.useLayoutEffect(() => void (onMouseDownRef.current = onMouseDown), [onMouseDown]);\n  React.useLayoutEffect(() => void (onMouseUpRef.current = onMouseUp), [onMouseUp]);\n  React.useLayoutEffect(() => void (onObjectChangeRef.current = onObjectChange), [onObjectChange]);\n  React.useEffect(() => {\n    const onChange = e => {\n      invalidate();\n      onChangeRef.current == null || onChangeRef.current(e);\n    };\n    const onMouseDown = e => onMouseDownRef.current == null ? void 0 : onMouseDownRef.current(e);\n    const onMouseUp = e => onMouseUpRef.current == null ? void 0 : onMouseUpRef.current(e);\n    const onObjectChange = e => onObjectChangeRef.current == null ? void 0 : onObjectChangeRef.current(e);\n    controls.addEventListener('change', onChange);\n    controls.addEventListener('mouseDown', onMouseDown);\n    controls.addEventListener('mouseUp', onMouseUp);\n    controls.addEventListener('objectChange', onObjectChange);\n    return () => {\n      controls.removeEventListener('change', onChange);\n      controls.removeEventListener('mouseDown', onMouseDown);\n      controls.removeEventListener('mouseUp', onMouseUp);\n      controls.removeEventListener('objectChange', onObjectChange);\n    };\n  }, [invalidate, controls]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: ref,\n    object: controls,\n    enabled: enabled,\n    axis: axis,\n    mode: mode,\n    translationSnap: translationSnap,\n    rotationSnap: rotationSnap,\n    scaleSnap: scaleSnap,\n    space: space,\n    size: size,\n    showX: showX,\n    showY: showY,\n    showZ: showZ\n  }), /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props), children));\n});\n\nexport { TransformControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport { PointerLockControls as PointerLockControls$1 } from 'three-stdlib';\n\nconst PointerLockControls = /* @__PURE__ */React.forwardRef(({\n  domElement,\n  selector,\n  onChange,\n  onLock,\n  onUnlock,\n  enabled = true,\n  makeDefault,\n  ...props\n}, ref) => {\n  const {\n    camera,\n    ...rest\n  } = props;\n  const setEvents = useThree(state => state.setEvents);\n  const gl = useThree(state => state.gl);\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const events = useThree(state => state.events);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new PointerLockControls$1(explCamera), [explCamera]);\n  React.useEffect(() => {\n    if (enabled) {\n      controls.connect(explDomElement);\n      // Force events to be centered while PLC is active\n      const oldComputeOffsets = get().events.compute;\n      setEvents({\n        compute(event, state) {\n          const offsetX = state.size.width / 2;\n          const offsetY = state.size.height / 2;\n          state.pointer.set(offsetX / state.size.width * 2 - 1, -(offsetY / state.size.height) * 2 + 1);\n          state.raycaster.setFromCamera(state.pointer, state.camera);\n        }\n      });\n      return () => {\n        controls.disconnect();\n        setEvents({\n          compute: oldComputeOffsets\n        });\n      };\n    }\n  }, [enabled, controls]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n    controls.addEventListener('change', callback);\n    if (onLock) controls.addEventListener('lock', onLock);\n    if (onUnlock) controls.addEventListener('unlock', onUnlock);\n\n    // Enforce previous interaction\n    const handler = () => controls.lock();\n    const elements = selector ? Array.from(document.querySelectorAll(selector)) : [document];\n    elements.forEach(element => element && element.addEventListener('click', handler));\n    return () => {\n      controls.removeEventListener('change', callback);\n      if (onLock) controls.removeEventListener('lock', onLock);\n      if (onUnlock) controls.removeEventListener('unlock', onUnlock);\n      elements.forEach(element => element ? element.removeEventListener('click', handler) : undefined);\n    };\n  }, [onChange, onLock, onUnlock, selector, controls, invalidate]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, rest));\n});\n\nexport { PointerLockControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { FirstPersonControls as FirstPersonControls$1 } from 'three-stdlib';\n\nconst FirstPersonControls = /* @__PURE__ */React.forwardRef(({\n  domElement,\n  makeDefault,\n  ...props\n}, ref) => {\n  const camera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const get = useThree(state => state.get);\n  const set = useThree(state => state.set);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const [controls] = React.useState(() => new FirstPersonControls$1(camera, explDomElement));\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  useFrame((_, delta) => {\n    controls.update(delta);\n  }, -1);\n  return controls ? /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, props)) : null;\n});\n\nexport { FirstPersonControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { Box3, MathUtils, Matrix4, Quaternion, Raycaster, Sphere, Spherical, Vector2, Vector3, Vector4 } from 'three';\nimport * as React from 'react';\nimport { forwardRef, useMemo, useEffect } from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport CameraControlsImpl from 'camera-controls';\n\nconst CameraControls = /* @__PURE__ */forwardRef((props, ref) => {\n  // useMemo is used here instead of useEffect, otherwise the useMemo below runs first and throws\n  useMemo(() => {\n    // to allow for tree shaking, we only import the subset of THREE that is used by camera-controls\n    // see https://github.com/yomotsu/camera-controls#important\n    const subsetOfTHREE = {\n      Box3,\n      MathUtils: {\n        clamp: MathUtils.clamp\n      },\n      Matrix4,\n      Quaternion,\n      Raycaster,\n      Sphere,\n      Spherical,\n      Vector2,\n      Vector3,\n      Vector4\n    };\n    CameraControlsImpl.install({\n      THREE: subsetOfTHREE\n    });\n    extend({\n      CameraControlsImpl\n    });\n  }, []);\n  const {\n    camera,\n    domElement,\n    makeDefault,\n    onStart,\n    onEnd,\n    onChange,\n    regress,\n    ...restProps\n  } = props;\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const invalidate = useThree(state => state.invalidate);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = useMemo(() => new CameraControlsImpl(explCamera), [explCamera]);\n  useFrame((state, delta) => {\n    if (controls.enabled) controls.update(delta);\n  }, -1);\n  useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.disconnect();\n  }, [explDomElement, controls]);\n  useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n    controls.addEventListener('update', callback);\n    controls.addEventListener('controlstart', onStartCb);\n    controls.addEventListener('controlend', onEndCb);\n    controls.addEventListener('control', callback);\n    controls.addEventListener('transitionstart', callback);\n    controls.addEventListener('wake', callback);\n    return () => {\n      controls.removeEventListener('update', callback);\n      controls.removeEventListener('controlstart', onStartCb);\n      controls.removeEventListener('controlend', onEndCb);\n      controls.removeEventListener('control', callback);\n      controls.removeEventListener('transitionstart', callback);\n      controls.removeEventListener('wake', callback);\n    };\n  }, [controls, onStart, onEnd, invalidate, setEvents, regress, onChange]);\n  useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls: controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, restProps));\n});\n\nexport { CameraControls };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, useInstanceHandle, useFrame } from '@react-three/fiber';\nimport { misc, easing } from 'maath';\n\nconst isObject3DRef = ref => (ref == null ? void 0 : ref.current) instanceof THREE.Object3D;\nconst MotionContext = /* @__PURE__ */React.createContext(null);\nfunction useMotion() {\n  const context = React.useContext(MotionContext);\n  if (!context) throw new Error('useMotion hook must be used in a MotionPathControls component.');\n  return context;\n}\nfunction Debug({\n  points = 50,\n  color = 'black'\n}) {\n  const {\n    path\n  } = useMotion();\n  const [dots, setDots] = React.useState([]);\n  const material = React.useMemo(() => new THREE.MeshBasicMaterial({\n    color: color\n  }), [color]);\n  const geometry = React.useMemo(() => new THREE.SphereGeometry(0.025, 16, 16), []);\n  const last = React.useRef([]);\n  React.useEffect(() => {\n    if (path.curves !== last.current) {\n      setDots(path.getPoints(points));\n      last.current = path.curves;\n    }\n  });\n  return dots.map((item, index) => /*#__PURE__*/React.createElement(\"mesh\", {\n    key: index,\n    material: material,\n    geometry: geometry,\n    position: [item.x, item.y, item.z]\n  }));\n}\nconst MotionPathControls = /* @__PURE__ */React.forwardRef(({\n  children,\n  curves = [],\n  debug = false,\n  debugColor = 'black',\n  object,\n  focus,\n  loop = true,\n  offset = undefined,\n  smooth = false,\n  eps = 0.00001,\n  damping = 0.1,\n  focusDamping = 0.1,\n  maxSpeed = Infinity,\n  ...props\n}, fref) => {\n  const {\n    camera\n  } = useThree();\n  const ref = React.useRef(null);\n  const pos = React.useRef(offset !== null && offset !== void 0 ? offset : 0);\n  const path = React.useMemo(() => new THREE.CurvePath(), []);\n  const state = React.useMemo(() => ({\n    focus,\n    object: (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object : {\n      current: camera\n    },\n    path,\n    current: pos.current,\n    offset: pos.current,\n    point: new THREE.Vector3(),\n    tangent: new THREE.Vector3(),\n    next: new THREE.Vector3()\n  }), [focus, object]);\n  const instanceRef = useInstanceHandle(ref);\n  React.useLayoutEffect(() => {\n    const instance = instanceRef.current;\n    path.curves = [];\n    const _curves = curves.length > 0 ? curves : instance.children.map(instance => instance.object);\n    for (let i = 0; i < _curves.length; i++) path.add(_curves[i]);\n\n    // Smoothen curve\n    if (smooth) {\n      const points = path.getPoints(typeof smooth === 'number' ? smooth : 1);\n      const catmull = new THREE.CatmullRomCurve3(points);\n      path.curves = [catmull];\n    }\n    path.updateArcLengths();\n  });\n  React.useImperativeHandle(fref, () => Object.assign(ref.current, {\n    motion: state\n  }), [state]);\n  React.useLayoutEffect(() => {\n    // When offset changes, normalise pos to avoid overshoot spinning\n    pos.current = misc.repeat(pos.current, 1);\n  }, [offset]);\n  const vec = React.useMemo(() => new THREE.Vector3(), []);\n  useFrame((_state, delta) => {\n    const lastOffset = state.offset;\n    easing.damp(pos, 'current', offset !== undefined ? offset : state.current, damping, delta, maxSpeed, undefined, eps);\n    state.offset = loop ? misc.repeat(pos.current, 1) : misc.clamp(pos.current, 0, 1);\n    if (path.getCurveLengths().length > 0) {\n      path.getPointAt(state.offset, state.point);\n      path.getTangentAt(state.offset, state.tangent).normalize();\n      path.getPointAt(misc.repeat(pos.current - (lastOffset - state.offset), 1), state.next);\n      const target = (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object.current : camera;\n      target.position.copy(state.point);\n      if (focus) {\n        easing.dampLookAt(target, isObject3DRef(focus) ? focus.current.getWorldPosition(vec) : focus, focusDamping, delta, maxSpeed, undefined, eps);\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(MotionContext.Provider, {\n    value: state\n  }, children, debug && /*#__PURE__*/React.createElement(Debug, {\n    color: debugColor\n  })));\n});\n\nexport { MotionPathControls, useMotion };\n", "import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { Vector3, Object3D, Matrix4, Quaternion } from 'three';\nimport { OrthographicCamera } from './OrthographicCamera.js';\nimport { Hud } from './Hud.js';\n\nconst Context = /* @__PURE__ */React.createContext({});\nconst useGizmoContext = () => {\n  return React.useContext(Context);\n};\nconst turnRate = 2 * Math.PI; // turn rate in angles per second\nconst dummy = /* @__PURE__ */new Object3D();\nconst matrix = /* @__PURE__ */new Matrix4();\nconst [q1, q2] = [/* @__PURE__ */new Quaternion(), /* @__PURE__ */new Quaternion()];\nconst target = /* @__PURE__ */new Vector3();\nconst targetPosition = /* @__PURE__ */new Vector3();\nconst isOrbitControls = controls => {\n  return 'minPolarAngle' in controls;\n};\nconst isCameraControls = controls => {\n  return 'getTarget' in controls;\n};\nconst GizmoHelper = ({\n  alignment = 'bottom-right',\n  margin = [80, 80],\n  renderPriority = 1,\n  onUpdate,\n  onTarget,\n  children\n}) => {\n  const size = useThree(state => state.size);\n  const mainCamera = useThree(state => state.camera);\n  // @ts-ignore\n  const defaultControls = useThree(state => state.controls);\n  const invalidate = useThree(state => state.invalidate);\n  const gizmoRef = React.useRef(null);\n  const virtualCam = React.useRef(null);\n  const animating = React.useRef(false);\n  const radius = React.useRef(0);\n  const focusPoint = React.useRef(new Vector3(0, 0, 0));\n  const defaultUp = React.useRef(new Vector3(0, 0, 0));\n  React.useEffect(() => {\n    defaultUp.current.copy(mainCamera.up);\n    dummy.up.copy(mainCamera.up);\n  }, [mainCamera]);\n  const tweenCamera = React.useCallback(direction => {\n    animating.current = true;\n    if (defaultControls || onTarget) {\n      focusPoint.current = (onTarget == null ? void 0 : onTarget()) || (isCameraControls(defaultControls) ? defaultControls.getTarget(focusPoint.current) : defaultControls == null ? void 0 : defaultControls.target);\n    }\n    radius.current = mainCamera.position.distanceTo(target);\n\n    // Rotate from current camera orientation\n    q1.copy(mainCamera.quaternion);\n\n    // To new current camera orientation\n    targetPosition.copy(direction).multiplyScalar(radius.current).add(target);\n    dummy.lookAt(targetPosition);\n    q2.copy(dummy.quaternion);\n    invalidate();\n  }, [defaultControls, mainCamera, onTarget, invalidate]);\n  useFrame((_, delta) => {\n    if (virtualCam.current && gizmoRef.current) {\n      var _gizmoRef$current;\n      // Animate step\n      if (animating.current) {\n        if (q1.angleTo(q2) < 0.01) {\n          animating.current = false;\n          // Orbit controls uses UP vector as the orbit axes,\n          // so we need to reset it after the animation is done\n          // moving it around for the controls to work correctly\n          if (isOrbitControls(defaultControls)) {\n            mainCamera.up.copy(defaultUp.current);\n          }\n        } else {\n          const step = delta * turnRate;\n          // animate position by doing a slerp and then scaling the position on the unit sphere\n          q1.rotateTowards(q2, step);\n          // animate orientation\n          mainCamera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current);\n          mainCamera.up.set(0, 1, 0).applyQuaternion(q1).normalize();\n          mainCamera.quaternion.copy(q1);\n          if (isCameraControls(defaultControls)) defaultControls.setPosition(mainCamera.position.x, mainCamera.position.y, mainCamera.position.z);\n          if (onUpdate) onUpdate();else if (defaultControls) defaultControls.update(delta);\n          invalidate();\n        }\n      }\n\n      // Sync Gizmo with main camera orientation\n      matrix.copy(mainCamera.matrix).invert();\n      (_gizmoRef$current = gizmoRef.current) == null || _gizmoRef$current.quaternion.setFromRotationMatrix(matrix);\n    }\n  });\n  const gizmoHelperContext = React.useMemo(() => ({\n    tweenCamera\n  }), [tweenCamera]);\n\n  // Position gizmo component within scene\n  const [marginX, marginY] = margin;\n  const x = alignment.endsWith('-center') ? 0 : alignment.endsWith('-left') ? -size.width / 2 + marginX : size.width / 2 - marginX;\n  const y = alignment.startsWith('center-') ? 0 : alignment.startsWith('top-') ? size.height / 2 - marginY : -size.height / 2 + marginY;\n  return /*#__PURE__*/React.createElement(Hud, {\n    renderPriority: renderPriority\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: gizmoHelperContext\n  }, /*#__PURE__*/React.createElement(OrthographicCamera, {\n    makeDefault: true,\n    ref: virtualCam,\n    position: [0, 0, 200]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: gizmoRef,\n    position: [x, y, 0]\n  }, children)));\n};\n\nexport { GizmoHelper, useGizmoContext };\n", "import * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\n\nfunction RenderHud({\n  defaultScene,\n  defaultCamera,\n  renderPriority = 1\n}) {\n  const {\n    gl,\n    scene,\n    camera\n  } = useThree();\n  let oldCLear;\n  useFrame(() => {\n    oldCLear = gl.autoClear;\n    if (renderPriority === 1) {\n      // Clear scene and render the default scene\n      gl.autoClear = true;\n      gl.render(defaultScene, defaultCamera);\n    }\n    // Disable cleaning and render the portal with its own camera\n    gl.autoClear = false;\n    gl.clearDepth();\n    gl.render(scene, camera);\n    // Restore default\n    gl.autoClear = oldCLear;\n  }, renderPriority);\n  // Without an element that receives pointer events state.pointer will always be 0/0\n  return /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  });\n}\nfunction Hud({\n  children,\n  renderPriority = 1\n}) {\n  const {\n    scene: defaultScene,\n    camera: defaultCamera\n  } = useThree();\n  const [hudScene] = React.useState(() => new THREE.Scene());\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(RenderHud, {\n    defaultScene: defaultScene,\n    defaultCamera: defaultCamera,\n    renderPriority: renderPriority\n  })), hudScene, {\n    events: {\n      priority: renderPriority + 1\n    }\n  }));\n}\n\nexport { Hud };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { useGizmoContext } from './GizmoHelper.js';\nimport { Vector3, CanvasTexture } from 'three';\n\nconst colors = {\n  bg: '#f0f0f0',\n  hover: '#999',\n  text: 'black',\n  stroke: 'black'\n};\nconst defaultFaces = ['Right', 'Left', 'Top', 'Bottom', 'Front', 'Back'];\nconst makePositionVector = xyz => new Vector3(...xyz).multiplyScalar(0.38);\nconst corners = /* @__PURE__ */[[1, 1, 1], [1, 1, -1], [1, -1, 1], [1, -1, -1], [-1, 1, 1], [-1, 1, -1], [-1, -1, 1], [-1, -1, -1]].map(makePositionVector);\nconst cornerDimensions = [0.25, 0.25, 0.25];\nconst edges = /* @__PURE__ */[[1, 1, 0], [1, 0, 1], [1, 0, -1], [1, -1, 0], [0, 1, 1], [0, 1, -1], [0, -1, 1], [0, -1, -1], [-1, 1, 0], [-1, 0, 1], [-1, 0, -1], [-1, -1, 0]].map(makePositionVector);\nconst edgeDimensions = /* @__PURE__ */edges.map(edge => edge.toArray().map(axis => axis == 0 ? 0.5 : 0.25));\nconst FaceMaterial = ({\n  hover,\n  index,\n  font = '20px Inter var, Arial, sans-serif',\n  faces = defaultFaces,\n  color = colors.bg,\n  hoverColor = colors.hover,\n  textColor = colors.text,\n  strokeColor = colors.stroke,\n  opacity = 1\n}) => {\n  const gl = useThree(state => state.gl);\n  const texture = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 128;\n    canvas.height = 128;\n    const context = canvas.getContext('2d');\n    context.fillStyle = color;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    context.strokeStyle = strokeColor;\n    context.strokeRect(0, 0, canvas.width, canvas.height);\n    context.font = font;\n    context.textAlign = 'center';\n    context.fillStyle = textColor;\n    context.fillText(faces[index].toUpperCase(), 64, 76);\n    return new CanvasTexture(canvas);\n  }, [index, faces, font, color, textColor, strokeColor]);\n  return /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    map: texture,\n    \"map-anisotropy\": gl.capabilities.getMaxAnisotropy() || 1,\n    attach: `material-${index}`,\n    color: hover ? hoverColor : 'white',\n    transparent: true,\n    opacity: opacity\n  });\n};\nconst FaceCube = props => {\n  const {\n    tweenCamera\n  } = useGizmoContext();\n  const [hover, setHover] = React.useState(null);\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setHover(null);\n  };\n  const handleClick = e => {\n    e.stopPropagation();\n    tweenCamera(e.face.normal);\n  };\n  const handlePointerMove = e => {\n    e.stopPropagation();\n    setHover(Math.floor(e.faceIndex / 2));\n  };\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    onPointerOut: handlePointerOut,\n    onPointerMove: handlePointerMove,\n    onClick: props.onClick || handleClick\n  }, [...Array(6)].map((_, index) => /*#__PURE__*/React.createElement(FaceMaterial, _extends({\n    key: index,\n    index: index,\n    hover: hover === index\n  }, props))), /*#__PURE__*/React.createElement(\"boxGeometry\", null));\n};\nconst EdgeCube = ({\n  onClick,\n  dimensions,\n  position,\n  hoverColor = colors.hover\n}) => {\n  const {\n    tweenCamera\n  } = useGizmoContext();\n  const [hover, setHover] = React.useState(false);\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setHover(false);\n  };\n  const handlePointerOver = e => {\n    e.stopPropagation();\n    setHover(true);\n  };\n  const handleClick = e => {\n    e.stopPropagation();\n    tweenCamera(position);\n  };\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    scale: 1.01,\n    position: position,\n    onPointerOver: handlePointerOver,\n    onPointerOut: handlePointerOut,\n    onClick: onClick || handleClick\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    color: hover ? hoverColor : 'white',\n    transparent: true,\n    opacity: 0.6,\n    visible: hover\n  }), /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: dimensions\n  }));\n};\nconst GizmoViewcube = props => {\n  return /*#__PURE__*/React.createElement(\"group\", {\n    scale: [60, 60, 60]\n  }, /*#__PURE__*/React.createElement(FaceCube, props), edges.map((edge, index) => /*#__PURE__*/React.createElement(EdgeCube, _extends({\n    key: index,\n    position: edge,\n    dimensions: edgeDimensions[index]\n  }, props))), corners.map((corner, index) => /*#__PURE__*/React.createElement(EdgeCube, _extends({\n    key: index,\n    position: corner,\n    dimensions: cornerDimensions\n  }, props))));\n};\n\nexport { GizmoViewcube };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis({\n  scale = [0.8, 0.05, 0.05],\n  color,\n  rotation\n}) {\n  return /*#__PURE__*/React.createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: scale\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\nfunction AxisHead({\n  onClick,\n  font,\n  disabled,\n  arcStyle,\n  label,\n  labelColor,\n  axisHeadScale = 1,\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const texture = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n    if (label) {\n      context.font = font;\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor, font]);\n  const [active, setActive] = React.useState(false);\n  const scale = (label ? 1 : 0.75) * (active ? 1.2 : 1) * axisHeadScale;\n  const handlePointerOver = e => {\n    e.stopPropagation();\n    setActive(true);\n  };\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setActive(false);\n  };\n  return /*#__PURE__*/React.createElement(\"sprite\", _extends({\n    scale: scale,\n    onPointerOver: !disabled ? handlePointerOver : undefined,\n    onPointerOut: !disabled ? onClick || handlePointerOut : undefined\n  }, props), /*#__PURE__*/React.createElement(\"spriteMaterial\", {\n    map: texture,\n    \"map-anisotropy\": gl.capabilities.getMaxAnisotropy() || 1,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\nconst GizmoViewport = ({\n  hideNegativeAxes,\n  hideAxisHeads,\n  disabled,\n  font = '18px Inter var, Arial, sans-serif',\n  axisColors = ['#ff2060', '#20df80', '#2080ff'],\n  axisHeadScale = 1,\n  axisScale,\n  labels = ['X', 'Y', 'Z'],\n  labelColor = '#000',\n  onClick,\n  ...props\n}) => {\n  const [colorX, colorY, colorZ] = axisColors;\n  const {\n    tweenCamera\n  } = useGizmoContext();\n  const axisHeadProps = {\n    font,\n    disabled,\n    labelColor,\n    onClick,\n    axisHeadScale,\n    onPointerDown: !disabled ? e => {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    } : undefined\n  };\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    scale: 40\n  }, props), /*#__PURE__*/React.createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0],\n    scale: axisScale\n  }), !hideAxisHeads && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: labels[0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: labels[1]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: labels[2]\n  }, axisHeadProps)), !hideNegativeAxes && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)))));\n};\n\nexport { GizmoViewport };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nconst GridMaterial = /* @__PURE__ */shaderMaterial({\n  cellSize: 0.5,\n  sectionSize: 1,\n  fadeDistance: 100,\n  fadeStrength: 1,\n  fadeFrom: 1,\n  cellThickness: 0.5,\n  sectionThickness: 1,\n  cellColor: /* @__PURE__ */new THREE.Color(),\n  sectionColor: /* @__PURE__ */new THREE.Color(),\n  infiniteGrid: false,\n  followCamera: false,\n  worldCamProjPosition: /* @__PURE__ */new THREE.Vector3(),\n  worldPlanePosition: /* @__PURE__ */new THREE.Vector3()\n}, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform vec3 worldPlanePosition;\n    uniform float fadeDistance;\n    uniform bool infiniteGrid;\n    uniform bool followCamera;\n\n    void main() {\n      localPosition = position.xzy;\n      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;\n      \n      worldPosition = modelMatrix * vec4(localPosition, 1.0);\n      if (followCamera) {\n        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);\n        localPosition = (inverse(modelMatrix) * worldPosition).xyz;\n      }\n\n      gl_Position = projectionMatrix * viewMatrix * worldPosition;\n    }\n  `, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform float cellSize;\n    uniform float sectionSize;\n    uniform vec3 cellColor;\n    uniform vec3 sectionColor;\n    uniform float fadeDistance;\n    uniform float fadeStrength;\n    uniform float fadeFrom;\n    uniform float cellThickness;\n    uniform float sectionThickness;\n\n    float getGrid(float size, float thickness) {\n      vec2 r = localPosition.xz / size;\n      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n      float line = min(grid.x, grid.y) + 1.0 - thickness;\n      return 1.0 - min(line, 1.0);\n    }\n\n    void main() {\n      float g1 = getGrid(cellSize, cellThickness);\n      float g2 = getGrid(sectionSize, sectionThickness);\n\n      vec3 from = worldCamProjPosition*vec3(fadeFrom);\n      float dist = distance(from, worldPosition.xyz);\n      float d = 1.0 - min(dist / fadeDistance, 1.0);\n      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));\n\n      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));\n      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\n      if (gl_FragColor.a <= 0.0) discard;\n\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n    }\n  `);\nconst Grid = /* @__PURE__ */React.forwardRef(({\n  args,\n  cellColor = '#000000',\n  sectionColor = '#2080ff',\n  cellSize = 0.5,\n  sectionSize = 1,\n  followCamera = false,\n  infiniteGrid = false,\n  fadeDistance = 100,\n  fadeStrength = 1,\n  fadeFrom = 1,\n  cellThickness = 0.5,\n  sectionThickness = 1,\n  side = THREE.BackSide,\n  ...props\n}, fRef) => {\n  extend({\n    GridMaterial\n  });\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  const plane = new THREE.Plane();\n  const upVector = new THREE.Vector3(0, 1, 0);\n  const zeroVector = new THREE.Vector3(0, 0, 0);\n  useFrame(state => {\n    plane.setFromNormalAndCoplanarPoint(upVector, zeroVector).applyMatrix4(ref.current.matrixWorld);\n    const gridMaterial = ref.current.material;\n    const worldCamProjPosition = gridMaterial.uniforms.worldCamProjPosition;\n    const worldPlanePosition = gridMaterial.uniforms.worldPlanePosition;\n    plane.projectPoint(state.camera.position, worldCamProjPosition.value);\n    worldPlanePosition.value.set(0, 0, 0).applyMatrix4(ref.current.matrixWorld);\n  });\n  const uniforms1 = {\n    cellSize,\n    sectionSize,\n    cellColor,\n    sectionColor,\n    cellThickness,\n    sectionThickness\n  };\n  const uniforms2 = {\n    fadeDistance,\n    fadeStrength,\n    fadeFrom,\n    infiniteGrid,\n    followCamera\n  };\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    frustumCulled: false\n  }, props), /*#__PURE__*/React.createElement(\"gridMaterial\", _extends({\n    transparent: true,\n    \"extensions-derivatives\": true,\n    side: side\n  }, uniforms1, uniforms2)), /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: args\n  }));\n});\n\nexport { Grid };\n", "import * as React from 'react';\nimport { CubeTextureLoader } from 'three';\nimport { useLoader } from '@react-three/fiber';\n\nfunction useCubeTexture(files, {\n  path\n}) {\n  const [cubeTexture] = useLoader(CubeTextureLoader, [files], loader => loader.setPath(path));\n  return cubeTexture;\n}\nuseCubeTexture.preload = (files, {\n  path\n}) => useLoader.preload(CubeTextureLoader, [files], loader => loader.setPath(path));\nfunction CubeTexture({\n  children,\n  files,\n  ...options\n}) {\n  const texture = useCubeTexture(files, {\n    ...options\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n}\n\nexport { CubeTexture, useCubeTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { FBXLoader } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\nimport { Clone } from './Clone.js';\n\nfunction useFBX(path) {\n  return useLoader(FBXLoader, path);\n}\nuseFBX.preload = path => useLoader.preload(FBXLoader, path);\nuseFBX.clear = input => useLoader.clear(FBXLoader, input);\nfunction Fbx({\n  path,\n  ...props\n}) {\n  const fbx = useFBX(path);\n  const object = fbx.children[0];\n  return /*#__PURE__*/React.createElement(Clone, _extends({}, props, {\n    object: object\n  }));\n}\n\nexport { Fbx, useFBX };\n", "import * as React from 'react';\nimport { useEffect } from 'react';\nimport { useThree, useLoader } from '@react-three/fiber';\nimport { KTX2Loader } from 'three-stdlib';\nimport { IsObject } from './Texture.js';\n\nconst cdn = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master';\nfunction useKTX2(input, basisPath = `${cdn}/basis/`) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(KTX2Loader, IsObject(input) ? Object.values(input) : input, loader => {\n    loader.detectSupport(gl);\n    loader.setTranscoderPath(basisPath);\n  });\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\nuseKTX2.preload = (url, basisPath = `${cdn}/basis/`) => useLoader.preload(KTX2Loader, url, loader => {\n  loader.setTranscoderPath(basisPath);\n});\nuseKTX2.clear = input => useLoader.clear(KTX2Loader, input);\n\n//\n\nconst Ktx2 = ({\n  children,\n  input,\n  basisPath\n}) => {\n  const texture = useKTX2(input, basisPath);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n};\n\nexport { Ktx2, useKTX2 };\n", "import * as React from 'react';\nimport { useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\nimport { Events } from 'hls.js';\n\n/* eslint react-hooks/exhaustive-deps: 1 */\nconst IS_BROWSER = /* @__PURE__ */((_window$document, _window$navigator) => typeof window !== 'undefined' && typeof ((_window$document = window.document) == null ? void 0 : _window$document.createElement) === 'function' && typeof ((_window$navigator = window.navigator) == null ? void 0 : _window$navigator.userAgent) === 'string')();\nlet _HLSModule = null;\nasync function getHls(...args) {\n  var _HLSModule2;\n  (_HLSModule2 = _HLSModule) !== null && _HLSModule2 !== void 0 ? _HLSModule2 : _HLSModule = await import('hls.js'); // singleton\n  const Ctor = _HLSModule.default;\n  if (Ctor.isSupported()) {\n    return new Ctor(...args);\n  }\n  return null;\n}\nfunction useVideoTexture(srcOrSrcObject, {\n  unsuspend = 'loadedmetadata',\n  start = true,\n  hls: hlsConfig = {},\n  crossOrigin = 'anonymous',\n  muted = true,\n  loop = true,\n  playsInline = true,\n  onVideoFrame,\n  ...videoProps\n} = {}) {\n  const gl = useThree(state => state.gl);\n  const hlsRef = useRef(null);\n  const texture = suspend(() => new Promise(async res => {\n    let src = undefined;\n    let srcObject = undefined;\n    if (typeof srcOrSrcObject === 'string') {\n      src = srcOrSrcObject;\n    } else {\n      srcObject = srcOrSrcObject;\n    }\n    const video = Object.assign(document.createElement('video'), {\n      src,\n      srcObject,\n      crossOrigin,\n      loop,\n      muted,\n      playsInline,\n      ...videoProps\n    });\n\n    // hlsjs extension\n    if (src && IS_BROWSER && src.endsWith('.m3u8')) {\n      const hls = hlsRef.current = await getHls(hlsConfig);\n      if (hls) {\n        hls.on(Events.MEDIA_ATTACHED, () => void hls.loadSource(src));\n        hls.attachMedia(video);\n      }\n    }\n    const texture = new THREE.VideoTexture(video);\n    texture.colorSpace = gl.outputColorSpace;\n    video.addEventListener(unsuspend, () => res(texture));\n  }), [srcOrSrcObject]);\n  const video = texture.source.data;\n  useVideoFrame(video, onVideoFrame);\n  useEffect(() => {\n    start && texture.image.play();\n    return () => {\n      if (hlsRef.current) {\n        hlsRef.current.destroy();\n        hlsRef.current = null;\n      }\n    };\n  }, [texture, start]);\n  return texture;\n}\n\n//\n// VideoTexture\n//\n\nconst VideoTexture = /* @__PURE__ */forwardRef(({\n  children,\n  src,\n  ...config\n}, fref) => {\n  const texture = useVideoTexture(src, config);\n  useEffect(() => {\n    return () => void texture.dispose();\n  }, [texture]);\n  useImperativeHandle(fref, () => texture, [texture]); // expose texture through ref\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n});\n\n// rVFC hook\n\nconst useVideoFrame = (video, f) => {\n  useEffect(() => {\n    if (!f) return;\n    if (!video.requestVideoFrameCallback) return;\n    let handle;\n    const callback = (...args) => {\n      f(...args);\n      handle = video.requestVideoFrameCallback(callback);\n    };\n    video.requestVideoFrameCallback(callback);\n    return () => video.cancelVideoFrameCallback(handle);\n  }, [video, f]);\n};\n\nexport { VideoTexture, useVideoTexture };\n", "import * as THREE from 'three';\nimport { TextureLoader } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\nimport * as React from 'react';\nimport { useState } from 'react';\n\n/* eslint react-hooks/exhaustive-deps: 1 */\n// utils\nconst getFirstFrame = (frames, frameName) => {\n  if (Array.isArray(frames)) {\n    return frames[0];\n  } else {\n    const k = frameName !== null && frameName !== void 0 ? frameName : Object.keys(frames)[0];\n    return frames[k][0];\n  }\n};\nconst checkIfFrameIsEmpty = frameData => {\n  for (let i = 3; i < frameData.length; i += 4) {\n    if (frameData[i] !== 0) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction useSpriteLoader(/** The URL of the sprite sheet. */\ninput, /** The JSON data of the sprite sheet. */\njson, /** The names of the animations in the sprite sheet. */\nanimationNames, /** The number of frames in the sprite sheet. */\nnumberOfFrames, /** A callback that is called when the sprite sheet is loaded. */\nonLoad, /** The settings to use when creating the 2D context. */\ncanvasRenderingContext2DSettings) {\n  const viewportRef = React.useRef(useThree(state => state.viewport));\n  const spriteDataRef = React.useRef(null);\n  const totalFrames = React.useRef(0);\n  const aspectFactor = 0.1;\n  const inputRef = React.useRef(input);\n  const jsonRef = React.useRef(json);\n  const animationFramesRef = React.useRef(animationNames);\n  const [spriteData, setSpriteData] = useState(null);\n  const [spriteTexture, setSpriteTexture] = React.useState(new THREE.Texture());\n  const textureLoader = React.useMemo(() => new THREE.TextureLoader(), []);\n  const [spriteObj, setSpriteObj] = useState(null);\n  const calculateAspectRatio = React.useCallback((width, height, factor) => {\n    const adaptedHeight = height * (viewportRef.current.aspect > width / height ? viewportRef.current.width / width : viewportRef.current.height / height);\n    const adaptedWidth = width * (viewportRef.current.aspect > width / height ? viewportRef.current.width / width : viewportRef.current.height / height);\n    const scaleX = adaptedWidth * factor;\n    const scaleY = adaptedHeight * factor;\n    const currentMaxScale = 1;\n    // Calculate the maximum scale based on the aspect ratio and max scale limit\n    let finalMaxScaleW = Math.min(currentMaxScale, scaleX);\n    let finalMaxScaleH = Math.min(currentMaxScale, scaleY);\n\n    // Ensure that scaleX and scaleY do not exceed the max scale while maintaining aspect ratio\n    if (scaleX > currentMaxScale) {\n      finalMaxScaleW = currentMaxScale;\n      finalMaxScaleH = scaleY / scaleX * currentMaxScale;\n    }\n    return new THREE.Vector3(finalMaxScaleW, finalMaxScaleH, 1);\n  }, []);\n  const getRowsAndColumns = React.useCallback((texture, totalFrames) => {\n    if (texture.image) {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d', canvasRenderingContext2DSettings);\n      if (!ctx) {\n        throw new Error('Failed to get 2d context');\n      }\n      canvas.width = texture.image.width;\n      canvas.height = texture.image.height;\n      ctx.drawImage(texture.image, 0, 0);\n      const width = texture.image.width;\n      const height = texture.image.height;\n\n      // Calculate rows and columns based on the number of frames and image dimensions\n      const cols = Math.round(Math.sqrt(totalFrames * (width / height)));\n      const rows = Math.round(totalFrames / cols);\n      const frameWidth = width / cols;\n      const frameHeight = height / rows;\n      const emptyFrames = [];\n      for (let row = 0; row < rows; row++) {\n        for (let col = 0; col < cols; col++) {\n          const frameIndex = row * cols + col;\n          if (frameIndex >= totalFrames) {\n            emptyFrames.push({\n              row,\n              col\n            });\n            continue;\n          }\n          const frameData = ctx.getImageData(col * frameWidth, row * frameHeight, frameWidth, frameHeight).data;\n          const isEmpty = checkIfFrameIsEmpty(frameData);\n          if (isEmpty) {\n            emptyFrames.push({\n              row,\n              col\n            });\n          }\n        }\n      }\n      return {\n        rows,\n        columns: cols,\n        frameWidth,\n        frameHeight,\n        emptyFrames\n      };\n    } else {\n      return {\n        rows: 0,\n        columns: 0,\n        frameWidth: 0,\n        frameHeight: 0,\n        emptyFrames: []\n      };\n    }\n  }, [canvasRenderingContext2DSettings]);\n\n  // calculate scale ratio for the frames\n  const calculateScaleRatio = React.useCallback(frames => {\n    // Helper function to calculate scale ratio for an array of frames\n    const processFrameArray = frameArray => {\n      // Find the largest frame\n      let largestFrame = null;\n      for (const frame of frameArray) {\n        const {\n          w,\n          h\n        } = frame.frame;\n        const area = w * h;\n        if (!largestFrame || area > largestFrame.area) {\n          largestFrame = {\n            w,\n            h,\n            area\n          };\n        }\n      }\n\n      // Set scaleRatio property on each frame\n      const frameArr = frameArray.map(frame => {\n        const {\n          w,\n          h\n        } = frame.frame;\n        const area = w * h;\n        const scaleRatio = largestFrame ? area === largestFrame.area ? 1 : Math.sqrt(area / largestFrame.area) : 1;\n        return {\n          ...frame,\n          scaleRatio\n        };\n      });\n      return frameArr;\n    };\n\n    // Handle both array and record cases\n    if (Array.isArray(frames)) {\n      return processFrameArray(frames);\n    } else {\n      const result = {};\n      for (const key in frames) {\n        result[key] = processFrameArray(frames[key]);\n      }\n      return result;\n    }\n  }, []);\n\n  // for frame based JSON Hash sprite data\n  const parseFrames = React.useCallback(() => {\n    const sprites = {};\n    const data = spriteDataRef.current;\n    const delimiters = animationFramesRef.current;\n    if (data) {\n      if (delimiters && Array.isArray(data['frames'])) {\n        for (let i = 0; i < delimiters.length; i++) {\n          // we convert each named animation group into an array\n          sprites[delimiters[i]] = [];\n          for (const value of data['frames']) {\n            const frameData = value['frame'];\n            const sourceWidth = value['sourceSize']['w'];\n            const sourceHeight = value['sourceSize']['h'];\n            if (typeof value['filename'] === 'string' && value['filename'].toLowerCase().indexOf(delimiters[i].toLowerCase()) !== -1) {\n              sprites[delimiters[i]].push({\n                ...value,\n                frame: frameData,\n                sourceSize: {\n                  w: sourceWidth,\n                  h: sourceHeight\n                }\n              });\n            }\n          }\n        }\n        for (const frame in sprites) {\n          const scaleRatioData = calculateScaleRatio(sprites[frame]);\n          if (Array.isArray(scaleRatioData)) {\n            sprites[frame] = scaleRatioData;\n          }\n        }\n        return sprites;\n      } else if (delimiters && typeof data['frames'] === 'object') {\n        for (let i = 0; i < delimiters.length; i++) {\n          // we convert each named animation group into an array\n          sprites[delimiters[i]] = [];\n          for (const innerKey in data['frames']) {\n            const value = data['frames'][innerKey];\n            const frameData = value['frame'];\n            const sourceWidth = value['sourceSize']['w'];\n            const sourceHeight = value['sourceSize']['h'];\n            if (typeof innerKey === 'string' && innerKey.toLowerCase().indexOf(delimiters[i].toLowerCase()) !== -1) {\n              sprites[delimiters[i]].push({\n                ...value,\n                frame: frameData,\n                sourceSize: {\n                  w: sourceWidth,\n                  h: sourceHeight\n                }\n              });\n            }\n          }\n        }\n        for (const frame in sprites) {\n          const scaleRatioData = calculateScaleRatio(sprites[frame]);\n          if (Array.isArray(scaleRatioData)) {\n            sprites[frame] = scaleRatioData;\n          }\n        }\n        return sprites;\n      } else {\n        let spritesArr = [];\n        if (data != null && data.frames) {\n          if (Array.isArray(data.frames)) {\n            spritesArr = data.frames.map(frame => ({\n              ...frame,\n              x: frame.frame.x,\n              y: frame.frame.y,\n              w: frame.frame.w,\n              h: frame.frame.h\n            }));\n          } else {\n            spritesArr = Object.values(data.frames).flat().map(frame => ({\n              ...frame,\n              x: frame.frame.x,\n              y: frame.frame.y,\n              w: frame.frame.w,\n              h: frame.frame.h\n            }));\n          }\n        }\n        return calculateScaleRatio(spritesArr);\n      }\n    }\n    return [];\n  }, [calculateScaleRatio, spriteDataRef]);\n  const parseSpriteData = React.useCallback((json, _spriteTexture) => {\n    let aspect = new THREE.Vector3(1, 1, 1);\n    // sprite only case\n    if (json === null) {\n      if (_spriteTexture && numberOfFrames) {\n        //get size from texture\n        const width = _spriteTexture.image.width;\n        const height = _spriteTexture.image.height;\n        totalFrames.current = numberOfFrames;\n        const {\n          rows,\n          columns,\n          frameWidth,\n          frameHeight,\n          emptyFrames\n        } = getRowsAndColumns(_spriteTexture, numberOfFrames);\n        const nonJsonFrames = {\n          frames: [],\n          meta: {\n            version: '1.0',\n            size: {\n              w: width,\n              h: height\n            },\n            rows,\n            columns,\n            frameWidth,\n            frameHeight,\n            scale: '1'\n          }\n        };\n        for (let row = 0; row < rows; row++) {\n          for (let col = 0; col < columns; col++) {\n            const isExcluded = (emptyFrames !== null && emptyFrames !== void 0 ? emptyFrames : []).some(coord => coord.row === row && coord.col === col);\n            if (isExcluded) {\n              continue;\n            }\n            if (Array.isArray(nonJsonFrames.frames)) {\n              nonJsonFrames.frames.push({\n                frame: {\n                  x: col * frameWidth,\n                  y: row * frameHeight,\n                  w: frameWidth,\n                  h: frameHeight\n                },\n                scaleRatio: 1,\n                rotated: false,\n                trimmed: false,\n                spriteSourceSize: {\n                  x: 0,\n                  y: 0,\n                  w: frameWidth,\n                  h: frameHeight\n                },\n                sourceSize: {\n                  w: frameWidth,\n                  h: frameHeight\n                }\n              });\n            }\n          }\n        }\n        aspect = calculateAspectRatio(frameWidth, frameHeight, aspectFactor);\n        spriteDataRef.current = nonJsonFrames;\n      }\n\n      //scale ratio for standalone sprite\n      if (spriteDataRef.current && spriteDataRef.current.frames) {\n        spriteDataRef.current.frames = calculateScaleRatio(spriteDataRef.current.frames);\n      }\n    } else if (_spriteTexture) {\n      spriteDataRef.current = json;\n      spriteDataRef.current.frames = parseFrames();\n      totalFrames.current = Array.isArray(json.frames) ? json.frames.length : Object.keys(json.frames).length;\n      const {\n        w,\n        h\n      } = getFirstFrame(json.frames).sourceSize;\n      aspect = calculateAspectRatio(w, h, aspectFactor);\n    }\n    setSpriteData(spriteDataRef.current);\n    if ('encoding' in _spriteTexture) {\n      _spriteTexture.encoding = 3001; // sRGBEncoding\n    } else if ('colorSpace' in _spriteTexture) {\n      //@ts-ignore\n      _spriteTexture.colorSpace = THREE.SRGBColorSpace;\n    }\n    setSpriteTexture(_spriteTexture);\n    setSpriteObj({\n      spriteTexture: _spriteTexture,\n      spriteData: spriteDataRef.current,\n      aspect: aspect\n    });\n  }, [getRowsAndColumns, numberOfFrames, parseFrames, calculateAspectRatio, calculateScaleRatio]);\n\n  /**\r\n   *\r\n   */\n  const loadJsonAndTextureAndExecuteCallback = React.useCallback((jsonUrl, textureUrl, callback) => {\n    const jsonPromise = fetch(jsonUrl).then(response => response.json());\n    const texturePromise = new Promise(resolve => {\n      textureLoader.load(textureUrl, resolve);\n    });\n    Promise.all([jsonPromise, texturePromise]).then(response => {\n      callback(response[0], response[1]);\n    });\n  }, [textureLoader]);\n  const loadStandaloneSprite = React.useCallback(textureUrl => {\n    if (!textureUrl && !inputRef.current) {\n      throw new Error('Either textureUrl or input must be provided');\n    }\n    const validUrl = textureUrl !== null && textureUrl !== void 0 ? textureUrl : inputRef.current;\n    if (!validUrl) {\n      throw new Error('A valid texture URL must be provided');\n    }\n    textureLoader.load(validUrl, texture => parseSpriteData(null, texture));\n  }, [textureLoader, parseSpriteData]);\n  const loadJsonAndTexture = React.useCallback((textureUrl, jsonUrl) => {\n    if (jsonUrl && textureUrl) {\n      loadJsonAndTextureAndExecuteCallback(jsonUrl, textureUrl, parseSpriteData);\n    } else {\n      loadStandaloneSprite(textureUrl);\n    }\n  }, [loadJsonAndTextureAndExecuteCallback, loadStandaloneSprite, parseSpriteData]);\n  React.useLayoutEffect(() => {\n    if (jsonRef.current && inputRef.current) {\n      loadJsonAndTextureAndExecuteCallback(jsonRef.current, inputRef.current, parseSpriteData);\n    } else if (inputRef.current) {\n      // only load the texture, this is an image sprite only\n      loadStandaloneSprite();\n    }\n    const _inputRef = inputRef.current;\n    return () => {\n      if (_inputRef) {\n        useLoader.clear(TextureLoader, _inputRef);\n      }\n    };\n  }, [loadJsonAndTextureAndExecuteCallback, loadStandaloneSprite, parseSpriteData]);\n  React.useLayoutEffect(() => {\n    onLoad == null || onLoad(spriteTexture, spriteData !== null && spriteData !== void 0 ? spriteData : null);\n  }, [spriteTexture, spriteData, onLoad]);\n  return {\n    spriteObj,\n    loadJsonAndTexture\n  };\n}\nuseSpriteLoader.preload = url => useLoader.preload(TextureLoader, url);\nuseSpriteLoader.clear = input => useLoader.clear(TextureLoader, input);\n\nexport { checkIfFrameIsEmpty, getFirstFrame, useSpriteLoader };\n", "import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction useHelper(object3D, helperConstructor, ...args) {\n  const helper = React.useRef(null);\n  const scene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    let currentHelper = undefined;\n    if (object3D && object3D != null && object3D.current && helperConstructor) {\n      helper.current = currentHelper = new helperConstructor(object3D.current, ...args);\n    }\n    if (currentHelper) {\n      // Prevent the helpers from blocking rays\n      currentHelper.traverse(child => child.raycast = () => null);\n      scene.add(currentHelper);\n      return () => {\n        helper.current = undefined;\n        scene.remove(currentHelper);\n        currentHelper.dispose == null || currentHelper.dispose();\n      };\n    }\n  }, [scene, helperConstructor, object3D, ...args]);\n  useFrame(() => {\n    var _helper$current;\n    return void ((_helper$current = helper.current) == null || _helper$current.update == null ? void 0 : _helper$current.update());\n  });\n  return helper;\n}\n\n//\n\nconst Helper = ({\n  type: helperConstructor,\n  args = []\n}) => {\n  const thisRef = React.useRef(null);\n  const parentRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    parentRef.current = thisRef.current.parent;\n  });\n  useHelper(parentRef, helperConstructor, ...args);\n  return /*#__PURE__*/React.createElement(\"object3D\", {\n    ref: thisRef\n  });\n};\n\nexport { Helper, useHelper };\n", "import * as React from 'react';\nimport { addEffect, addAfterEffect } from '@react-three/fiber';\nimport StatsImpl from 'stats.js';\nimport { useEffectfulState } from '../helpers/useEffectfulState.js';\n\nfunction Stats({\n  showPanel = 0,\n  className,\n  parent\n}) {\n  const stats = useEffectfulState(() => new StatsImpl(), []);\n  React.useEffect(() => {\n    if (stats) {\n      const node = parent && parent.current || document.body;\n      stats.showPanel(showPanel);\n      node == null || node.appendChild(stats.dom);\n      const classNames = (className !== null && className !== void 0 ? className : '').split(' ').filter(cls => cls);\n      if (classNames.length) stats.dom.classList.add(...classNames);\n      const begin = addEffect(() => stats.begin());\n      const end = addAfterEffect(() => stats.end());\n      return () => {\n        if (classNames.length) stats.dom.classList.remove(...classNames);\n        node == null || node.removeChild(stats.dom);\n        begin();\n        end();\n      };\n    }\n  }, [parent, stats, className, showPanel]);\n  return null;\n}\n\nexport { Stats };\n", "import * as React from 'react';\n\nfunction call(ref, value) {\n  if (typeof ref === 'function') ref(value);else if (ref != null) ref.current = value;\n}\nfunction useEffectfulState(fn, deps = [], cb) {\n  const [state, set] = React.useState();\n  React.useLayoutEffect(() => {\n    const value = fn();\n    set(value);\n    call(cb, value);\n    return () => call(cb, null);\n  }, deps);\n  return state;\n}\n\nexport { useEffectfulState };\n", "import { useThree, addAfterEffect } from '@react-three/fiber';\nimport * as React from 'react';\nimport Stats from 'stats-gl';\n\nconst StatsGl = /* @__PURE__ */React.forwardRef(function StatsGl({\n  className,\n  parent,\n  id,\n  clearStatsGlStyle,\n  ...props\n}, fref) {\n  const gl = useThree(state => state.gl);\n  const stats = React.useMemo(() => {\n    const stats = new Stats({\n      ...props\n    });\n    stats.init(gl);\n    return stats;\n  }, [gl]);\n  React.useImperativeHandle(fref, () => stats.domElement, [stats]);\n  React.useEffect(() => {\n    if (stats) {\n      const node = parent && parent.current || document.body;\n      node == null || node.appendChild(stats.domElement);\n      stats.domElement.querySelectorAll('canvas').forEach(canvas => {\n        canvas.style.removeProperty('position');\n      });\n      if (id) stats.domElement.id = id;\n      if (clearStatsGlStyle) stats.domElement.removeAttribute('style');\n      stats.domElement.removeAttribute('style');\n      const classNames = (className !== null && className !== void 0 ? className : '').split(' ').filter(cls => cls);\n      if (classNames.length) stats.domElement.classList.add(...classNames);\n      const end = addAfterEffect(() => stats.update());\n      return () => {\n        if (classNames.length) stats.domElement.classList.remove(...classNames);\n        node == null || node.removeChild(stats.domElement);\n        end();\n      };\n    }\n  }, [parent, stats, className, id, clearStatsGlStyle]);\n  return null;\n});\n\nexport { StatsGl };\n", "import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nfunction useDepthBuffer({\n  size = 256,\n  frames = Infinity\n} = {}) {\n  const dpr = useThree(state => state.viewport.dpr);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const w = size || width * dpr;\n  const h = size || height * dpr;\n  const depthConfig = React.useMemo(() => {\n    const depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture\n    };\n  }, [w, h]);\n  let count = 0;\n  const depthFBO = useFBO(w, h, depthConfig);\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      state.gl.setRenderTarget(depthFBO);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(null);\n      count++;\n    }\n  });\n  return depthFBO.depthTexture;\n}\n\nexport { useDepthBuffer };\n", "import { useThree } from '@react-three/fiber';\n\nfunction useAspect(width, height, factor = 1) {\n  const v = useThree(state => state.viewport);\n  const adaptedHeight = height * (v.aspect > width / height ? v.width / width : v.height / height);\n  const adaptedWidth = width * (v.aspect > width / height ? v.width / width : v.height / height);\n  return [adaptedWidth * factor, adaptedHeight * factor, 1];\n}\n\nexport { useAspect };\n", "import * as React from 'react';\nimport { Raycaster, Camera } from 'three';\nimport { useThree, applyProps } from '@react-three/fiber';\n\nfunction useCamera(camera, props) {\n  const pointer = useThree(state => state.pointer);\n  const [raycast] = React.useState(() => {\n    const raycaster = new Raycaster();\n    if (props) applyProps(raycaster, props);\n    return function (_, intersects) {\n      raycaster.setFromCamera(pointer, camera instanceof Camera ? camera : camera.current);\n      const rc = this.constructor.prototype.raycast.bind(this);\n      if (rc) rc(raycaster, intersects);\n    };\n  });\n  return raycast;\n}\n\nexport { useCamera };\n", "import * as React from 'react';\nimport { getGPUTier } from 'detect-gpu';\nimport { suspend } from 'suspend-react';\n\nconst useDetectGPU = props => suspend(() => getGPUTier(props), ['useDetectGPU']);\nfunction DetectGPU({\n  children,\n  ...options\n}) {\n  const result = useDetectGPU(options);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(result));\n}\n\nexport { DetectGPU, useDetectGPU };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport { Mesh } from 'three';\nimport { SAH, acceleratedRaycast, computeBoundsTree, disposeBoundsTree } from 'three-mesh-bvh';\n\nconst isMesh = child => child.isMesh;\n\n/**\n * @deprecated Use the Bvh component instead\n */\nfunction useBVH(mesh, options) {\n  options = {\n    strategy: SAH,\n    verbose: false,\n    setBoundingBox: true,\n    maxDepth: 40,\n    maxLeafTris: 10,\n    indirect: false,\n    ...options\n  };\n  React.useEffect(() => {\n    if (mesh.current) {\n      mesh.current.raycast = acceleratedRaycast;\n      const geometry = mesh.current.geometry;\n      geometry.computeBoundsTree = computeBoundsTree;\n      geometry.disposeBoundsTree = disposeBoundsTree;\n      geometry.computeBoundsTree(options);\n      return () => {\n        if (geometry.boundsTree) {\n          geometry.disposeBoundsTree();\n        }\n      };\n    }\n  }, [mesh, JSON.stringify(options)]);\n}\nconst Bvh = /* @__PURE__ */React.forwardRef(({\n  enabled = true,\n  firstHitOnly = false,\n  children,\n  strategy = SAH,\n  verbose = false,\n  setBoundingBox = true,\n  maxDepth = 40,\n  maxLeafTris = 10,\n  indirect = false,\n  ...props\n}, fref) => {\n  const ref = React.useRef(null);\n  const raycaster = useThree(state => state.raycaster);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  React.useEffect(() => {\n    if (enabled) {\n      const options = {\n        strategy,\n        verbose,\n        setBoundingBox,\n        maxDepth,\n        maxLeafTris,\n        indirect\n      };\n      const group = ref.current;\n      // This can only safely work if the component is used once, but there is no alternative.\n      // Hijacking the raycast method to do it for individual meshes is not an option as it would\n      // cost too much memory ...\n      raycaster.firstHitOnly = firstHitOnly;\n      group.traverse(child => {\n        // Only include meshes that do not yet have a boundsTree and whose raycast is standard issue\n        if (isMesh(child) && !child.geometry.boundsTree && child.raycast === Mesh.prototype.raycast) {\n          child.raycast = acceleratedRaycast;\n          child.geometry.computeBoundsTree = computeBoundsTree;\n          child.geometry.disposeBoundsTree = disposeBoundsTree;\n          child.geometry.computeBoundsTree(options);\n        }\n      });\n      return () => {\n        delete raycaster.firstHitOnly;\n        group.traverse(child => {\n          if (isMesh(child) && child.geometry.boundsTree) {\n            child.geometry.disposeBoundsTree();\n            child.raycast = Mesh.prototype.raycast;\n          }\n        });\n      };\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), children);\n});\n\nexport { Bvh, useBVH };\n", "// Split strategy constants\nexport const CENTER = 0;\nexport const AVERAGE = 1;\nexport const SAH = 2;\n\n// Traversal constants\nexport const NOT_INTERSECTED = 0;\nexport const INTERSECTED = 1;\nexport const CONTAINED = 2;\n\n// SAH cost constants\n// TODO: hone these costs more. The relative difference between them should be the\n// difference in measured time to perform a triangle intersection vs traversing\n// bounds.\nexport const TRIANGLE_INTERSECT_COST = 1.25;\nexport const TRAVERSAL_COST = 1;\n\n\n// Build constants\nexport const BYTES_PER_NODE = 6 * 4 + 4 + 4;\nexport const IS_LEAFNODE_FLAG = 0xFFFF;\n\n// EPSILON for computing floating point error during build\n// https://en.wikipedia.org/wiki/Machine_epsilon#Values_for_standard_hardware_floating_point_arithmetics\nexport const FLOAT32_EPSILON = Math.pow( 2, - 24 );\n\nexport const SKIP_GENERATION = Symbol( 'SKIP_GENERATION' );\n", "import { BufferAttribute } from 'three';\n\nexport function getVertexCount( geo ) {\n\n\treturn geo.index ? geo.index.count : geo.attributes.position.count;\n\n}\n\nexport function getTriCount( geo ) {\n\n\treturn getVertexCount( geo ) / 3;\n\n}\n\nexport function getIndexArray( vertexCount, BufferConstructor = ArrayBuffer ) {\n\n\tif ( vertexCount > 65535 ) {\n\n\t\treturn new Uint32Array( new BufferConstructor( 4 * vertexCount ) );\n\n\t} else {\n\n\t\treturn new Uint16Array( new BufferConstructor( 2 * vertexCount ) );\n\n\t}\n\n}\n\n// ensures that an index is present on the geometry\nexport function ensureIndex( geo, options ) {\n\n\tif ( ! geo.index ) {\n\n\t\tconst vertexCount = geo.attributes.position.count;\n\t\tconst BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\n\t\tconst index = getIndexArray( vertexCount, BufferConstructor );\n\t\tgeo.setIndex( new BufferAttribute( index, 1 ) );\n\n\t\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\t\tindex[ i ] = i;\n\n\t\t}\n\n\t}\n\n}\n\n// Computes the set of { offset, count } ranges which need independent BVH roots. Each\n// region in the geometry index that belongs to a different set of material groups requires\n// a separate BVH root, so that triangles indices belonging to one group never get swapped\n// with triangle indices belongs to another group. For example, if the groups were like this:\n//\n// [-------------------------------------------------------------]\n// |__________________|\n//   g0 = [0, 20]  |______________________||_____________________|\n//                      g1 = [16, 40]           g2 = [41, 60]\n//\n// we would need four BVH roots: [0, 15], [16, 20], [21, 40], [41, 60].\nexport function getFullGeometryRange( geo, range ) {\n\n\tconst triCount = getTriCount( geo );\n\tconst drawRange = range ? range : geo.drawRange;\n\tconst start = drawRange.start / 3;\n\tconst end = ( drawRange.start + drawRange.count ) / 3;\n\n\tconst offset = Math.max( 0, start );\n\tconst count = Math.min( triCount, end ) - offset;\n\treturn [ {\n\t\toffset: Math.floor( offset ),\n\t\tcount: Math.floor( count ),\n\t} ];\n\n}\n\nexport function getRootIndexRanges( geo, range ) {\n\n\tif ( ! geo.groups || ! geo.groups.length ) {\n\n\t\treturn getFullGeometryRange( geo, range );\n\n\t}\n\n\tconst ranges = [];\n\tconst rangeBoundaries = new Set();\n\n\tconst drawRange = range ? range : geo.drawRange;\n\tconst drawRangeStart = drawRange.start / 3;\n\tconst drawRangeEnd = ( drawRange.start + drawRange.count ) / 3;\n\tfor ( const group of geo.groups ) {\n\n\t\tconst groupStart = group.start / 3;\n\t\tconst groupEnd = ( group.start + group.count ) / 3;\n\t\trangeBoundaries.add( Math.max( drawRangeStart, groupStart ) );\n\t\trangeBoundaries.add( Math.min( drawRangeEnd, groupEnd ) );\n\n\t}\n\n\n\t// note that if you don't pass in a comparator, it sorts them lexicographically as strings :-(\n\tconst sortedBoundaries = Array.from( rangeBoundaries.values() ).sort( ( a, b ) => a - b );\n\tfor ( let i = 0; i < sortedBoundaries.length - 1; i ++ ) {\n\n\t\tconst start = sortedBoundaries[ i ];\n\t\tconst end = sortedBoundaries[ i + 1 ];\n\n\t\tranges.push( {\n\t\t\toffset: Math.floor( start ),\n\t\t\tcount: Math.floor( end - start ),\n\t\t} );\n\n\t}\n\n\treturn ranges;\n\n}\n\nexport function hasGroupGaps( geometry, range ) {\n\n\tconst vertexCount = getTriCount( geometry );\n\tconst groups = getRootIndexRanges( geometry, range )\n\t\t.sort( ( a, b ) => a.offset - b.offset );\n\n\tconst finalGroup = groups[ groups.length - 1 ];\n\tfinalGroup.count = Math.min( vertexCount - finalGroup.offset, finalGroup.count );\n\n\tlet total = 0;\n\tgroups.forEach( ( { count } ) => total += count );\n\treturn vertexCount !== total;\n\n}\n", "import { FLOAT32_EPSILON } from '../Constants.js';\nimport { getTriCount } from './geometryUtils.js';\n\n// computes the union of the bounds of all of the given triangles and puts the resulting box in \"target\".\n// A bounding box is computed for the centroids of the triangles, as well, and placed in \"centroidTarget\".\n// These are computed together to avoid redundant accesses to bounds array.\nexport function getBounds( triangleBounds, offset, count, target, centroidTarget ) {\n\n\tlet minx = Infinity;\n\tlet miny = Infinity;\n\tlet minz = Infinity;\n\tlet maxx = - Infinity;\n\tlet maxy = - Infinity;\n\tlet maxz = - Infinity;\n\n\tlet cminx = Infinity;\n\tlet cminy = Infinity;\n\tlet cminz = Infinity;\n\tlet cmaxx = - Infinity;\n\tlet cmaxy = - Infinity;\n\tlet cmaxz = - Infinity;\n\n\tfor ( let i = offset * 6, end = ( offset + count ) * 6; i < end; i += 6 ) {\n\n\t\tconst cx = triangleBounds[ i + 0 ];\n\t\tconst hx = triangleBounds[ i + 1 ];\n\t\tconst lx = cx - hx;\n\t\tconst rx = cx + hx;\n\t\tif ( lx < minx ) minx = lx;\n\t\tif ( rx > maxx ) maxx = rx;\n\t\tif ( cx < cminx ) cminx = cx;\n\t\tif ( cx > cmaxx ) cmaxx = cx;\n\n\t\tconst cy = triangleBounds[ i + 2 ];\n\t\tconst hy = triangleBounds[ i + 3 ];\n\t\tconst ly = cy - hy;\n\t\tconst ry = cy + hy;\n\t\tif ( ly < miny ) miny = ly;\n\t\tif ( ry > maxy ) maxy = ry;\n\t\tif ( cy < cminy ) cminy = cy;\n\t\tif ( cy > cmaxy ) cmaxy = cy;\n\n\t\tconst cz = triangleBounds[ i + 4 ];\n\t\tconst hz = triangleBounds[ i + 5 ];\n\t\tconst lz = cz - hz;\n\t\tconst rz = cz + hz;\n\t\tif ( lz < minz ) minz = lz;\n\t\tif ( rz > maxz ) maxz = rz;\n\t\tif ( cz < cminz ) cminz = cz;\n\t\tif ( cz > cmaxz ) cmaxz = cz;\n\n\t}\n\n\ttarget[ 0 ] = minx;\n\ttarget[ 1 ] = miny;\n\ttarget[ 2 ] = minz;\n\n\ttarget[ 3 ] = maxx;\n\ttarget[ 4 ] = maxy;\n\ttarget[ 5 ] = maxz;\n\n\tcentroidTarget[ 0 ] = cminx;\n\tcentroidTarget[ 1 ] = cminy;\n\tcentroidTarget[ 2 ] = cminz;\n\n\tcentroidTarget[ 3 ] = cmaxx;\n\tcentroidTarget[ 4 ] = cmaxy;\n\tcentroidTarget[ 5 ] = cmaxz;\n\n}\n\n// precomputes the bounding box for each triangle; required for quickly calculating tree splits.\n// result is an array of size tris.length * 6 where triangle i maps to a\n// [x_center, x_delta, y_center, y_delta, z_center, z_delta] tuple starting at index i * 6,\n// representing the center and half-extent in each dimension of triangle i\nexport function computeTriangleBounds( geo, target = null, offset = null, count = null ) {\n\n\tconst posAttr = geo.attributes.position;\n\tconst index = geo.index ? geo.index.array : null;\n\tconst triCount = getTriCount( geo );\n\tconst normalized = posAttr.normalized;\n\tlet triangleBounds;\n\tif ( target === null ) {\n\n\t\ttriangleBounds = new Float32Array( triCount * 6 );\n\t\toffset = 0;\n\t\tcount = triCount;\n\n\t} else {\n\n\t\ttriangleBounds = target;\n\t\toffset = offset || 0;\n\t\tcount = count || triCount;\n\n\t}\n\n\t// used for non-normalized positions\n\tconst posArr = posAttr.array;\n\n\t// support for an interleaved position buffer\n\tconst bufferOffset = posAttr.offset || 0;\n\tlet stride = 3;\n\tif ( posAttr.isInterleavedBufferAttribute ) {\n\n\t\tstride = posAttr.data.stride;\n\n\t}\n\n\t// used for normalized positions\n\tconst getters = [ 'getX', 'getY', 'getZ' ];\n\n\tfor ( let tri = offset; tri < offset + count; tri ++ ) {\n\n\t\tconst tri3 = tri * 3;\n\t\tconst tri6 = tri * 6;\n\n\t\tlet ai = tri3 + 0;\n\t\tlet bi = tri3 + 1;\n\t\tlet ci = tri3 + 2;\n\n\t\tif ( index ) {\n\n\t\t\tai = index[ ai ];\n\t\t\tbi = index[ bi ];\n\t\t\tci = index[ ci ];\n\n\t\t}\n\n\t\t// we add the stride and offset here since we access the array directly\n\t\t// below for the sake of performance\n\t\tif ( ! normalized ) {\n\n\t\t\tai = ai * stride + bufferOffset;\n\t\t\tbi = bi * stride + bufferOffset;\n\t\t\tci = ci * stride + bufferOffset;\n\n\t\t}\n\n\t\tfor ( let el = 0; el < 3; el ++ ) {\n\n\t\t\tlet a, b, c;\n\n\t\t\tif ( normalized ) {\n\n\t\t\t\ta = posAttr[ getters[ el ] ]( ai );\n\t\t\t\tb = posAttr[ getters[ el ] ]( bi );\n\t\t\t\tc = posAttr[ getters[ el ] ]( ci );\n\n\t\t\t} else {\n\n\t\t\t\ta = posArr[ ai + el ];\n\t\t\t\tb = posArr[ bi + el ];\n\t\t\t\tc = posArr[ ci + el ];\n\n\t\t\t}\n\n\t\t\tlet min = a;\n\t\t\tif ( b < min ) min = b;\n\t\t\tif ( c < min ) min = c;\n\n\t\t\tlet max = a;\n\t\t\tif ( b > max ) max = b;\n\t\t\tif ( c > max ) max = c;\n\n\t\t\t// Increase the bounds size by float32 epsilon to avoid precision errors when\n\t\t\t// converting to 32 bit float. Scale the epsilon by the size of the numbers being\n\t\t\t// worked with.\n\t\t\tconst halfExtents = ( max - min ) / 2;\n\t\t\tconst el2 = el * 2;\n\t\t\ttriangleBounds[ tri6 + el2 + 0 ] = min + halfExtents;\n\t\t\ttriangleBounds[ tri6 + el2 + 1 ] = halfExtents + ( Math.abs( min ) + halfExtents ) * FLOAT32_EPSILON;\n\n\t\t}\n\n\t}\n\n\treturn triangleBounds;\n\n}\n", "export function arrayToBox( nodeIndex32, array, target ) {\n\n\ttarget.min.x = array[ nodeIndex32 ];\n\ttarget.min.y = array[ nodeIndex32 + 1 ];\n\ttarget.min.z = array[ nodeIndex32 + 2 ];\n\n\ttarget.max.x = array[ nodeIndex32 + 3 ];\n\ttarget.max.y = array[ nodeIndex32 + 4 ];\n\ttarget.max.z = array[ nodeIndex32 + 5 ];\n\n\treturn target;\n\n}\n\nexport function makeEmptyBounds( target ) {\n\n\ttarget[ 0 ] = target[ 1 ] = target[ 2 ] = Infinity;\n\ttarget[ 3 ] = target[ 4 ] = target[ 5 ] = - Infinity;\n\n}\n\nexport function getLongestEdgeIndex( bounds ) {\n\n\tlet splitDimIdx = - 1;\n\tlet splitDist = - Infinity;\n\n\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\tconst dist = bounds[ i + 3 ] - bounds[ i ];\n\t\tif ( dist > splitDist ) {\n\n\t\t\tsplitDist = dist;\n\t\t\tsplitDimIdx = i;\n\n\t\t}\n\n\t}\n\n\treturn splitDimIdx;\n\n}\n\n// copies bounds a into bounds b\nexport function copyBounds( source, target ) {\n\n\ttarget.set( source );\n\n}\n\n// sets bounds target to the union of bounds a and b\nexport function unionBounds( a, b, target ) {\n\n\tlet aVal, bVal;\n\tfor ( let d = 0; d < 3; d ++ ) {\n\n\t\tconst d3 = d + 3;\n\n\t\t// set the minimum values\n\t\taVal = a[ d ];\n\t\tbVal = b[ d ];\n\t\ttarget[ d ] = aVal < bVal ? aVal : bVal;\n\n\t\t// set the max values\n\t\taVal = a[ d3 ];\n\t\tbVal = b[ d3 ];\n\t\ttarget[ d3 ] = aVal > bVal ? aVal : bVal;\n\n\t}\n\n}\n\n// expands the given bounds by the provided triangle bounds\nexport function expandByTriangleBounds( startIndex, triangleBounds, bounds ) {\n\n\tfor ( let d = 0; d < 3; d ++ ) {\n\n\t\tconst tCenter = triangleBounds[ startIndex + 2 * d ];\n\t\tconst tHalf = triangleBounds[ startIndex + 2 * d + 1 ];\n\n\t\tconst tMin = tCenter - tHalf;\n\t\tconst tMax = tCenter + tHalf;\n\n\t\tif ( tMin < bounds[ d ] ) {\n\n\t\t\tbounds[ d ] = tMin;\n\n\t\t}\n\n\t\tif ( tMax > bounds[ d + 3 ] ) {\n\n\t\t\tbounds[ d + 3 ] = tMax;\n\n\t\t}\n\n\t}\n\n}\n\n// compute bounds surface area\nexport function computeSurfaceArea( bounds ) {\n\n\tconst d0 = bounds[ 3 ] - bounds[ 0 ];\n\tconst d1 = bounds[ 4 ] - bounds[ 1 ];\n\tconst d2 = bounds[ 5 ] - bounds[ 2 ];\n\n\treturn 2 * ( d0 * d1 + d1 * d2 + d2 * d0 );\n\n}\n", "import { getLongestEdgeIndex, computeSurfaceArea, copyBounds, unionBounds, expandByTriangleBounds } from '../../utils/ArrayBoxUtilities.js';\nimport { CENTER, AVERAGE, SAH, TRIANGLE_INTERSECT_COST, TRAVERSAL_COST } from '../Constants.js';\n\nconst BIN_COUNT = 32;\nconst binsSort = ( a, b ) => a.candidate - b.candidate;\nconst sahBins = new Array( BIN_COUNT ).fill().map( () => {\n\n\treturn {\n\n\t\tcount: 0,\n\t\tbounds: new Float32Array( 6 ),\n\t\trightCacheBounds: new Float32Array( 6 ),\n\t\tleftCacheBounds: new Float32Array( 6 ),\n\t\tcandidate: 0,\n\n\t};\n\n} );\nconst leftBounds = new Float32Array( 6 );\n\nexport function getOptimalSplit( nodeBoundingData, centroidBoundingData, triangleBounds, offset, count, strategy ) {\n\n\tlet axis = - 1;\n\tlet pos = 0;\n\n\t// Center\n\tif ( strategy === CENTER ) {\n\n\t\taxis = getLongestEdgeIndex( centroidBoundingData );\n\t\tif ( axis !== - 1 ) {\n\n\t\t\tpos = ( centroidBoundingData[ axis ] + centroidBoundingData[ axis + 3 ] ) / 2;\n\n\t\t}\n\n\t} else if ( strategy === AVERAGE ) {\n\n\t\taxis = getLongestEdgeIndex( nodeBoundingData );\n\t\tif ( axis !== - 1 ) {\n\n\t\t\tpos = getAverage( triangleBounds, offset, count, axis );\n\n\t\t}\n\n\t} else if ( strategy === SAH ) {\n\n\t\tconst rootSurfaceArea = computeSurfaceArea( nodeBoundingData );\n\t\tlet bestCost = TRIANGLE_INTERSECT_COST * count;\n\n\t\t// iterate over all axes\n\t\tconst cStart = offset * 6;\n\t\tconst cEnd = ( offset + count ) * 6;\n\t\tfor ( let a = 0; a < 3; a ++ ) {\n\n\t\t\tconst axisLeft = centroidBoundingData[ a ];\n\t\t\tconst axisRight = centroidBoundingData[ a + 3 ];\n\t\t\tconst axisLength = axisRight - axisLeft;\n\t\t\tconst binWidth = axisLength / BIN_COUNT;\n\n\t\t\t// If we have fewer triangles than we're planning to split then just check all\n\t\t\t// the triangle positions because it will be faster.\n\t\t\tif ( count < BIN_COUNT / 4 ) {\n\n\t\t\t\t// initialize the bin candidates\n\t\t\t\tconst truncatedBins = [ ...sahBins ];\n\t\t\t\ttruncatedBins.length = count;\n\n\t\t\t\t// set the candidates\n\t\t\t\tlet b = 0;\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6, b ++ ) {\n\n\t\t\t\t\tconst bin = truncatedBins[ b ];\n\t\t\t\t\tbin.candidate = triangleBounds[ c + 2 * a ];\n\t\t\t\t\tbin.count = 0;\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\tbounds,\n\t\t\t\t\t\tleftCacheBounds,\n\t\t\t\t\t\trightCacheBounds,\n\t\t\t\t\t} = bin;\n\t\t\t\t\tfor ( let d = 0; d < 3; d ++ ) {\n\n\t\t\t\t\t\trightCacheBounds[ d ] = Infinity;\n\t\t\t\t\t\trightCacheBounds[ d + 3 ] = - Infinity;\n\n\t\t\t\t\t\tleftCacheBounds[ d ] = Infinity;\n\t\t\t\t\t\tleftCacheBounds[ d + 3 ] = - Infinity;\n\n\t\t\t\t\t\tbounds[ d ] = Infinity;\n\t\t\t\t\t\tbounds[ d + 3 ] = - Infinity;\n\n\t\t\t\t\t}\n\n\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bounds );\n\n\t\t\t\t}\n\n\t\t\t\ttruncatedBins.sort( binsSort );\n\n\t\t\t\t// remove redundant splits\n\t\t\t\tlet splitCount = count;\n\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\n\n\t\t\t\t\tconst bin = truncatedBins[ bi ];\n\t\t\t\t\twhile ( bi + 1 < splitCount && truncatedBins[ bi + 1 ].candidate === bin.candidate ) {\n\n\t\t\t\t\t\ttruncatedBins.splice( bi + 1, 1 );\n\t\t\t\t\t\tsplitCount --;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// find the appropriate bin for each triangle and expand the bounds.\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6 ) {\n\n\t\t\t\t\tconst center = triangleBounds[ c + 2 * a ];\n\t\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\n\n\t\t\t\t\t\tconst bin = truncatedBins[ bi ];\n\t\t\t\t\t\tif ( center >= bin.candidate ) {\n\n\t\t\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.rightCacheBounds );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.leftCacheBounds );\n\t\t\t\t\t\t\tbin.count ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// expand all the bounds\n\t\t\t\tfor ( let bi = 0; bi < splitCount; bi ++ ) {\n\n\t\t\t\t\tconst bin = truncatedBins[ bi ];\n\t\t\t\t\tconst leftCount = bin.count;\n\t\t\t\t\tconst rightCount = count - bin.count;\n\n\t\t\t\t\t// check the cost of this split\n\t\t\t\t\tconst leftBounds = bin.leftCacheBounds;\n\t\t\t\t\tconst rightBounds = bin.rightCacheBounds;\n\n\t\t\t\t\tlet leftProb = 0;\n\t\t\t\t\tif ( leftCount !== 0 ) {\n\n\t\t\t\t\t\tleftProb = computeSurfaceArea( leftBounds ) / rootSurfaceArea;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet rightProb = 0;\n\t\t\t\t\tif ( rightCount !== 0 ) {\n\n\t\t\t\t\t\trightProb = computeSurfaceArea( rightBounds ) / rootSurfaceArea;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cost = TRAVERSAL_COST + TRIANGLE_INTERSECT_COST * (\n\t\t\t\t\t\tleftProb * leftCount + rightProb * rightCount\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( cost < bestCost ) {\n\n\t\t\t\t\t\taxis = a;\n\t\t\t\t\t\tbestCost = cost;\n\t\t\t\t\t\tpos = bin.candidate;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// reset the bins\n\t\t\t\tfor ( let i = 0; i < BIN_COUNT; i ++ ) {\n\n\t\t\t\t\tconst bin = sahBins[ i ];\n\t\t\t\t\tbin.count = 0;\n\t\t\t\t\tbin.candidate = axisLeft + binWidth + i * binWidth;\n\n\t\t\t\t\tconst bounds = bin.bounds;\n\t\t\t\t\tfor ( let d = 0; d < 3; d ++ ) {\n\n\t\t\t\t\t\tbounds[ d ] = Infinity;\n\t\t\t\t\t\tbounds[ d + 3 ] = - Infinity;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// iterate over all center positions\n\t\t\t\tfor ( let c = cStart; c < cEnd; c += 6 ) {\n\n\t\t\t\t\tconst triCenter = triangleBounds[ c + 2 * a ];\n\t\t\t\t\tconst relativeCenter = triCenter - axisLeft;\n\n\t\t\t\t\t// in the partition function if the centroid lies on the split plane then it is\n\t\t\t\t\t// considered to be on the right side of the split\n\t\t\t\t\tlet binIndex = ~ ~ ( relativeCenter / binWidth );\n\t\t\t\t\tif ( binIndex >= BIN_COUNT ) binIndex = BIN_COUNT - 1;\n\n\t\t\t\t\tconst bin = sahBins[ binIndex ];\n\t\t\t\t\tbin.count ++;\n\n\t\t\t\t\texpandByTriangleBounds( c, triangleBounds, bin.bounds );\n\n\t\t\t\t}\n\n\t\t\t\t// cache the unioned bounds from right to left so we don't have to regenerate them each time\n\t\t\t\tconst lastBin = sahBins[ BIN_COUNT - 1 ];\n\t\t\t\tcopyBounds( lastBin.bounds, lastBin.rightCacheBounds );\n\t\t\t\tfor ( let i = BIN_COUNT - 2; i >= 0; i -- ) {\n\n\t\t\t\t\tconst bin = sahBins[ i ];\n\t\t\t\t\tconst nextBin = sahBins[ i + 1 ];\n\t\t\t\t\tunionBounds( bin.bounds, nextBin.rightCacheBounds, bin.rightCacheBounds );\n\n\t\t\t\t}\n\n\t\t\t\tlet leftCount = 0;\n\t\t\t\tfor ( let i = 0; i < BIN_COUNT - 1; i ++ ) {\n\n\t\t\t\t\tconst bin = sahBins[ i ];\n\t\t\t\t\tconst binCount = bin.count;\n\t\t\t\t\tconst bounds = bin.bounds;\n\n\t\t\t\t\tconst nextBin = sahBins[ i + 1 ];\n\t\t\t\t\tconst rightBounds = nextBin.rightCacheBounds;\n\n\t\t\t\t\t// don't do anything with the bounds if the new bounds have no triangles\n\t\t\t\t\tif ( binCount !== 0 ) {\n\n\t\t\t\t\t\tif ( leftCount === 0 ) {\n\n\t\t\t\t\t\t\tcopyBounds( bounds, leftBounds );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tunionBounds( bounds, leftBounds, leftBounds );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tleftCount += binCount;\n\n\t\t\t\t\t// check the cost of this split\n\t\t\t\t\tlet leftProb = 0;\n\t\t\t\t\tlet rightProb = 0;\n\n\t\t\t\t\tif ( leftCount !== 0 ) {\n\n\t\t\t\t\t\tleftProb = computeSurfaceArea( leftBounds ) / rootSurfaceArea;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst rightCount = count - leftCount;\n\t\t\t\t\tif ( rightCount !== 0 ) {\n\n\t\t\t\t\t\trightProb = computeSurfaceArea( rightBounds ) / rootSurfaceArea;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cost = TRAVERSAL_COST + TRIANGLE_INTERSECT_COST * (\n\t\t\t\t\t\tleftProb * leftCount + rightProb * rightCount\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( cost < bestCost ) {\n\n\t\t\t\t\t\taxis = a;\n\t\t\t\t\t\tbestCost = cost;\n\t\t\t\t\t\tpos = bin.candidate;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\tconsole.warn( `MeshBVH: Invalid build strategy value ${ strategy } used.` );\n\n\t}\n\n\treturn { axis, pos };\n\n}\n\n// returns the average coordinate on the specified axis of the all the provided triangles\nfunction getAverage( triangleBounds, offset, count, axis ) {\n\n\tlet avg = 0;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tavg += triangleBounds[ i * 6 + axis * 2 ];\n\n\t}\n\n\treturn avg / count;\n\n}\n", "export class MeshBVHNode {\n\n\tconstructor() {\n\n\t\t// internal nodes have boundingData, left, right, and splitAxis\n\t\t// leaf nodes have offset and count (referring to primitives in the mesh geometry)\n\n\t\tthis.boundingData = new Float32Array( 6 );\n\n\t}\n\n}\n", "/********************************************************/\n/* This file is generated from \"sortUtils.template.js\". */\n/********************************************************/\n// reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\n// will be on the left and elements on the right side of the split will be on the right. returns the index\n// of the first element on the right side, or offset + count if there are no elements on the right side.\nfunction partition( indirectBuffer, index, triangleBounds, offset, count, split ) {\n\n\tlet left = offset;\n\tlet right = offset + count - 1;\n\tconst pos = split.pos;\n\tconst axisOffset = split.axis * 2;\n\n\t// hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\n\twhile ( true ) {\n\n\t\twhile ( left <= right && triangleBounds[ left * 6 + axisOffset ] < pos ) {\n\n\t\t\tleft ++;\n\n\t\t}\n\n\t\t// if a triangle center lies on the partition plane it is considered to be on the right side\n\t\twhile ( left <= right && triangleBounds[ right * 6 + axisOffset ] >= pos ) {\n\n\t\t\tright --;\n\n\t\t}\n\n\t\tif ( left < right ) {\n\n\t\t\t// we need to swap all of the information associated with the triangles at index\n\t\t\t// left and right; that's the verts in the geometry index, the bounds,\n\t\t\t// and perhaps the SAH planes\n\n\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\tlet t0 = index[ left * 3 + i ];\n\t\t\t\tindex[ left * 3 + i ] = index[ right * 3 + i ];\n\t\t\t\tindex[ right * 3 + i ] = t0;\n\n\t\t\t}\n\n\n\t\t\t// swap bounds\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tlet tb = triangleBounds[ left * 6 + i ];\n\t\t\t\ttriangleBounds[ left * 6 + i ] = triangleBounds[ right * 6 + i ];\n\t\t\t\ttriangleBounds[ right * 6 + i ] = tb;\n\n\t\t\t}\n\n\t\t\tleft ++;\n\t\t\tright --;\n\n\t\t} else {\n\n\t\t\treturn left;\n\n\t\t}\n\n\t}\n\n}\n\nexport { partition };\n", "/********************************************************/\n/* This file is generated from \"sortUtils.template.js\". */\n/********************************************************/\n// reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\n// will be on the left and elements on the right side of the split will be on the right. returns the index\n// of the first element on the right side, or offset + count if there are no elements on the right side.\nfunction partition_indirect( indirectBuffer, index, triangleBounds, offset, count, split ) {\n\n\tlet left = offset;\n\tlet right = offset + count - 1;\n\tconst pos = split.pos;\n\tconst axisOffset = split.axis * 2;\n\n\t// hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\n\twhile ( true ) {\n\n\t\twhile ( left <= right && triangleBounds[ left * 6 + axisOffset ] < pos ) {\n\n\t\t\tleft ++;\n\n\t\t}\n\n\t\t// if a triangle center lies on the partition plane it is considered to be on the right side\n\t\twhile ( left <= right && triangleBounds[ right * 6 + axisOffset ] >= pos ) {\n\n\t\t\tright --;\n\n\t\t}\n\n\t\tif ( left < right ) {\n\n\t\t\t// we need to swap all of the information associated with the triangles at index\n\t\t\t// left and right; that's the verts in the geometry index, the bounds,\n\t\t\t// and perhaps the SAH planes\n\t\t\tlet t = indirectBuffer[ left ];\n\t\t\tindirectBuffer[ left ] = indirectBuffer[ right ];\n\t\t\tindirectBuffer[ right ] = t;\n\n\n\t\t\t// swap bounds\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tlet tb = triangleBounds[ left * 6 + i ];\n\t\t\t\ttriangleBounds[ left * 6 + i ] = triangleBounds[ right * 6 + i ];\n\t\t\t\ttriangleBounds[ right * 6 + i ] = tb;\n\n\t\t\t}\n\n\t\t\tleft ++;\n\t\t\tright --;\n\n\t\t} else {\n\n\t\t\treturn left;\n\n\t\t}\n\n\t}\n\n}\n\nexport { partition_indirect };\n", "export function IS_LEAF( n16, uint16Array ) {\n\n\treturn uint16Array[ n16 + 15 ] === 0xFFFF;\n\n}\n\nexport function OFFSET( n32, uint32Array ) {\n\n\treturn uint32Array[ n32 + 6 ];\n\n}\n\nexport function COUNT( n16, uint16Array ) {\n\n\treturn uint16Array[ n16 + 14 ];\n\n}\n\nexport function LEFT_NODE( n32 ) {\n\n\treturn n32 + 8;\n\n}\n\nexport function RIGHT_NODE( n32, uint32Array ) {\n\n\treturn uint32Array[ n32 + 6 ];\n\n}\n\nexport function SPLIT_AXIS( n32, uint32Array ) {\n\n\treturn uint32Array[ n32 + 7 ];\n\n}\n\nexport function BOUNDING_DATA_INDEX( n32 ) {\n\n\treturn n32;\n\n}\n", "import { BYTES_PER_NODE, IS_LEAFNODE_FLAG } from '../Constants.js';\nimport { IS_LEAF } from '../utils/nodeBufferUtils.js';\n\nlet float32Array, uint32Array, uint16Array, uint8Array;\nconst MAX_POINTER = Math.pow( 2, 32 );\n\nexport function countNodes( node ) {\n\n\tif ( 'count' in node ) {\n\n\t\treturn 1;\n\n\t} else {\n\n\t\treturn 1 + countNodes( node.left ) + countNodes( node.right );\n\n\t}\n\n}\n\nexport function populateBuffer( byteOffset, node, buffer ) {\n\n\tfloat32Array = new Float32Array( buffer );\n\tuint32Array = new Uint32Array( buffer );\n\tuint16Array = new Uint16Array( buffer );\n\tuint8Array = new Uint8Array( buffer );\n\n\treturn _populateBuffer( byteOffset, node );\n\n}\n\n// pack structure\n// boundingData  \t\t\t\t: 6 float32\n// right / offset \t\t\t\t: 1 uint32\n// splitAxis / isLeaf + count \t: 1 uint32 / 2 uint16\nfunction _populateBuffer( byteOffset, node ) {\n\n\tconst stride4Offset = byteOffset / 4;\n\tconst stride2Offset = byteOffset / 2;\n\tconst isLeaf = 'count' in node;\n\tconst boundingData = node.boundingData;\n\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\tfloat32Array[ stride4Offset + i ] = boundingData[ i ];\n\n\t}\n\n\tif ( isLeaf ) {\n\n\t\tif ( node.buffer ) {\n\n\t\t\tconst buffer = node.buffer;\n\t\t\tuint8Array.set( new Uint8Array( buffer ), byteOffset );\n\n\t\t\tfor ( let offset = byteOffset, l = byteOffset + buffer.byteLength; offset < l; offset += BYTES_PER_NODE ) {\n\n\t\t\t\tconst offset2 = offset / 2;\n\t\t\t\tif ( ! IS_LEAF( offset2, uint16Array ) ) {\n\n\t\t\t\t\tuint32Array[ ( offset / 4 ) + 6 ] += stride4Offset;\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn byteOffset + buffer.byteLength;\n\n\t\t} else {\n\n\t\t\tconst offset = node.offset;\n\t\t\tconst count = node.count;\n\t\t\tuint32Array[ stride4Offset + 6 ] = offset;\n\t\t\tuint16Array[ stride2Offset + 14 ] = count;\n\t\t\tuint16Array[ stride2Offset + 15 ] = IS_LEAFNODE_FLAG;\n\t\t\treturn byteOffset + BYTES_PER_NODE;\n\n\t\t}\n\n\t} else {\n\n\t\tconst left = node.left;\n\t\tconst right = node.right;\n\t\tconst splitAxis = node.splitAxis;\n\n\t\tlet nextUnusedPointer;\n\t\tnextUnusedPointer = _populateBuffer( byteOffset + BYTES_PER_NODE, left );\n\n\t\tif ( ( nextUnusedPointer / 4 ) > MAX_POINTER ) {\n\n\t\t\tthrow new Error( 'MeshBVH: Cannot store child pointer greater than 32 bits.' );\n\n\t\t}\n\n\t\tuint32Array[ stride4Offset + 6 ] = nextUnusedPointer / 4;\n\t\tnextUnusedPointer = _populateBuffer( nextUnusedPointer, right );\n\n\t\tuint32Array[ stride4Offset + 7 ] = splitAxis;\n\t\treturn nextUnusedPointer;\n\n\t}\n\n}\n", "import { ensureIndex, getFullGeometryRange, getRootIndexRanges, getTriCount, hasGroupGaps, } from './geometryUtils.js';\nimport { getBounds, computeTriangleBounds } from './computeBoundsUtils.js';\nimport { getOptimalSplit } from './splitUtils.js';\nimport { MeshBVHNode } from '../MeshBVHNode.js';\nimport { BYTES_PER_NODE } from '../Constants.js';\n\nimport { partition } from './sortUtils.generated.js';\nimport { partition_indirect } from './sortUtils_indirect.generated.js';\nimport { countNodes, populateBuffer } from './buildUtils.js';\n\nexport function generateIndirectBuffer( geometry, useSharedArrayBuffer ) {\n\n\tconst triCount = ( geometry.index ? geometry.index.count : geometry.attributes.position.count ) / 3;\n\tconst useUint32 = triCount > 2 ** 16;\n\tconst byteCount = useUint32 ? 4 : 2;\n\n\tconst buffer = useSharedArrayBuffer ? new SharedArrayBuffer( triCount * byteCount ) : new ArrayBuffer( triCount * byteCount );\n\tconst indirectBuffer = useUint32 ? new Uint32Array( buffer ) : new Uint16Array( buffer );\n\tfor ( let i = 0, l = indirectBuffer.length; i < l; i ++ ) {\n\n\t\tindirectBuffer[ i ] = i;\n\n\t}\n\n\treturn indirectBuffer;\n\n}\n\nexport function buildTree( bvh, triangleBounds, offset, count, options ) {\n\n\t// epxand variables\n\tconst {\n\t\tmaxDepth,\n\t\tverbose,\n\t\tmaxLeafTris,\n\t\tstrategy,\n\t\tonProgress,\n\t\tindirect,\n\t} = options;\n\tconst indirectBuffer = bvh._indirectBuffer;\n\tconst geometry = bvh.geometry;\n\tconst indexArray = geometry.index ? geometry.index.array : null;\n\tconst partionFunc = indirect ? partition_indirect : partition;\n\n\t// generate intermediate variables\n\tconst totalTriangles = getTriCount( geometry );\n\tconst cacheCentroidBoundingData = new Float32Array( 6 );\n\tlet reachedMaxDepth = false;\n\n\tconst root = new MeshBVHNode();\n\tgetBounds( triangleBounds, offset, count, root.boundingData, cacheCentroidBoundingData );\n\tsplitNode( root, offset, count, cacheCentroidBoundingData );\n\treturn root;\n\n\tfunction triggerProgress( trianglesProcessed ) {\n\n\t\tif ( onProgress ) {\n\n\t\t\tonProgress( trianglesProcessed / totalTriangles );\n\n\t\t}\n\n\t}\n\n\t// either recursively splits the given node, creating left and right subtrees for it, or makes it a leaf node,\n\t// recording the offset and count of its triangles and writing them into the reordered geometry index.\n\tfunction splitNode( node, offset, count, centroidBoundingData = null, depth = 0 ) {\n\n\t\tif ( ! reachedMaxDepth && depth >= maxDepth ) {\n\n\t\t\treachedMaxDepth = true;\n\t\t\tif ( verbose ) {\n\n\t\t\t\tconsole.warn( `MeshBVH: Max depth of ${ maxDepth } reached when generating BVH. Consider increasing maxDepth.` );\n\t\t\t\tconsole.warn( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// early out if we've met our capacity\n\t\tif ( count <= maxLeafTris || depth >= maxDepth ) {\n\n\t\t\ttriggerProgress( offset + count );\n\t\t\tnode.offset = offset;\n\t\t\tnode.count = count;\n\t\t\treturn node;\n\n\t\t}\n\n\t\t// Find where to split the volume\n\t\tconst split = getOptimalSplit( node.boundingData, centroidBoundingData, triangleBounds, offset, count, strategy );\n\t\tif ( split.axis === - 1 ) {\n\n\t\t\ttriggerProgress( offset + count );\n\t\t\tnode.offset = offset;\n\t\t\tnode.count = count;\n\t\t\treturn node;\n\n\t\t}\n\n\t\tconst splitOffset = partionFunc( indirectBuffer, indexArray, triangleBounds, offset, count, split );\n\n\t\t// create the two new child nodes\n\t\tif ( splitOffset === offset || splitOffset === offset + count ) {\n\n\t\t\ttriggerProgress( offset + count );\n\t\t\tnode.offset = offset;\n\t\t\tnode.count = count;\n\n\t\t} else {\n\n\t\t\tnode.splitAxis = split.axis;\n\n\t\t\t// create the left child and compute its bounding box\n\t\t\tconst left = new MeshBVHNode();\n\t\t\tconst lstart = offset;\n\t\t\tconst lcount = splitOffset - offset;\n\t\t\tnode.left = left;\n\n\t\t\tgetBounds( triangleBounds, lstart, lcount, left.boundingData, cacheCentroidBoundingData );\n\t\t\tsplitNode( left, lstart, lcount, cacheCentroidBoundingData, depth + 1 );\n\n\t\t\t// repeat for right\n\t\t\tconst right = new MeshBVHNode();\n\t\t\tconst rstart = splitOffset;\n\t\t\tconst rcount = count - lcount;\n\t\t\tnode.right = right;\n\n\t\t\tgetBounds( triangleBounds, rstart, rcount, right.boundingData, cacheCentroidBoundingData );\n\t\t\tsplitNode( right, rstart, rcount, cacheCentroidBoundingData, depth + 1 );\n\n\t\t}\n\n\t\treturn node;\n\n\t}\n\n}\n\nexport function buildPackedTree( bvh, options ) {\n\n\tconst geometry = bvh.geometry;\n\tif ( options.indirect ) {\n\n\t\tbvh._indirectBuffer = generateIndirectBuffer( geometry, options.useSharedArrayBuffer );\n\n\t\tif ( hasGroupGaps( geometry, options.range ) && ! options.verbose ) {\n\n\t\t\tconsole.warn(\n\t\t\t\t'MeshBVH: Provided geometry contains groups or a range that do not fully span the vertex contents while using the \"indirect\" option. ' +\n\t\t\t\t'BVH may incorrectly report intersections on unrendered portions of the geometry.'\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\tif ( ! bvh._indirectBuffer ) {\n\n\t\tensureIndex( geometry, options );\n\n\t}\n\n\tconst BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\n\n\tconst triangleBounds = computeTriangleBounds( geometry );\n\tconst geometryRanges = options.indirect ? getFullGeometryRange( geometry, options.range ) : getRootIndexRanges( geometry, options.range );\n\tbvh._roots = geometryRanges.map( range => {\n\n\t\tconst root = buildTree( bvh, triangleBounds, range.offset, range.count, options );\n\t\tconst nodeCount = countNodes( root );\n\t\tconst buffer = new BufferConstructor( BYTES_PER_NODE * nodeCount );\n\t\tpopulateBuffer( 0, root, buffer );\n\t\treturn buffer;\n\n\t} );\n\n}\n", "import { Vector3 } from 'three';\n\nexport class SeparatingAxisBounds {\n\n\tconstructor() {\n\n\t\tthis.min = Infinity;\n\t\tthis.max = - Infinity;\n\n\t}\n\n\tsetFromPointsField( points, field ) {\n\n\t\tlet min = Infinity;\n\t\tlet max = - Infinity;\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst p = points[ i ];\n\t\t\tconst val = p[ field ];\n\t\t\tmin = val < min ? val : min;\n\t\t\tmax = val > max ? val : max;\n\n\t\t}\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tsetFromPoints( axis, points ) {\n\n\t\tlet min = Infinity;\n\t\tlet max = - Infinity;\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst p = points[ i ];\n\t\t\tconst val = axis.dot( p );\n\t\t\tmin = val < min ? val : min;\n\t\t\tmax = val > max ? val : max;\n\n\t\t}\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tisSeparated( other ) {\n\n\t\treturn this.min > other.max || other.min > this.max;\n\n\t}\n\n}\n\nSeparatingAxisBounds.prototype.setFromBox = ( function () {\n\n\tconst p = new Vector3();\n\treturn function setFromBox( axis, box ) {\n\n\t\tconst boxMin = box.min;\n\t\tconst boxMax = box.max;\n\t\tlet min = Infinity;\n\t\tlet max = - Infinity;\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\n\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\n\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\n\n\t\t\t\t\tp.x = boxMin.x * x + boxMax.x * ( 1 - x );\n\t\t\t\t\tp.y = boxMin.y * y + boxMax.y * ( 1 - y );\n\t\t\t\t\tp.z = boxMin.z * z + boxMax.z * ( 1 - z );\n\n\t\t\t\t\tconst val = axis.dot( p );\n\t\t\t\t\tmin = Math.min( val, min );\n\t\t\t\t\tmax = Math.max( val, max );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t};\n\n} )();\n\nexport const areIntersecting = ( function () {\n\n\tconst cacheSatBounds = new SeparatingAxisBounds();\n\treturn function areIntersecting( shape1, shape2 ) {\n\n\t\tconst points1 = shape1.points;\n\t\tconst satAxes1 = shape1.satAxes;\n\t\tconst satBounds1 = shape1.satBounds;\n\n\t\tconst points2 = shape2.points;\n\t\tconst satAxes2 = shape2.satAxes;\n\t\tconst satBounds2 = shape2.satBounds;\n\n\t\t// check axes of the first shape\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = satBounds1[ i ];\n\t\t\tconst sa = satAxes1[ i ];\n\t\t\tcacheSatBounds.setFromPoints( sa, points2 );\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\n\n\t\t}\n\n\t\t// check axes of the second shape\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = satBounds2[ i ];\n\t\t\tconst sa = satAxes2[ i ];\n\t\t\tcacheSatBounds.setFromPoints( sa, points1 );\n\t\t\tif ( sb.isSeparated( cacheSatBounds ) ) return false;\n\n\t\t}\n\n\t};\n\n} )();\n", "import { Vector3, Vector2, Plane, Line3 } from 'three';\n\nexport const closestPointLineToLine = ( function () {\n\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/Line.cpp#L56\n\tconst dir1 = new Vector3();\n\tconst dir2 = new Vector3();\n\tconst v02 = new Vector3();\n\treturn function closestPointLineToLine( l1, l2, result ) {\n\n\t\tconst v0 = l1.start;\n\t\tconst v10 = dir1;\n\t\tconst v2 = l2.start;\n\t\tconst v32 = dir2;\n\n\t\tv02.subVectors( v0, v2 );\n\t\tdir1.subVectors( l1.end, l1.start );\n\t\tdir2.subVectors( l2.end, l2.start );\n\n\t\t// float d0232 = v02.Dot(v32);\n\t\tconst d0232 = v02.dot( v32 );\n\n\t\t// float d3210 = v32.Dot(v10);\n\t\tconst d3210 = v32.dot( v10 );\n\n\t\t// float d3232 = v32.Dot(v32);\n\t\tconst d3232 = v32.dot( v32 );\n\n\t\t// float d0210 = v02.Dot(v10);\n\t\tconst d0210 = v02.dot( v10 );\n\n\t\t// float d1010 = v10.Dot(v10);\n\t\tconst d1010 = v10.dot( v10 );\n\n\t\t// float denom = d1010*d3232 - d3210*d3210;\n\t\tconst denom = d1010 * d3232 - d3210 * d3210;\n\n\t\tlet d, d2;\n\t\tif ( denom !== 0 ) {\n\n\t\t\td = ( d0232 * d3210 - d0210 * d3232 ) / denom;\n\n\t\t} else {\n\n\t\t\td = 0;\n\n\t\t}\n\n\t\td2 = ( d0232 + d * d3210 ) / d3232;\n\n\t\tresult.x = d;\n\t\tresult.y = d2;\n\n\t};\n\n} )();\n\nexport const closestPointsSegmentToSegment = ( function () {\n\n\t// https://github.com/juj/MathGeoLib/blob/master/src/Geometry/LineSegment.cpp#L187\n\tconst paramResult = new Vector2();\n\tconst temp1 = new Vector3();\n\tconst temp2 = new Vector3();\n\treturn function closestPointsSegmentToSegment( l1, l2, target1, target2 ) {\n\n\t\tclosestPointLineToLine( l1, l2, paramResult );\n\n\t\tlet d = paramResult.x;\n\t\tlet d2 = paramResult.y;\n\t\tif ( d >= 0 && d <= 1 && d2 >= 0 && d2 <= 1 ) {\n\n\t\t\tl1.at( d, target1 );\n\t\t\tl2.at( d2, target2 );\n\n\t\t\treturn;\n\n\t\t} else if ( d >= 0 && d <= 1 ) {\n\n\t\t\t// Only d2 is out of bounds.\n\t\t\tif ( d2 < 0 ) {\n\n\t\t\t\tl2.at( 0, target2 );\n\n\t\t\t} else {\n\n\t\t\t\tl2.at( 1, target2 );\n\n\t\t\t}\n\n\t\t\tl1.closestPointToPoint( target2, true, target1 );\n\t\t\treturn;\n\n\t\t} else if ( d2 >= 0 && d2 <= 1 ) {\n\n\t\t\t// Only d is out of bounds.\n\t\t\tif ( d < 0 ) {\n\n\t\t\t\tl1.at( 0, target1 );\n\n\t\t\t} else {\n\n\t\t\t\tl1.at( 1, target1 );\n\n\t\t\t}\n\n\t\t\tl2.closestPointToPoint( target1, true, target2 );\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// Both u and u2 are out of bounds.\n\t\t\tlet p;\n\t\t\tif ( d < 0 ) {\n\n\t\t\t\tp = l1.start;\n\n\t\t\t} else {\n\n\t\t\t\tp = l1.end;\n\n\t\t\t}\n\n\t\t\tlet p2;\n\t\t\tif ( d2 < 0 ) {\n\n\t\t\t\tp2 = l2.start;\n\n\t\t\t} else {\n\n\t\t\t\tp2 = l2.end;\n\n\t\t\t}\n\n\t\t\tconst closestPoint = temp1;\n\t\t\tconst closestPoint2 = temp2;\n\t\t\tl1.closestPointToPoint( p2, true, temp1 );\n\t\t\tl2.closestPointToPoint( p, true, temp2 );\n\n\t\t\tif ( closestPoint.distanceToSquared( p2 ) <= closestPoint2.distanceToSquared( p ) ) {\n\n\t\t\t\ttarget1.copy( closestPoint );\n\t\t\t\ttarget2.copy( p2 );\n\t\t\t\treturn;\n\n\t\t\t} else {\n\n\t\t\t\ttarget1.copy( p );\n\t\t\t\ttarget2.copy( closestPoint2 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n} )();\n\n\nexport const sphereIntersectTriangle = ( function () {\n\n\t// https://stackoverflow.com/questions/34043955/detect-collision-between-sphere-and-triangle-in-three-js\n\tconst closestPointTemp = new Vector3();\n\tconst projectedPointTemp = new Vector3();\n\tconst planeTemp = new Plane();\n\tconst lineTemp = new Line3();\n\treturn function sphereIntersectTriangle( sphere, triangle ) {\n\n\t\tconst { radius, center } = sphere;\n\t\tconst { a, b, c } = triangle;\n\n\t\t// phase 1\n\t\tlineTemp.start = a;\n\t\tlineTemp.end = b;\n\t\tconst closestPoint1 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint1.distanceTo( center ) <= radius ) return true;\n\n\t\tlineTemp.start = a;\n\t\tlineTemp.end = c;\n\t\tconst closestPoint2 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint2.distanceTo( center ) <= radius ) return true;\n\n\t\tlineTemp.start = b;\n\t\tlineTemp.end = c;\n\t\tconst closestPoint3 = lineTemp.closestPointToPoint( center, true, closestPointTemp );\n\t\tif ( closestPoint3.distanceTo( center ) <= radius ) return true;\n\n\t\t// phase 2\n\t\tconst plane = triangle.getPlane( planeTemp );\n\t\tconst dp = Math.abs( plane.distanceToPoint( center ) );\n\t\tif ( dp <= radius ) {\n\n\t\t\tconst pp = plane.projectPoint( center, projectedPointTemp );\n\t\t\tconst cp = triangle.containsPoint( pp );\n\t\t\tif ( cp ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n} )();\n", "import { Triangle, Vector3, Line3, Sphere, Plane } from 'three';\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\nimport { closestPointsSegmentToSegment, sphereIntersectTriangle } from './MathUtilities.js';\n\nconst ZERO_EPSILON = 1e-15;\nfunction isNearZero( value ) {\n\n\treturn Math.abs( value ) < ZERO_EPSILON;\n\n}\n\nexport class ExtendedTriangle extends Triangle {\n\n\tconstructor( ...args ) {\n\n\t\tsuper( ...args );\n\n\t\tthis.isExtendedTriangle = true;\n\t\tthis.satAxes = new Array( 4 ).fill().map( () => new Vector3() );\n\t\tthis.satBounds = new Array( 4 ).fill().map( () => new SeparatingAxisBounds() );\n\t\tthis.points = [ this.a, this.b, this.c ];\n\t\tthis.sphere = new Sphere();\n\t\tthis.plane = new Plane();\n\t\tthis.needsUpdate = true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphereIntersectTriangle( sphere, this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst a = this.a;\n\t\tconst b = this.b;\n\t\tconst c = this.c;\n\t\tconst points = this.points;\n\n\t\tconst satAxes = this.satAxes;\n\t\tconst satBounds = this.satBounds;\n\n\t\tconst axis0 = satAxes[ 0 ];\n\t\tconst sab0 = satBounds[ 0 ];\n\t\tthis.getNormal( axis0 );\n\t\tsab0.setFromPoints( axis0, points );\n\n\t\tconst axis1 = satAxes[ 1 ];\n\t\tconst sab1 = satBounds[ 1 ];\n\t\taxis1.subVectors( a, b );\n\t\tsab1.setFromPoints( axis1, points );\n\n\t\tconst axis2 = satAxes[ 2 ];\n\t\tconst sab2 = satBounds[ 2 ];\n\t\taxis2.subVectors( b, c );\n\t\tsab2.setFromPoints( axis2, points );\n\n\t\tconst axis3 = satAxes[ 3 ];\n\t\tconst sab3 = satBounds[ 3 ];\n\t\taxis3.subVectors( c, a );\n\t\tsab3.setFromPoints( axis3, points );\n\n\t\tthis.sphere.setFromPoints( this.points );\n\t\tthis.plane.setFromNormalAndCoplanarPoint( axis0, a );\n\t\tthis.needsUpdate = false;\n\n\t}\n\n}\n\nExtendedTriangle.prototype.closestPointToSegment = ( function () {\n\n\tconst point1 = new Vector3();\n\tconst point2 = new Vector3();\n\tconst edge = new Line3();\n\n\treturn function distanceToSegment( segment, target1 = null, target2 = null ) {\n\n\t\tconst { start, end } = segment;\n\t\tconst points = this.points;\n\t\tlet distSq;\n\t\tlet closestDistanceSq = Infinity;\n\n\t\t// check the triangle edges\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst nexti = ( i + 1 ) % 3;\n\t\t\tedge.start.copy( points[ i ] );\n\t\t\tedge.end.copy( points[ nexti ] );\n\n\t\t\tclosestPointsSegmentToSegment( edge, segment, point1, point2 );\n\n\t\t\tdistSq = point1.distanceToSquared( point2 );\n\t\t\tif ( distSq < closestDistanceSq ) {\n\n\t\t\t\tclosestDistanceSq = distSq;\n\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// check end points\n\t\tthis.closestPointToPoint( start, point1 );\n\t\tdistSq = start.distanceToSquared( point1 );\n\t\tif ( distSq < closestDistanceSq ) {\n\n\t\t\tclosestDistanceSq = distSq;\n\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\tif ( target2 ) target2.copy( start );\n\n\t\t}\n\n\t\tthis.closestPointToPoint( end, point1 );\n\t\tdistSq = end.distanceToSquared( point1 );\n\t\tif ( distSq < closestDistanceSq ) {\n\n\t\t\tclosestDistanceSq = distSq;\n\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\tif ( target2 ) target2.copy( end );\n\n\t\t}\n\n\t\treturn Math.sqrt( closestDistanceSq );\n\n\t};\n\n} )();\n\nExtendedTriangle.prototype.intersectsTriangle = ( function () {\n\n\tconst saTri2 = new ExtendedTriangle();\n\tconst arr1 = new Array( 3 );\n\tconst arr2 = new Array( 3 );\n\tconst cachedSatBounds = new SeparatingAxisBounds();\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\n\tconst cachedAxis = new Vector3();\n\tconst dir = new Vector3();\n\tconst dir1 = new Vector3();\n\tconst dir2 = new Vector3();\n\tconst tempDir = new Vector3();\n\tconst edge = new Line3();\n\tconst edge1 = new Line3();\n\tconst edge2 = new Line3();\n\tconst tempPoint = new Vector3();\n\n\tfunction triIntersectPlane( tri, plane, targetEdge ) {\n\n\t\t// find the edge that intersects the other triangle plane\n\t\tconst points = tri.points;\n\t\tlet count = 0;\n\t\tlet startPointIntersection = - 1;\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst { start, end } = edge;\n\t\t\tstart.copy( points[ i ] );\n\t\t\tend.copy( points[ ( i + 1 ) % 3 ] );\n\t\t\tedge.delta( dir );\n\n\t\t\tconst startIntersects = isNearZero( plane.distanceToPoint( start ) );\n\t\t\tif ( isNearZero( plane.normal.dot( dir ) ) && startIntersects ) {\n\n\t\t\t\t// if the edge lies on the plane then take the line\n\t\t\t\ttargetEdge.copy( edge );\n\t\t\t\tcount = 2;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\t// check if the start point is near the plane because \"intersectLine\" is not robust to that case\n\t\t\tconst doesIntersect = plane.intersectLine( edge, tempPoint );\n\t\t\tif ( ! doesIntersect && startIntersects ) {\n\n\t\t\t\ttempPoint.copy( start );\n\n\t\t\t}\n\n\t\t\t// ignore the end point\n\t\t\tif ( ( doesIntersect || startIntersects ) && ! isNearZero( tempPoint.distanceTo( end ) ) ) {\n\n\t\t\t\tif ( count <= 1 ) {\n\n\t\t\t\t\t// assign to the start or end point and save which index was snapped to\n\t\t\t\t\t// the start point if necessary\n\t\t\t\t\tconst point = count === 1 ? targetEdge.start : targetEdge.end;\n\t\t\t\t\tpoint.copy( tempPoint );\n\t\t\t\t\tif ( startIntersects ) {\n\n\t\t\t\t\t\tstartPointIntersection = count;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( count >= 2 ) {\n\n\t\t\t\t\t// if we're here that means that there must have been one point that had\n\t\t\t\t\t// snapped to the start point so replace it here\n\t\t\t\t\tconst point = startPointIntersection === 1 ? targetEdge.start : targetEdge.end;\n\t\t\t\t\tpoint.copy( tempPoint );\n\t\t\t\t\tcount = 2;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tcount ++;\n\t\t\t\tif ( count === 2 && startPointIntersection === - 1 ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn count;\n\n\t}\n\n\t// TODO: If the triangles are coplanar and intersecting the target is nonsensical. It should at least\n\t// be a line contained by both triangles if not a different special case somehow represented in the return result.\n\treturn function intersectsTriangle( other, target = null, suppressLog = false ) {\n\n\t\tif ( this.needsUpdate ) {\n\n\t\t\tthis.update();\n\n\t\t}\n\n\t\tif ( ! other.isExtendedTriangle ) {\n\n\t\t\tsaTri2.copy( other );\n\t\t\tsaTri2.update();\n\t\t\tother = saTri2;\n\n\t\t} else if ( other.needsUpdate ) {\n\n\t\t\tother.update();\n\n\t\t}\n\n\t\tconst plane1 = this.plane;\n\t\tconst plane2 = other.plane;\n\n\t\tif ( Math.abs( plane1.normal.dot( plane2.normal ) ) > 1.0 - 1e-10 ) {\n\n\t\t\t// perform separating axis intersection test only for coplanar triangles\n\t\t\tconst satBounds1 = this.satBounds;\n\t\t\tconst satAxes1 = this.satAxes;\n\t\t\tarr2[ 0 ] = other.a;\n\t\t\tarr2[ 1 ] = other.b;\n\t\t\tarr2[ 2 ] = other.c;\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst sb = satBounds1[ i ];\n\t\t\t\tconst sa = satAxes1[ i ];\n\t\t\t\tcachedSatBounds.setFromPoints( sa, arr2 );\n\t\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t\t}\n\n\t\t\tconst satBounds2 = other.satBounds;\n\t\t\tconst satAxes2 = other.satAxes;\n\t\t\tarr1[ 0 ] = this.a;\n\t\t\tarr1[ 1 ] = this.b;\n\t\t\tarr1[ 2 ] = this.c;\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst sb = satBounds2[ i ];\n\t\t\t\tconst sa = satAxes2[ i ];\n\t\t\t\tcachedSatBounds.setFromPoints( sa, arr1 );\n\t\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t\t}\n\n\t\t\t// check crossed axes\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst sa1 = satAxes1[ i ];\n\t\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\n\n\t\t\t\t\tconst sa2 = satAxes2[ i2 ];\n\t\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\n\t\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, arr1 );\n\t\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, arr2 );\n\t\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( target ) {\n\n\t\t\t\t// TODO find two points that intersect on the edges and make that the result\n\t\t\t\tif ( ! suppressLog ) {\n\n\t\t\t\t\tconsole.warn( 'ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0.' );\n\n\t\t\t\t}\n\n\t\t\t\ttarget.start.set( 0, 0, 0 );\n\t\t\t\ttarget.end.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t} else {\n\n\t\t\t// find the edge that intersects the other triangle plane\n\t\t\tconst count1 = triIntersectPlane( this, plane2, edge1 );\n\t\t\tif ( count1 === 1 && other.containsPoint( edge1.end ) ) {\n\n\t\t\t\tif ( target ) {\n\n\t\t\t\t\ttarget.start.copy( edge1.end );\n\t\t\t\t\ttarget.end.copy( edge1.end );\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else if ( count1 !== 2 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// find the other triangles edge that intersects this plane\n\t\t\tconst count2 = triIntersectPlane( other, plane1, edge2 );\n\t\t\tif ( count2 === 1 && this.containsPoint( edge2.end ) ) {\n\n\t\t\t\tif ( target ) {\n\n\t\t\t\t\ttarget.start.copy( edge2.end );\n\t\t\t\t\ttarget.end.copy( edge2.end );\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else if ( count2 !== 2 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// find swap the second edge so both lines are running the same direction\n\t\t\tedge1.delta( dir1 );\n\t\t\tedge2.delta( dir2 );\n\n\t\t\tif ( dir1.dot( dir2 ) < 0 ) {\n\n\t\t\t\tlet tmp = edge2.start;\n\t\t\t\tedge2.start = edge2.end;\n\t\t\t\tedge2.end = tmp;\n\n\t\t\t}\n\n\t\t\t// check if the edges are overlapping\n\t\t\tconst s1 = edge1.start.dot( dir1 );\n\t\t\tconst e1 = edge1.end.dot( dir1 );\n\t\t\tconst s2 = edge2.start.dot( dir1 );\n\t\t\tconst e2 = edge2.end.dot( dir1 );\n\t\t\tconst separated1 = e1 < s2;\n\t\t\tconst separated2 = s1 < e2;\n\n\t\t\tif ( s1 !== e2 && s2 !== e1 && separated1 === separated2 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// assign the target output\n\t\t\tif ( target ) {\n\n\t\t\t\ttempDir.subVectors( edge1.start, edge2.start );\n\t\t\t\tif ( tempDir.dot( dir1 ) > 0 ) {\n\n\t\t\t\t\ttarget.start.copy( edge1.start );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttarget.start.copy( edge2.start );\n\n\t\t\t\t}\n\n\t\t\t\ttempDir.subVectors( edge1.end, edge2.end );\n\t\t\t\tif ( tempDir.dot( dir1 ) < 0 ) {\n\n\t\t\t\t\ttarget.end.copy( edge1.end );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttarget.end.copy( edge2.end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t};\n\n} )();\n\n\nExtendedTriangle.prototype.distanceToPoint = ( function () {\n\n\tconst target = new Vector3();\n\treturn function distanceToPoint( point ) {\n\n\t\tthis.closestPointToPoint( point, target );\n\t\treturn point.distanceTo( target );\n\n\t};\n\n} )();\n\n\nExtendedTriangle.prototype.distanceToTriangle = ( function () {\n\n\tconst point = new Vector3();\n\tconst point2 = new Vector3();\n\tconst cornerFields = [ 'a', 'b', 'c' ];\n\tconst line1 = new Line3();\n\tconst line2 = new Line3();\n\n\treturn function distanceToTriangle( other, target1 = null, target2 = null ) {\n\n\t\tconst lineTarget = target1 || target2 ? line1 : null;\n\t\tif ( this.intersectsTriangle( other, lineTarget ) ) {\n\n\t\t\tif ( target1 || target2 ) {\n\n\t\t\t\tif ( target1 ) lineTarget.getCenter( target1 );\n\t\t\t\tif ( target2 ) lineTarget.getCenter( target2 );\n\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tlet closestDistanceSq = Infinity;\n\n\t\t// check all point distances\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tlet dist;\n\t\t\tconst field = cornerFields[ i ];\n\t\t\tconst otherVec = other[ field ];\n\t\t\tthis.closestPointToPoint( otherVec, point );\n\n\t\t\tdist = otherVec.distanceToSquared( point );\n\n\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\tif ( target1 ) target1.copy( point );\n\t\t\t\tif ( target2 ) target2.copy( otherVec );\n\n\t\t\t}\n\n\n\t\t\tconst thisVec = this[ field ];\n\t\t\tother.closestPointToPoint( thisVec, point );\n\n\t\t\tdist = thisVec.distanceToSquared( point );\n\n\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\tif ( target1 ) target1.copy( thisVec );\n\t\t\t\tif ( target2 ) target2.copy( point );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst f11 = cornerFields[ i ];\n\t\t\tconst f12 = cornerFields[ ( i + 1 ) % 3 ];\n\t\t\tline1.set( this[ f11 ], this[ f12 ] );\n\t\t\tfor ( let i2 = 0; i2 < 3; i2 ++ ) {\n\n\t\t\t\tconst f21 = cornerFields[ i2 ];\n\t\t\t\tconst f22 = cornerFields[ ( i2 + 1 ) % 3 ];\n\t\t\t\tline2.set( other[ f21 ], other[ f22 ] );\n\n\t\t\t\tclosestPointsSegmentToSegment( line1, line2, point, point2 );\n\n\t\t\t\tconst dist = point.distanceToSquared( point2 );\n\t\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\t\tif ( target1 ) target1.copy( point );\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Math.sqrt( closestDistanceSq );\n\n\t};\n\n} )();\n", "import { Vector3, Matrix4, Line3 } from 'three';\nimport { SeparatingAxisBounds } from './SeparatingAxisBounds.js';\nimport { ExtendedTriangle } from './ExtendedTriangle.js';\nimport { closestPointsSegmentToSegment } from './MathUtilities.js';\n\nexport class OrientedBox {\n\n\tconstructor( min, max, matrix ) {\n\n\t\tthis.isOrientedBox = true;\n\t\tthis.min = new Vector3();\n\t\tthis.max = new Vector3();\n\t\tthis.matrix = new Matrix4();\n\t\tthis.invMatrix = new Matrix4();\n\t\tthis.points = new Array( 8 ).fill().map( () => new Vector3() );\n\t\tthis.satAxes = new Array( 3 ).fill().map( () => new Vector3() );\n\t\tthis.satBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\n\t\tthis.alignedSatBounds = new Array( 3 ).fill().map( () => new SeparatingAxisBounds() );\n\t\tthis.needsUpdate = false;\n\n\t\tif ( min ) this.min.copy( min );\n\t\tif ( max ) this.max.copy( max );\n\t\tif ( matrix ) this.matrix.copy( matrix );\n\n\t}\n\n\tset( min, max, matrix ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\t\tthis.matrix.copy( matrix );\n\t\tthis.needsUpdate = true;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.min.copy( other.min );\n\t\tthis.max.copy( other.max );\n\t\tthis.matrix.copy( other.matrix );\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nOrientedBox.prototype.update = ( function () {\n\n\treturn function update() {\n\n\t\tconst matrix = this.matrix;\n\t\tconst min = this.min;\n\t\tconst max = this.max;\n\n\t\tconst points = this.points;\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\n\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\n\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\n\n\t\t\t\t\tconst i = ( ( 1 << 0 ) * x ) | ( ( 1 << 1 ) * y ) | ( ( 1 << 2 ) * z );\n\t\t\t\t\tconst v = points[ i ];\n\t\t\t\t\tv.x = x ? max.x : min.x;\n\t\t\t\t\tv.y = y ? max.y : min.y;\n\t\t\t\t\tv.z = z ? max.z : min.z;\n\n\t\t\t\t\tv.applyMatrix4( matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\t\tconst minVec = points[ 0 ];\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst axis = satAxes[ i ];\n\t\t\tconst sb = satBounds[ i ];\n\t\t\tconst index = 1 << i;\n\t\t\tconst pi = points[ index ];\n\n\t\t\taxis.subVectors( minVec, pi );\n\t\t\tsb.setFromPoints( axis, points );\n\n\t\t}\n\n\t\tconst alignedSatBounds = this.alignedSatBounds;\n\t\talignedSatBounds[ 0 ].setFromPointsField( points, 'x' );\n\t\talignedSatBounds[ 1 ].setFromPointsField( points, 'y' );\n\t\talignedSatBounds[ 2 ].setFromPointsField( points, 'z' );\n\n\t\tthis.invMatrix.copy( this.matrix ).invert();\n\t\tthis.needsUpdate = false;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.intersectsBox = ( function () {\n\n\tconst aabbBounds = new SeparatingAxisBounds();\n\treturn function intersectsBox( box ) {\n\n\t\t// TODO: should this be doing SAT against the AABB?\n\t\tif ( this.needsUpdate ) {\n\n\t\t\tthis.update();\n\n\t\t}\n\n\t\tconst min = box.min;\n\t\tconst max = box.max;\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\t\tconst alignedSatBounds = this.alignedSatBounds;\n\n\t\taabbBounds.min = min.x;\n\t\taabbBounds.max = max.x;\n\t\tif ( alignedSatBounds[ 0 ].isSeparated( aabbBounds ) ) return false;\n\n\t\taabbBounds.min = min.y;\n\t\taabbBounds.max = max.y;\n\t\tif ( alignedSatBounds[ 1 ].isSeparated( aabbBounds ) ) return false;\n\n\t\taabbBounds.min = min.z;\n\t\taabbBounds.max = max.z;\n\t\tif ( alignedSatBounds[ 2 ].isSeparated( aabbBounds ) ) return false;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst axis = satAxes[ i ];\n\t\t\tconst sb = satBounds[ i ];\n\t\t\taabbBounds.setFromBox( axis, box );\n\t\t\tif ( sb.isSeparated( aabbBounds ) ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.intersectsTriangle = ( function () {\n\n\tconst saTri = new ExtendedTriangle();\n\tconst pointsArr = new Array( 3 );\n\tconst cachedSatBounds = new SeparatingAxisBounds();\n\tconst cachedSatBounds2 = new SeparatingAxisBounds();\n\tconst cachedAxis = new Vector3();\n\treturn function intersectsTriangle( triangle ) {\n\n\t\tif ( this.needsUpdate ) {\n\n\t\t\tthis.update();\n\n\t\t}\n\n\t\tif ( ! triangle.isExtendedTriangle ) {\n\n\t\t\tsaTri.copy( triangle );\n\t\t\tsaTri.update();\n\t\t\ttriangle = saTri;\n\n\t\t} else if ( triangle.needsUpdate ) {\n\n\t\t\ttriangle.update();\n\n\t\t}\n\n\t\tconst satBounds = this.satBounds;\n\t\tconst satAxes = this.satAxes;\n\n\t\tpointsArr[ 0 ] = triangle.a;\n\t\tpointsArr[ 1 ] = triangle.b;\n\t\tpointsArr[ 2 ] = triangle.c;\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = satBounds[ i ];\n\t\t\tconst sa = satAxes[ i ];\n\t\t\tcachedSatBounds.setFromPoints( sa, pointsArr );\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t}\n\n\t\tconst triSatBounds = triangle.satBounds;\n\t\tconst triSatAxes = triangle.satAxes;\n\t\tconst points = this.points;\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sb = triSatBounds[ i ];\n\t\t\tconst sa = triSatAxes[ i ];\n\t\t\tcachedSatBounds.setFromPoints( sa, points );\n\t\t\tif ( sb.isSeparated( cachedSatBounds ) ) return false;\n\n\t\t}\n\n\t\t// check crossed axes\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tconst sa1 = satAxes[ i ];\n\t\t\tfor ( let i2 = 0; i2 < 4; i2 ++ ) {\n\n\t\t\t\tconst sa2 = triSatAxes[ i2 ];\n\t\t\t\tcachedAxis.crossVectors( sa1, sa2 );\n\t\t\t\tcachedSatBounds.setFromPoints( cachedAxis, pointsArr );\n\t\t\t\tcachedSatBounds2.setFromPoints( cachedAxis, points );\n\t\t\t\tif ( cachedSatBounds.isSeparated( cachedSatBounds2 ) ) return false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.closestPointToPoint = ( function () {\n\n\treturn function closestPointToPoint( point, target1 ) {\n\n\t\tif ( this.needsUpdate ) {\n\n\t\t\tthis.update();\n\n\t\t}\n\n\t\ttarget1\n\t\t\t.copy( point )\n\t\t\t.applyMatrix4( this.invMatrix )\n\t\t\t.clamp( this.min, this.max )\n\t\t\t.applyMatrix4( this.matrix );\n\n\t\treturn target1;\n\n\t};\n\n} )();\n\nOrientedBox.prototype.distanceToPoint = ( function () {\n\n\tconst target = new Vector3();\n\treturn function distanceToPoint( point ) {\n\n\t\tthis.closestPointToPoint( point, target );\n\t\treturn point.distanceTo( target );\n\n\t};\n\n} )();\n\nOrientedBox.prototype.distanceToBox = ( function () {\n\n\tconst xyzFields = [ 'x', 'y', 'z' ];\n\tconst segments1 = new Array( 12 ).fill().map( () => new Line3() );\n\tconst segments2 = new Array( 12 ).fill().map( () => new Line3() );\n\n\tconst point1 = new Vector3();\n\tconst point2 = new Vector3();\n\n\t// early out if we find a value below threshold\n\treturn function distanceToBox( box, threshold = 0, target1 = null, target2 = null ) {\n\n\t\tif ( this.needsUpdate ) {\n\n\t\t\tthis.update();\n\n\t\t}\n\n\t\tif ( this.intersectsBox( box ) ) {\n\n\t\t\tif ( target1 || target2 ) {\n\n\t\t\t\tbox.getCenter( point2 );\n\t\t\t\tthis.closestPointToPoint( point2, point1 );\n\t\t\t\tbox.closestPointToPoint( point1, point2 );\n\n\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tconst threshold2 = threshold * threshold;\n\t\tconst min = box.min;\n\t\tconst max = box.max;\n\t\tconst points = this.points;\n\n\n\t\t// iterate over every edge and compare distances\n\t\tlet closestDistanceSq = Infinity;\n\n\t\t// check over all these points\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst p = points[ i ];\n\t\t\tpoint2.copy( p ).clamp( min, max );\n\n\t\t\tconst dist = p.distanceToSquared( point2 );\n\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\tif ( target1 ) target1.copy( p );\n\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate and check all line segment distances\n\t\tlet count = 0;\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let i1 = 0; i1 <= 1; i1 ++ ) {\n\n\t\t\t\tfor ( let i2 = 0; i2 <= 1; i2 ++ ) {\n\n\t\t\t\t\tconst nextIndex = ( i + 1 ) % 3;\n\t\t\t\t\tconst nextIndex2 = ( i + 2 ) % 3;\n\n\t\t\t\t\t// get obb line segments\n\t\t\t\t\tconst index = i1 << nextIndex | i2 << nextIndex2;\n\t\t\t\t\tconst index2 = 1 << i | i1 << nextIndex | i2 << nextIndex2;\n\t\t\t\t\tconst p1 = points[ index ];\n\t\t\t\t\tconst p2 = points[ index2 ];\n\t\t\t\t\tconst line1 = segments1[ count ];\n\t\t\t\t\tline1.set( p1, p2 );\n\n\n\t\t\t\t\t// get aabb line segments\n\t\t\t\t\tconst f1 = xyzFields[ i ];\n\t\t\t\t\tconst f2 = xyzFields[ nextIndex ];\n\t\t\t\t\tconst f3 = xyzFields[ nextIndex2 ];\n\t\t\t\t\tconst line2 = segments2[ count ];\n\t\t\t\t\tconst start = line2.start;\n\t\t\t\t\tconst end = line2.end;\n\n\t\t\t\t\tstart[ f1 ] = min[ f1 ];\n\t\t\t\t\tstart[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\n\t\t\t\t\tstart[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\n\n\t\t\t\t\tend[ f1 ] = max[ f1 ];\n\t\t\t\t\tend[ f2 ] = i1 ? min[ f2 ] : max[ f2 ];\n\t\t\t\t\tend[ f3 ] = i2 ? min[ f3 ] : max[ f2 ];\n\n\t\t\t\t\tcount ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// check all the other boxes point\n\t\tfor ( let x = 0; x <= 1; x ++ ) {\n\n\t\t\tfor ( let y = 0; y <= 1; y ++ ) {\n\n\t\t\t\tfor ( let z = 0; z <= 1; z ++ ) {\n\n\t\t\t\t\tpoint2.x = x ? max.x : min.x;\n\t\t\t\t\tpoint2.y = y ? max.y : min.y;\n\t\t\t\t\tpoint2.z = z ? max.z : min.z;\n\n\t\t\t\t\tthis.closestPointToPoint( point2, point1 );\n\t\t\t\t\tconst dist = point2.distanceToSquared( point1 );\n\t\t\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 12; i ++ ) {\n\n\t\t\tconst l1 = segments1[ i ];\n\t\t\tfor ( let i2 = 0; i2 < 12; i2 ++ ) {\n\n\t\t\t\tconst l2 = segments2[ i2 ];\n\t\t\t\tclosestPointsSegmentToSegment( l1, l2, point1, point2 );\n\t\t\t\tconst dist = point1.distanceToSquared( point2 );\n\t\t\t\tif ( dist < closestDistanceSq ) {\n\n\t\t\t\t\tclosestDistanceSq = dist;\n\t\t\t\t\tif ( target1 ) target1.copy( point1 );\n\t\t\t\t\tif ( target2 ) target2.copy( point2 );\n\n\t\t\t\t\tif ( dist < threshold2 ) return Math.sqrt( dist );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Math.sqrt( closestDistanceSq );\n\n\t};\n\n} )();\n", "export class PrimitivePool {\n\n\tconstructor( getNewPrimitive ) {\n\n\t\tthis._getNewPrimitive = getNewPrimitive;\n\t\tthis._primitives = [];\n\n\t}\n\n\tgetPrimitive() {\n\n\t\tconst primitives = this._primitives;\n\t\tif ( primitives.length === 0 ) {\n\n\t\t\treturn this._getNewPrimitive();\n\n\t\t} else {\n\n\t\t\treturn primitives.pop();\n\n\t\t}\n\n\t}\n\n\treleasePrimitive( primitive ) {\n\n\t\tthis._primitives.push( primitive );\n\n\t}\n\n}\n", "import { ExtendedTriangle } from '../math/ExtendedTriangle.js';\nimport { PrimitivePool } from './PrimitivePool.js';\n\nclass ExtendedTrianglePoolBase extends PrimitivePool {\n\n\tconstructor() {\n\n\t\tsuper( () => new ExtendedTriangle() );\n\n\t}\n\n}\n\nexport const ExtendedTrianglePool = /* @__PURE__ */ new ExtendedTrianglePoolBase();\n", "class _BufferStack {\n\n\tconstructor() {\n\n\t\tthis.float32Array = null;\n\t\tthis.uint16Array = null;\n\t\tthis.uint32Array = null;\n\n\t\tconst stack = [];\n\t\tlet prevBuffer = null;\n\t\tthis.setBuffer = buffer => {\n\n\t\t\tif ( prevBuffer ) {\n\n\t\t\t\tstack.push( prevBuffer );\n\n\t\t\t}\n\n\t\t\tprevBuffer = buffer;\n\t\t\tthis.float32Array = new Float32Array( buffer );\n\t\t\tthis.uint16Array = new Uint16Array( buffer );\n\t\t\tthis.uint32Array = new Uint32Array( buffer );\n\n\t\t};\n\n\t\tthis.clearBuffer = () => {\n\n\t\t\tprevBuffer = null;\n\t\t\tthis.float32Array = null;\n\t\t\tthis.uint16Array = null;\n\t\t\tthis.uint32Array = null;\n\n\t\t\tif ( stack.length !== 0 ) {\n\n\t\t\t\tthis.setBuffer( stack.pop() );\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n}\n\nexport const BufferStack = new _BufferStack();\n", "import { Box3 } from 'three';\nimport { CONTAINED } from '../Constants.js';\nimport { arrayToBox } from '../../utils/ArrayBoxUtilities.js';\nimport { PrimitivePool } from '../../utils/PrimitivePool.js';\nimport { COUNT, OFFSET, LEFT_NODE, RIGHT_NODE, IS_LEAF, BOUNDING_DATA_INDEX } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\n\nlet _box1, _box2;\nconst boxStack = [];\nconst boxPool = /* @__PURE__ */ new PrimitivePool( () => new Box3() );\n\nexport function shapecast( bvh, root, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset ) {\n\n\t// setup\n\t_box1 = boxPool.getPrimitive();\n\t_box2 = boxPool.getPrimitive();\n\tboxStack.push( _box1, _box2 );\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\n\tconst result = shapecastTraverse( 0, bvh.geometry, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset );\n\n\t// cleanup\n\tBufferStack.clearBuffer();\n\tboxPool.releasePrimitive( _box1 );\n\tboxPool.releasePrimitive( _box2 );\n\tboxStack.pop();\n\tboxStack.pop();\n\n\tconst length = boxStack.length;\n\tif ( length > 0 ) {\n\n\t\t_box2 = boxStack[ length - 1 ];\n\t\t_box1 = boxStack[ length - 2 ];\n\n\t}\n\n\treturn result;\n\n}\n\nfunction shapecastTraverse(\n\tnodeIndex32,\n\tgeometry,\n\tintersectsBoundsFunc,\n\tintersectsRangeFunc,\n\tnodeScoreFunc = null,\n\tnodeIndexByteOffset = 0, // offset for unique node identifier\n\tdepth = 0\n) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\t\tarrayToBox( BOUNDING_DATA_INDEX( nodeIndex32 ), float32Array, _box1 );\n\t\treturn intersectsRangeFunc( offset, count, false, depth, nodeIndexByteOffset + nodeIndex32, _box1 );\n\n\t} else {\n\n\t\tconst left = LEFT_NODE( nodeIndex32 );\n\t\tconst right = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\tlet c1 = left;\n\t\tlet c2 = right;\n\n\t\tlet score1, score2;\n\t\tlet box1, box2;\n\t\tif ( nodeScoreFunc ) {\n\n\t\t\tbox1 = _box1;\n\t\t\tbox2 = _box2;\n\n\t\t\t// bounding data is not offset\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c1 ), float32Array, box1 );\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c2 ), float32Array, box2 );\n\n\t\t\tscore1 = nodeScoreFunc( box1 );\n\t\t\tscore2 = nodeScoreFunc( box2 );\n\n\t\t\tif ( score2 < score1 ) {\n\n\t\t\t\tc1 = right;\n\t\t\t\tc2 = left;\n\n\t\t\t\tconst temp = score1;\n\t\t\t\tscore1 = score2;\n\t\t\t\tscore2 = temp;\n\n\t\t\t\tbox1 = box2;\n\t\t\t\t// box2 is always set before use below\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Check box 1 intersection\n\t\tif ( ! box1 ) {\n\n\t\t\tbox1 = _box1;\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( c1 ), float32Array, box1 );\n\n\t\t}\n\n\t\tconst isC1Leaf = IS_LEAF( c1 * 2, uint16Array );\n\t\tconst c1Intersection = intersectsBoundsFunc( box1, isC1Leaf, score1, depth + 1, nodeIndexByteOffset + c1 );\n\n\t\tlet c1StopTraversal;\n\t\tif ( c1Intersection === CONTAINED ) {\n\n\t\t\tconst offset = getLeftOffset( c1 );\n\t\t\tconst end = getRightEndOffset( c1 );\n\t\t\tconst count = end - offset;\n\n\t\t\tc1StopTraversal = intersectsRangeFunc( offset, count, true, depth + 1, nodeIndexByteOffset + c1, box1 );\n\n\t\t} else {\n\n\t\t\tc1StopTraversal =\n\t\t\t\tc1Intersection &&\n\t\t\t\tshapecastTraverse(\n\t\t\t\t\tc1,\n\t\t\t\t\tgeometry,\n\t\t\t\t\tintersectsBoundsFunc,\n\t\t\t\t\tintersectsRangeFunc,\n\t\t\t\t\tnodeScoreFunc,\n\t\t\t\t\tnodeIndexByteOffset,\n\t\t\t\t\tdepth + 1\n\t\t\t\t);\n\n\t\t}\n\n\t\tif ( c1StopTraversal ) return true;\n\n\t\t// Check box 2 intersection\n\t\t// cached box2 will have been overwritten by previous traversal\n\t\tbox2 = _box2;\n\t\tarrayToBox( BOUNDING_DATA_INDEX( c2 ), float32Array, box2 );\n\n\t\tconst isC2Leaf = IS_LEAF( c2 * 2, uint16Array );\n\t\tconst c2Intersection = intersectsBoundsFunc( box2, isC2Leaf, score2, depth + 1, nodeIndexByteOffset + c2 );\n\n\t\tlet c2StopTraversal;\n\t\tif ( c2Intersection === CONTAINED ) {\n\n\t\t\tconst offset = getLeftOffset( c2 );\n\t\t\tconst end = getRightEndOffset( c2 );\n\t\t\tconst count = end - offset;\n\n\t\t\tc2StopTraversal = intersectsRangeFunc( offset, count, true, depth + 1, nodeIndexByteOffset + c2, box2 );\n\n\t\t} else {\n\n\t\t\tc2StopTraversal =\n\t\t\t\tc2Intersection &&\n\t\t\t\tshapecastTraverse(\n\t\t\t\t\tc2,\n\t\t\t\t\tgeometry,\n\t\t\t\t\tintersectsBoundsFunc,\n\t\t\t\t\tintersectsRangeFunc,\n\t\t\t\t\tnodeScoreFunc,\n\t\t\t\t\tnodeIndexByteOffset,\n\t\t\t\t\tdepth + 1\n\t\t\t\t);\n\n\t\t}\n\n\t\tif ( c2StopTraversal ) return true;\n\n\t\treturn false;\n\n\t\t// Define these inside the function so it has access to the local variables needed\n\t\t// when converting to the buffer equivalents\n\t\tfunction getLeftOffset( nodeIndex32 ) {\n\n\t\t\tconst { uint16Array, uint32Array } = BufferStack;\n\t\t\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\t\t\t// traverse until we find a leaf\n\t\t\twhile ( ! IS_LEAF( nodeIndex16, uint16Array ) ) {\n\n\t\t\t\tnodeIndex32 = LEFT_NODE( nodeIndex32 );\n\t\t\t\tnodeIndex16 = nodeIndex32 * 2;\n\n\t\t\t}\n\n\t\t\treturn OFFSET( nodeIndex32, uint32Array );\n\n\t\t}\n\n\t\tfunction getRightEndOffset( nodeIndex32 ) {\n\n\t\t\tconst { uint16Array, uint32Array } = BufferStack;\n\t\t\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\t\t\t// traverse until we find a leaf\n\t\t\twhile ( ! IS_LEAF( nodeIndex16, uint16Array ) ) {\n\n\t\t\t\t// adjust offset to point to the right node\n\t\t\t\tnodeIndex32 = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\t\t\tnodeIndex16 = nodeIndex32 * 2;\n\n\t\t\t}\n\n\t\t\t// return the end offset of the triangle range\n\t\t\treturn OFFSET( nodeIndex32, uint32Array ) + COUNT( nodeIndex16, uint16Array );\n\n\t\t}\n\n\t}\n\n}\n", "import { Vector3 } from 'three';\n\nconst temp = /* @__PURE__ */ new Vector3();\nconst temp1 = /* @__PURE__ */ new Vector3();\n\nexport function closestPointToPoint(\n\tbvh,\n\tpoint,\n\ttarget = { },\n\tminThreshold = 0,\n\tmaxThreshold = Infinity,\n) {\n\n\t// early out if under minThreshold\n\t// skip checking if over maxThreshold\n\t// set minThreshold = maxThreshold to quickly check if a point is within a threshold\n\t// returns Infinity if no value found\n\tconst minThresholdSq = minThreshold * minThreshold;\n\tconst maxThresholdSq = maxThreshold * maxThreshold;\n\tlet closestDistanceSq = Infinity;\n\tlet closestDistanceTriIndex = null;\n\tbvh.shapecast(\n\n\t\t{\n\n\t\t\tboundsTraverseOrder: box => {\n\n\t\t\t\ttemp.copy( point ).clamp( box.min, box.max );\n\t\t\t\treturn temp.distanceToSquared( point );\n\n\t\t\t},\n\n\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\n\n\t\t\t\treturn score < closestDistanceSq && score < maxThresholdSq;\n\n\t\t\t},\n\n\t\t\tintersectsTriangle: ( tri, triIndex ) => {\n\n\t\t\t\ttri.closestPointToPoint( point, temp );\n\t\t\t\tconst distSq = point.distanceToSquared( temp );\n\t\t\t\tif ( distSq < closestDistanceSq ) {\n\n\t\t\t\t\ttemp1.copy( temp );\n\t\t\t\t\tclosestDistanceSq = distSq;\n\t\t\t\t\tclosestDistanceTriIndex = triIndex;\n\n\t\t\t\t}\n\n\t\t\t\tif ( distSq < minThresholdSq ) {\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t}\n\n\t);\n\n\tif ( closestDistanceSq === Infinity ) return null;\n\n\tconst closestDistance = Math.sqrt( closestDistanceSq );\n\n\tif ( ! target.point ) target.point = temp1.clone();\n\telse target.point.copy( temp1 );\n\ttarget.distance = closestDistance,\n\ttarget.faceIndex = closestDistanceTriIndex;\n\n\treturn target;\n\n}\n", "import { Vector3, Vector2, Triangle, DoubleSide, BackSide, REVISION } from 'three';\n\nconst IS_GT_REVISION_169 = parseInt( REVISION ) >= 169;\n\n// Ripped and modified From THREE.js Mesh raycast\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\nconst _vA = /* @__PURE__ */ new Vector3();\nconst _vB = /* @__PURE__ */ new Vector3();\nconst _vC = /* @__PURE__ */ new Vector3();\n\nconst _uvA = /* @__PURE__ */ new Vector2();\nconst _uvB = /* @__PURE__ */ new Vector2();\nconst _uvC = /* @__PURE__ */ new Vector2();\n\nconst _normalA = /* @__PURE__ */ new Vector3();\nconst _normalB = /* @__PURE__ */ new Vector3();\nconst _normalC = /* @__PURE__ */ new Vector3();\n\nconst _intersectionPoint = /* @__PURE__ */ new Vector3();\nfunction checkIntersection( ray, pA, pB, pC, point, side, near, far ) {\n\n\tlet intersect;\n\tif ( side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\tconst distance = ray.origin.distanceTo( point );\n\n\tif ( distance < near || distance > far ) return null;\n\n\treturn {\n\n\t\tdistance: distance,\n\t\tpoint: point.clone(),\n\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( ray, position, normal, uv, uv1, a, b, c, side, near, far ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst intersection = checkIntersection( ray, _vA, _vB, _vC, _intersectionPoint, side, near, far );\n\n\tif ( intersection ) {\n\n\t\tconst barycoord = new Vector3();\n\t\tTriangle.getBarycoord( _intersectionPoint, _vA, _vB, _vC, barycoord );\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getInterpolation( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv1 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv1, a );\n\t\t\t_uvB.fromBufferAttribute( uv1, b );\n\t\t\t_uvC.fromBufferAttribute( uv1, c );\n\n\t\t\tintersection.uv1 = Triangle.getInterpolation( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( normal ) {\n\n\t\t\t_normalA.fromBufferAttribute( normal, a );\n\t\t\t_normalB.fromBufferAttribute( normal, b );\n\t\t\t_normalC.fromBufferAttribute( normal, c );\n\n\t\t\tintersection.normal = Triangle.getInterpolation( _intersectionPoint, _vA, _vB, _vC, _normalA, _normalB, _normalC, new Vector3() );\n\t\t\tif ( intersection.normal.dot( ray.direction ) > 0 ) {\n\n\t\t\t\tintersection.normal.multiplyScalar( - 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\t\tintersection.faceIndex = a;\n\n\t\tif ( IS_GT_REVISION_169 ) {\n\n\t\t\tintersection.barycoord = barycoord;\n\n\t\t}\n\n\t}\n\n\treturn intersection;\n\n}\n\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\nfunction intersectTri( geo, side, ray, tri, intersections, near, far ) {\n\n\tconst triOffset = tri * 3;\n\tlet a = triOffset + 0;\n\tlet b = triOffset + 1;\n\tlet c = triOffset + 2;\n\n\tconst index = geo.index;\n\tif ( geo.index ) {\n\n\t\ta = index.getX( a );\n\t\tb = index.getX( b );\n\t\tc = index.getX( c );\n\n\t}\n\n\tconst { position, normal, uv, uv1 } = geo.attributes;\n\tconst intersection = checkBufferGeometryIntersection( ray, position, normal, uv, uv1, a, b, c, side, near, far );\n\n\tif ( intersection ) {\n\n\t\tintersection.faceIndex = tri;\n\t\tif ( intersections ) intersections.push( intersection );\n\t\treturn intersection;\n\n\t}\n\n\treturn null;\n\n}\n\nexport { intersectTri };\n", "\nimport { Vector2, Vector3, Triangle } from 'three';\n\n// sets the vertices of triangle `tri` with the 3 vertices after i\nexport function setTriangle( tri, i, index, pos ) {\n\n\tconst ta = tri.a;\n\tconst tb = tri.b;\n\tconst tc = tri.c;\n\n\tlet i0 = i;\n\tlet i1 = i + 1;\n\tlet i2 = i + 2;\n\tif ( index ) {\n\n\t\ti0 = index.getX( i0 );\n\t\ti1 = index.getX( i1 );\n\t\ti2 = index.getX( i2 );\n\n\t}\n\n\tta.x = pos.getX( i0 );\n\tta.y = pos.getY( i0 );\n\tta.z = pos.getZ( i0 );\n\n\ttb.x = pos.getX( i1 );\n\ttb.y = pos.getY( i1 );\n\ttb.z = pos.getZ( i1 );\n\n\ttc.x = pos.getX( i2 );\n\ttc.y = pos.getY( i2 );\n\ttc.z = pos.getZ( i2 );\n\n}\n\nconst tempV1 = /* @__PURE__ */ new Vector3();\nconst tempV2 = /* @__PURE__ */ new Vector3();\nconst tempV3 = /* @__PURE__ */ new Vector3();\nconst tempUV1 = /* @__PURE__ */ new Vector2();\nconst tempUV2 = /* @__PURE__ */ new Vector2();\nconst tempUV3 = /* @__PURE__ */ new Vector2();\n\nexport function getTriangleHitPointInfo( point, geometry, triangleIndex, target ) {\n\n\tconst indices = geometry.getIndex().array;\n\tconst positions = geometry.getAttribute( 'position' );\n\tconst uvs = geometry.getAttribute( 'uv' );\n\n\tconst a = indices[ triangleIndex * 3 ];\n\tconst b = indices[ triangleIndex * 3 + 1 ];\n\tconst c = indices[ triangleIndex * 3 + 2 ];\n\n\ttempV1.fromBufferAttribute( positions, a );\n\ttempV2.fromBufferAttribute( positions, b );\n\ttempV3.fromBufferAttribute( positions, c );\n\n\t// find the associated material index\n\tlet materialIndex = 0;\n\tconst groups = geometry.groups;\n\tconst firstVertexIndex = triangleIndex * 3;\n\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\t\tconst { start, count } = group;\n\t\tif ( firstVertexIndex >= start && firstVertexIndex < start + count ) {\n\n\t\t\tmaterialIndex = group.materialIndex;\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t// extract barycoord\n\tconst barycoord = target && target.barycoord ? target.barycoord : new Vector3();\n\tTriangle.getBarycoord( point, tempV1, tempV2, tempV3, barycoord );\n\n\t// extract uvs\n\tlet uv = null;\n\tif ( uvs ) {\n\n\t\ttempUV1.fromBufferAttribute( uvs, a );\n\t\ttempUV2.fromBufferAttribute( uvs, b );\n\t\ttempUV3.fromBufferAttribute( uvs, c );\n\n\t\tif ( target && target.uv ) uv = target.uv;\n\t\telse uv = new Vector2();\n\n\t\tTriangle.getInterpolation( point, tempV1, tempV2, tempV3, tempUV1, tempUV2, tempUV3, uv );\n\n\t}\n\n\t// adjust the provided target or create a new one\n\tif ( target ) {\n\n\t\tif ( ! target.face ) target.face = { };\n\t\ttarget.face.a = a;\n\t\ttarget.face.b = b;\n\t\ttarget.face.c = c;\n\t\ttarget.face.materialIndex = materialIndex;\n\t\tif ( ! target.face.normal ) target.face.normal = new Vector3();\n\t\tTriangle.getNormal( tempV1, tempV2, tempV3, target.face.normal );\n\n\t\tif ( uv ) target.uv = uv;\n\t\ttarget.barycoord = barycoord;\n\n\t\treturn target;\n\n\t} else {\n\n\t\treturn {\n\t\t\tface: {\n\t\t\t\ta: a,\n\t\t\t\tb: b,\n\t\t\t\tc: c,\n\t\t\t\tmaterialIndex: materialIndex,\n\t\t\t\tnormal: Triangle.getNormal( tempV1, tempV2, tempV3, new Vector3() )\n\t\t\t},\n\t\t\tuv: uv,\n\t\t\tbarycoord: barycoord,\n\t\t};\n\n\t}\n\n}\n", "import { intersectTri } from '../../utils/ThreeRayIntersectUtilities.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\n\n/*************************************************************/\n/* This file is generated from \"iterationUtils.template.js\". */\n/*************************************************************/\n/* eslint-disable indent */\n\nfunction intersectTris( bvh, side, ray, offset, count, intersections, near, far ) {\n\n\tconst { geometry, _indirectBuffer } = bvh;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\n\t\tintersectTri( geometry, side, ray, i, intersections, near, far );\n\n\n\t}\n\n}\n\nfunction intersectClosestTri( bvh, side, ray, offset, count, near, far ) {\n\n\tconst { geometry, _indirectBuffer } = bvh;\n\tlet dist = Infinity;\n\tlet res = null;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tlet intersection;\n\n\t\tintersection = intersectTri( geometry, side, ray, i, null, near, far );\n\n\n\t\tif ( intersection && intersection.distance < dist ) {\n\n\t\t\tres = intersection;\n\t\t\tdist = intersection.distance;\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\nfunction iterateOverTriangles(\n\toffset,\n\tcount,\n\tbvh,\n\tintersectsTriangleFunc,\n\tcontained,\n\tdepth,\n\ttriangle\n) {\n\n\tconst { geometry } = bvh;\n\tconst { index } = geometry;\n\tconst pos = geometry.attributes.position;\n\tfor ( let i = offset, l = count + offset; i < l; i ++ ) {\n\n\t\tlet tri;\n\n\t\ttri = i;\n\n\t\tsetTriangle( triangle, tri * 3, index, pos );\n\t\ttriangle.needsUpdate = true;\n\n\t\tif ( intersectsTriangleFunc( triangle, tri, contained, depth ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t}\n\n\treturn false;\n\n}\n\nexport { intersectClosestTri, intersectTris, iterateOverTriangles };\n", "import { IS_LEAFNODE_FLAG } from '../Constants.js';\n\n/****************************************************/\n/* This file is generated from \"refit.template.js\". */\n/****************************************************/\n\nfunction refit( bvh, nodeIndices = null ) {\n\n\tif ( nodeIndices && Array.isArray( nodeIndices ) ) {\n\n\t\tnodeIndices = new Set( nodeIndices );\n\n\t}\n\n\tconst geometry = bvh.geometry;\n\tconst indexArr = geometry.index ? geometry.index.array : null;\n\tconst posAttr = geometry.attributes.position;\n\n\tlet buffer, uint32Array, uint16Array, float32Array;\n\tlet byteOffset = 0;\n\tconst roots = bvh._roots;\n\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\tbuffer = roots[ i ];\n\t\tuint32Array = new Uint32Array( buffer );\n\t\tuint16Array = new Uint16Array( buffer );\n\t\tfloat32Array = new Float32Array( buffer );\n\n\t\t_traverse( 0, byteOffset );\n\t\tbyteOffset += buffer.byteLength;\n\n\t}\n\n\tfunction _traverse( node32Index, byteOffset, force = false ) {\n\n\t\tconst node16Index = node32Index * 2;\n\t\tconst isLeaf = uint16Array[ node16Index + 15 ] === IS_LEAFNODE_FLAG;\n\t\tif ( isLeaf ) {\n\n\t\t\tconst offset = uint32Array[ node32Index + 6 ];\n\t\t\tconst count = uint16Array[ node16Index + 14 ];\n\n\t\t\tlet minx = Infinity;\n\t\t\tlet miny = Infinity;\n\t\t\tlet minz = Infinity;\n\t\t\tlet maxx = - Infinity;\n\t\t\tlet maxy = - Infinity;\n\t\t\tlet maxz = - Infinity;\n\n\n\t\t\tfor ( let i = 3 * offset, l = 3 * ( offset + count ); i < l; i ++ ) {\n\n\t\t\t\tlet index = indexArr[ i ];\n\t\t\t\tconst x = posAttr.getX( index );\n\t\t\t\tconst y = posAttr.getY( index );\n\t\t\t\tconst z = posAttr.getZ( index );\n\n\t\t\t\tif ( x < minx ) minx = x;\n\t\t\t\tif ( x > maxx ) maxx = x;\n\n\t\t\t\tif ( y < miny ) miny = y;\n\t\t\t\tif ( y > maxy ) maxy = y;\n\n\t\t\t\tif ( z < minz ) minz = z;\n\t\t\t\tif ( z > maxz ) maxz = z;\n\n\t\t\t}\n\n\n\t\t\tif (\n\t\t\t\tfloat32Array[ node32Index + 0 ] !== minx ||\n\t\t\t\tfloat32Array[ node32Index + 1 ] !== miny ||\n\t\t\t\tfloat32Array[ node32Index + 2 ] !== minz ||\n\n\t\t\t\tfloat32Array[ node32Index + 3 ] !== maxx ||\n\t\t\t\tfloat32Array[ node32Index + 4 ] !== maxy ||\n\t\t\t\tfloat32Array[ node32Index + 5 ] !== maxz\n\t\t\t) {\n\n\t\t\t\tfloat32Array[ node32Index + 0 ] = minx;\n\t\t\t\tfloat32Array[ node32Index + 1 ] = miny;\n\t\t\t\tfloat32Array[ node32Index + 2 ] = minz;\n\n\t\t\t\tfloat32Array[ node32Index + 3 ] = maxx;\n\t\t\t\tfloat32Array[ node32Index + 4 ] = maxy;\n\t\t\t\tfloat32Array[ node32Index + 5 ] = maxz;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst left = node32Index + 8;\n\t\t\tconst right = uint32Array[ node32Index + 6 ];\n\n\t\t\t// the identifying node indices provided by the shapecast function include offsets of all\n\t\t\t// root buffers to guarantee they're unique between roots so offset left and right indices here.\n\t\t\tconst offsetLeft = left + byteOffset;\n\t\t\tconst offsetRight = right + byteOffset;\n\t\t\tlet forceChildren = force;\n\t\t\tlet includesLeft = false;\n\t\t\tlet includesRight = false;\n\n\t\t\tif ( nodeIndices ) {\n\n\t\t\t\t// if we see that neither the left or right child are included in the set that need to be updated\n\t\t\t\t// then we assume that all children need to be updated.\n\t\t\t\tif ( ! forceChildren ) {\n\n\t\t\t\t\tincludesLeft = nodeIndices.has( offsetLeft );\n\t\t\t\t\tincludesRight = nodeIndices.has( offsetRight );\n\t\t\t\t\tforceChildren = ! includesLeft && ! includesRight;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tincludesLeft = true;\n\t\t\t\tincludesRight = true;\n\n\t\t\t}\n\n\t\t\tconst traverseLeft = forceChildren || includesLeft;\n\t\t\tconst traverseRight = forceChildren || includesRight;\n\n\t\t\tlet leftChange = false;\n\t\t\tif ( traverseLeft ) {\n\n\t\t\t\tleftChange = _traverse( left, byteOffset, forceChildren );\n\n\t\t\t}\n\n\t\t\tlet rightChange = false;\n\t\t\tif ( traverseRight ) {\n\n\t\t\t\trightChange = _traverse( right, byteOffset, forceChildren );\n\n\t\t\t}\n\n\t\t\tconst didChange = leftChange || rightChange;\n\t\t\tif ( didChange ) {\n\n\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\tconst lefti = left + i;\n\t\t\t\t\tconst righti = right + i;\n\t\t\t\t\tconst minLeftValue = float32Array[ lefti ];\n\t\t\t\t\tconst maxLeftValue = float32Array[ lefti + 3 ];\n\t\t\t\t\tconst minRightValue = float32Array[ righti ];\n\t\t\t\t\tconst maxRightValue = float32Array[ righti + 3 ];\n\n\t\t\t\t\tfloat32Array[ node32Index + i ] = minLeftValue < minRightValue ? minLeftValue : minRightValue;\n\t\t\t\t\tfloat32Array[ node32Index + i + 3 ] = maxLeftValue > maxRightValue ? maxLeftValue : maxRightValue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn didChange;\n\n\t\t}\n\n\t}\n\n}\n\nexport { refit };\n", "/**\n * This function performs intersection tests similar to Ray.intersectBox in three.js,\n * with the difference that the box values are read from an array to improve performance.\n */\nexport function intersectRay( nodeIndex32, array, ray, near, far ) {\n\n\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\tconst invdirx = 1 / ray.direction.x,\n\t\tinvdiry = 1 / ray.direction.y,\n\t\tinvdirz = 1 / ray.direction.z;\n\n\tconst ox = ray.origin.x;\n\tconst oy = ray.origin.y;\n\tconst oz = ray.origin.z;\n\n\tlet minx = array[ nodeIndex32 ];\n\tlet maxx = array[ nodeIndex32 + 3 ];\n\n\tlet miny = array[ nodeIndex32 + 1 ];\n\tlet maxy = array[ nodeIndex32 + 3 + 1 ];\n\n\tlet minz = array[ nodeIndex32 + 2 ];\n\tlet maxz = array[ nodeIndex32 + 3 + 2 ];\n\n\tif ( invdirx >= 0 ) {\n\n\t\ttmin = ( minx - ox ) * invdirx;\n\t\ttmax = ( maxx - ox ) * invdirx;\n\n\t} else {\n\n\t\ttmin = ( maxx - ox ) * invdirx;\n\t\ttmax = ( minx - ox ) * invdirx;\n\n\t}\n\n\tif ( invdiry >= 0 ) {\n\n\t\ttymin = ( miny - oy ) * invdiry;\n\t\ttymax = ( maxy - oy ) * invdiry;\n\n\t} else {\n\n\t\ttymin = ( maxy - oy ) * invdiry;\n\t\ttymax = ( miny - oy ) * invdiry;\n\n\t}\n\n\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return false;\n\n\tif ( tymin > tmin || isNaN( tmin ) ) tmin = tymin;\n\n\tif ( tymax < tmax || isNaN( tmax ) ) tmax = tymax;\n\n\tif ( invdirz >= 0 ) {\n\n\t\ttzmin = ( minz - oz ) * invdirz;\n\t\ttzmax = ( maxz - oz ) * invdirz;\n\n\t} else {\n\n\t\ttzmin = ( maxz - oz ) * invdirz;\n\t\ttzmax = ( minz - oz ) * invdirz;\n\n\t}\n\n\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return false;\n\n\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t//return point closest to the ray (positive side)\n\n\treturn tmin <= far && tmax >= near;\n\n}\n", "import { intersectTri } from '../../utils/ThreeRayIntersectUtilities.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\n\n/*************************************************************/\n/* This file is generated from \"iterationUtils.template.js\". */\n/*************************************************************/\n/* eslint-disable indent */\n\nfunction intersectTris_indirect( bvh, side, ray, offset, count, intersections, near, far ) {\n\n\tconst { geometry, _indirectBuffer } = bvh;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tlet vi = _indirectBuffer ? _indirectBuffer[ i ] : i;\n\t\tintersectTri( geometry, side, ray, vi, intersections, near, far );\n\n\n\t}\n\n}\n\nfunction intersectClosestTri_indirect( bvh, side, ray, offset, count, near, far ) {\n\n\tconst { geometry, _indirectBuffer } = bvh;\n\tlet dist = Infinity;\n\tlet res = null;\n\tfor ( let i = offset, end = offset + count; i < end; i ++ ) {\n\n\t\tlet intersection;\n\t\tintersection = intersectTri( geometry, side, ray, _indirectBuffer ? _indirectBuffer[ i ] : i, null, near, far );\n\n\n\t\tif ( intersection && intersection.distance < dist ) {\n\n\t\t\tres = intersection;\n\t\t\tdist = intersection.distance;\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\nfunction iterateOverTriangles_indirect(\n\toffset,\n\tcount,\n\tbvh,\n\tintersectsTriangleFunc,\n\tcontained,\n\tdepth,\n\ttriangle\n) {\n\n\tconst { geometry } = bvh;\n\tconst { index } = geometry;\n\tconst pos = geometry.attributes.position;\n\tfor ( let i = offset, l = count + offset; i < l; i ++ ) {\n\n\t\tlet tri;\n\t\ttri = bvh.resolveTriangleIndex( i );\n\n\t\tsetTriangle( triangle, tri * 3, index, pos );\n\t\ttriangle.needsUpdate = true;\n\n\t\tif ( intersectsTriangleFunc( triangle, tri, contained, depth ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t}\n\n\treturn false;\n\n}\n\nexport { intersectClosestTri_indirect, intersectTris_indirect, iterateOverTriangles_indirect };\n", "import { intersectRay } from '../utils/intersectUtils.js';\nimport { IS_LEAF, OFFSET, COUNT, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { intersectTris } from '../utils/iterationUtils.generated.js';\nimport '../utils/iterationUtils_indirect.generated.js';\n\n/******************************************************/\n/* This file is generated from \"raycast.template.js\". */\n/******************************************************/\n\nfunction raycast( bvh, root, side, ray, intersects, near, far ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\t_raycast( 0, bvh, side, ray, intersects, near, far );\n\tBufferStack.clearBuffer();\n\n}\n\nfunction _raycast( nodeIndex32, bvh, side, ray, intersects, near, far ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tconst nodeIndex16 = nodeIndex32 * 2;\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\n\t\tintersectTris( bvh, side, ray, offset, count, intersects, near, far );\n\n\n\t} else {\n\n\t\tconst leftIndex = LEFT_NODE( nodeIndex32 );\n\t\tif ( intersectRay( leftIndex, float32Array, ray, near, far ) ) {\n\n\t\t\t_raycast( leftIndex, bvh, side, ray, intersects, near, far );\n\n\t\t}\n\n\t\tconst rightIndex = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\tif ( intersectRay( rightIndex, float32Array, ray, near, far ) ) {\n\n\t\t\t_raycast( rightIndex, bvh, side, ray, intersects, near, far );\n\n\t\t}\n\n\t}\n\n}\n\nexport { raycast };\n", "import { IS_LEAF, OFFSET, COUNT, SPLIT_AXIS, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { intersectRay } from '../utils/intersectUtils.js';\nimport { intersectClosestTri } from '../utils/iterationUtils.generated.js';\nimport '../utils/iterationUtils_indirect.generated.js';\n\n/***********************************************************/\n/* This file is generated from \"raycastFirst.template.js\". */\n/***********************************************************/\n\nconst _xyzFields = [ 'x', 'y', 'z' ];\n\nfunction raycastFirst( bvh, root, side, ray, near, far ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\tconst result = _raycastFirst( 0, bvh, side, ray, near, far );\n\tBufferStack.clearBuffer();\n\n\treturn result;\n\n}\n\nfunction _raycastFirst( nodeIndex32, bvh, side, ray, near, far ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\n\t\t// eslint-disable-next-line no-unreachable\n\t\treturn intersectClosestTri( bvh, side, ray, offset, count, near, far );\n\n\n\t} else {\n\n\t\t// consider the position of the split plane with respect to the oncoming ray; whichever direction\n\t\t// the ray is coming from, look for an intersection among that side of the tree first\n\t\tconst splitAxis = SPLIT_AXIS( nodeIndex32, uint32Array );\n\t\tconst xyzAxis = _xyzFields[ splitAxis ];\n\t\tconst rayDir = ray.direction[ xyzAxis ];\n\t\tconst leftToRight = rayDir >= 0;\n\n\t\t// c1 is the child to check first\n\t\tlet c1, c2;\n\t\tif ( leftToRight ) {\n\n\t\t\tc1 = LEFT_NODE( nodeIndex32 );\n\t\t\tc2 = RIGHT_NODE( nodeIndex32, uint32Array );\n\n\t\t} else {\n\n\t\t\tc1 = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\t\tc2 = LEFT_NODE( nodeIndex32 );\n\n\t\t}\n\n\t\tconst c1Intersection = intersectRay( c1, float32Array, ray, near, far );\n\t\tconst c1Result = c1Intersection ? _raycastFirst( c1, bvh, side, ray, near, far ) : null;\n\n\t\t// if we got an intersection in the first node and it's closer than the second node's bounding\n\t\t// box, we don't need to consider the second node because it couldn't possibly be a better result\n\t\tif ( c1Result ) {\n\n\t\t\t// check if the point is within the second bounds\n\t\t\t// \"point\" is in the local frame of the bvh\n\t\t\tconst point = c1Result.point[ xyzAxis ];\n\t\t\tconst isOutside = leftToRight ?\n\t\t\t\tpoint <= float32Array[ c2 + splitAxis ] : // min bounding data\n\t\t\t\tpoint >= float32Array[ c2 + splitAxis + 3 ]; // max bounding data\n\n\t\t\tif ( isOutside ) {\n\n\t\t\t\treturn c1Result;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// either there was no intersection in the first node, or there could still be a closer\n\t\t// intersection in the second, so check the second node and then take the better of the two\n\t\tconst c2Intersection = intersectRay( c2, float32Array, ray, near, far );\n\t\tconst c2Result = c2Intersection ? _raycastFirst( c2, bvh, side, ray, near, far ) : null;\n\n\t\tif ( c1Result && c2Result ) {\n\n\t\t\treturn c1Result.distance <= c2Result.distance ? c1Result : c2Result;\n\n\t\t} else {\n\n\t\t\treturn c1Result || c2Result || null;\n\n\t\t}\n\n\t}\n\n}\n\nexport { raycastFirst };\n", "import { Box3, Matrix4 } from 'three';\nimport { OrientedBox } from '../../math/OrientedBox.js';\nimport { ExtendedTriangle } from '../../math/ExtendedTriangle.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\nimport { arrayToBox } from '../../utils/ArrayBoxUtilities.js';\nimport { IS_LEAF, OFFSET, COUNT, BOUNDING_DATA_INDEX } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\n\n/*****************************************************************/\n/* This file is generated from \"intersectsGeometry.template.js\". */\n/*****************************************************************/\n/* eslint-disable indent */\n\nconst boundingBox = /* @__PURE__ */ new Box3();\nconst triangle = /* @__PURE__ */ new ExtendedTriangle();\nconst triangle2 = /* @__PURE__ */ new ExtendedTriangle();\nconst invertedMat = /* @__PURE__ */ new Matrix4();\n\nconst obb = /* @__PURE__ */ new OrientedBox();\nconst obb2 = /* @__PURE__ */ new OrientedBox();\n\nfunction intersectsGeometry( bvh, root, otherGeometry, geometryToBvh ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\tconst result = _intersectsGeometry( 0, bvh, otherGeometry, geometryToBvh );\n\tBufferStack.clearBuffer();\n\n\treturn result;\n\n}\n\nfunction _intersectsGeometry( nodeIndex32, bvh, otherGeometry, geometryToBvh, cachedObb = null ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\tif ( cachedObb === null ) {\n\n\t\tif ( ! otherGeometry.boundingBox ) {\n\n\t\t\totherGeometry.computeBoundingBox();\n\n\t\t}\n\n\t\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\n\t\tcachedObb = obb;\n\n\t}\n\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst thisGeometry = bvh.geometry;\n\t\tconst thisIndex = thisGeometry.index;\n\t\tconst thisPos = thisGeometry.attributes.position;\n\n\t\tconst index = otherGeometry.index;\n\t\tconst pos = otherGeometry.attributes.position;\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\t\t// get the inverse of the geometry matrix so we can transform our triangles into the\n\t\t// geometry space we're trying to test. We assume there are fewer triangles being checked\n\t\t// here.\n\t\tinvertedMat.copy( geometryToBvh ).invert();\n\n\t\tif ( otherGeometry.boundsTree ) {\n\n\t\t\t// if there's a bounds tree\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( nodeIndex32 ), float32Array, obb2 );\n\t\t\tobb2.matrix.copy( invertedMat );\n\t\t\tobb2.needsUpdate = true;\n\n\t\t\t// TODO: use a triangle iteration function here\n\t\t\tconst res = otherGeometry.boundsTree.shapecast( {\n\n\t\t\t\tintersectsBounds: box => obb2.intersectsBox( box ),\n\n\t\t\t\tintersectsTriangle: tri => {\n\n\t\t\t\t\ttri.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.needsUpdate = true;\n\n\n\t\t\t\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\n\n\t\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\n\t\t\t\t\t\tsetTriangle( triangle2, i, thisIndex, thisPos );\n\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\t\t\t\t\t\tif ( tri.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn res;\n\n\t\t} else {\n\n\t\t\t// if we're just dealing with raw geometry\n\n\t\t\tfor ( let i = offset * 3, l = ( count + offset ) * 3; i < l; i += 3 ) {\n\n\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\n\t\t\t\tsetTriangle( triangle, i, thisIndex, thisPos );\n\n\n\t\t\t\ttriangle.a.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.b.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.c.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\n\n\t\t\t\t\tsetTriangle( triangle2, i2, index, pos );\n\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\tif ( triangle.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\n\t\t}\n\n\t} else {\n\n\t\tconst left = nodeIndex32 + 8;\n\t\tconst right = uint32Array[ nodeIndex32 + 6 ];\n\n\t\tarrayToBox( BOUNDING_DATA_INDEX( left ), float32Array, boundingBox );\n\t\tconst leftIntersection =\n\t\t\tcachedObb.intersectsBox( boundingBox ) &&\n\t\t\t_intersectsGeometry( left, bvh, otherGeometry, geometryToBvh, cachedObb );\n\n\t\tif ( leftIntersection ) return true;\n\n\t\tarrayToBox( BOUNDING_DATA_INDEX( right ), float32Array, boundingBox );\n\t\tconst rightIntersection =\n\t\t\tcachedObb.intersectsBox( boundingBox ) &&\n\t\t\t_intersectsGeometry( right, bvh, otherGeometry, geometryToBvh, cachedObb );\n\n\t\tif ( rightIntersection ) return true;\n\n\t\treturn false;\n\n\t}\n\n}\n\nexport { intersectsGeometry };\n", "import { Matrix4, Vector3 } from 'three';\nimport { OrientedBox } from '../../math/OrientedBox.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\nimport { getTriCount } from '../build/geometryUtils.js';\nimport { ExtendedTrianglePool } from '../../utils/ExtendedTrianglePool.js';\n\n/*********************************************************************/\n/* This file is generated from \"closestPointToGeometry.template.js\". */\n/*********************************************************************/\n\nconst tempMatrix = /* @__PURE__ */ new Matrix4();\nconst obb = /* @__PURE__ */ new OrientedBox();\nconst obb2 = /* @__PURE__ */ new OrientedBox();\nconst temp1 = /* @__PURE__ */ new Vector3();\nconst temp2 = /* @__PURE__ */ new Vector3();\nconst temp3 = /* @__PURE__ */ new Vector3();\nconst temp4 = /* @__PURE__ */ new Vector3();\n\nfunction closestPointToGeometry(\n\tbvh,\n\totherGeometry,\n\tgeometryToBvh,\n\ttarget1 = { },\n\ttarget2 = { },\n\tminThreshold = 0,\n\tmaxThreshold = Infinity,\n) {\n\n\tif ( ! otherGeometry.boundingBox ) {\n\n\t\totherGeometry.computeBoundingBox();\n\n\t}\n\n\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\n\tobb.needsUpdate = true;\n\n\tconst geometry = bvh.geometry;\n\tconst pos = geometry.attributes.position;\n\tconst index = geometry.index;\n\tconst otherPos = otherGeometry.attributes.position;\n\tconst otherIndex = otherGeometry.index;\n\tconst triangle = ExtendedTrianglePool.getPrimitive();\n\tconst triangle2 = ExtendedTrianglePool.getPrimitive();\n\n\tlet tempTarget1 = temp1;\n\tlet tempTargetDest1 = temp2;\n\tlet tempTarget2 = null;\n\tlet tempTargetDest2 = null;\n\n\tif ( target2 ) {\n\n\t\ttempTarget2 = temp3;\n\t\ttempTargetDest2 = temp4;\n\n\t}\n\n\tlet closestDistance = Infinity;\n\tlet closestDistanceTriIndex = null;\n\tlet closestDistanceOtherTriIndex = null;\n\ttempMatrix.copy( geometryToBvh ).invert();\n\tobb2.matrix.copy( tempMatrix );\n\tbvh.shapecast(\n\t\t{\n\n\t\t\tboundsTraverseOrder: box => {\n\n\t\t\t\treturn obb.distanceToBox( box );\n\n\t\t\t},\n\n\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\n\n\t\t\t\tif ( score < closestDistance && score < maxThreshold ) {\n\n\t\t\t\t\t// if we know the triangles of this bounds will be intersected next then\n\t\t\t\t\t// save the bounds to use during triangle checks.\n\t\t\t\t\tif ( isLeaf ) {\n\n\t\t\t\t\t\tobb2.min.copy( box.min );\n\t\t\t\t\t\tobb2.max.copy( box.max );\n\t\t\t\t\t\tobb2.needsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\tintersectsRange: ( offset, count ) => {\n\n\t\t\t\tif ( otherGeometry.boundsTree ) {\n\n\t\t\t\t\t// if the other geometry has a bvh then use the accelerated path where we use shapecast to find\n\t\t\t\t\t// the closest bounds in the other geometry to check.\n\t\t\t\t\tconst otherBvh = otherGeometry.boundsTree;\n\t\t\t\t\treturn otherBvh.shapecast( {\n\t\t\t\t\t\tboundsTraverseOrder: box => {\n\n\t\t\t\t\t\t\treturn obb2.distanceToBox( box );\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\n\n\t\t\t\t\t\t\treturn score < closestDistance && score < maxThreshold;\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tintersectsRange: ( otherOffset, otherCount ) => {\n\n\t\t\t\t\t\t\tfor ( let i2 = otherOffset, l2 = otherOffset + otherCount; i2 < l2; i2 ++ ) {\n\n\n\t\t\t\t\t\t\t\tsetTriangle( triangle2, 3 * i2, otherIndex, otherPos );\n\n\t\t\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\t\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\n\t\t\t\t\t\t\t\t\tsetTriangle( triangle, 3 * i, index, pos );\n\n\t\t\t\t\t\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\n\t\t\t\t\t\t\t\t\tif ( dist < closestDistance ) {\n\n\t\t\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\n\n\t\t\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\n\n\t\t\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tclosestDistance = dist;\n\t\t\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i;\n\t\t\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\n\t\t\t\t\t\t\t\t\tif ( dist < minThreshold ) {\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// If no bounds tree then we'll just check every triangle.\n\t\t\t\t\tconst triCount = getTriCount( otherGeometry );\n\t\t\t\t\tfor ( let i2 = 0, l2 = triCount; i2 < l2; i2 ++ ) {\n\n\t\t\t\t\t\tsetTriangle( triangle2, 3 * i2, otherIndex, otherPos );\n\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\n\t\t\t\t\t\t\tsetTriangle( triangle, 3 * i, index, pos );\n\n\t\t\t\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\n\t\t\t\t\t\t\tif ( dist < closestDistance ) {\n\n\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\n\n\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\n\n\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tclosestDistance = dist;\n\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i;\n\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\n\t\t\t\t\t\t\tif ( dist < minThreshold ) {\n\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t}\n\n\t);\n\n\tExtendedTrianglePool.releasePrimitive( triangle );\n\tExtendedTrianglePool.releasePrimitive( triangle2 );\n\n\tif ( closestDistance === Infinity ) {\n\n\t\treturn null;\n\n\t}\n\n\tif ( ! target1.point ) {\n\n\t\ttarget1.point = tempTargetDest1.clone();\n\n\t} else {\n\n\t\ttarget1.point.copy( tempTargetDest1 );\n\n\t}\n\n\ttarget1.distance = closestDistance,\n\ttarget1.faceIndex = closestDistanceTriIndex;\n\n\tif ( target2 ) {\n\n\t\tif ( ! target2.point ) target2.point = tempTargetDest2.clone();\n\t\telse target2.point.copy( tempTargetDest2 );\n\t\ttarget2.point.applyMatrix4( tempMatrix );\n\t\ttempTargetDest1.applyMatrix4( tempMatrix );\n\t\ttarget2.distance = tempTargetDest1.sub( target2.point ).length();\n\t\ttarget2.faceIndex = closestDistanceOtherTriIndex;\n\n\t}\n\n\treturn target1;\n\n}\n\nexport { closestPointToGeometry };\n", "import { IS_LEAFNODE_FLAG } from '../Constants.js';\n\n/****************************************************/\n/* This file is generated from \"refit.template.js\". */\n/****************************************************/\n\nfunction refit_indirect( bvh, nodeIndices = null ) {\n\n\tif ( nodeIndices && Array.isArray( nodeIndices ) ) {\n\n\t\tnodeIndices = new Set( nodeIndices );\n\n\t}\n\n\tconst geometry = bvh.geometry;\n\tconst indexArr = geometry.index ? geometry.index.array : null;\n\tconst posAttr = geometry.attributes.position;\n\n\tlet buffer, uint32Array, uint16Array, float32Array;\n\tlet byteOffset = 0;\n\tconst roots = bvh._roots;\n\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\tbuffer = roots[ i ];\n\t\tuint32Array = new Uint32Array( buffer );\n\t\tuint16Array = new Uint16Array( buffer );\n\t\tfloat32Array = new Float32Array( buffer );\n\n\t\t_traverse( 0, byteOffset );\n\t\tbyteOffset += buffer.byteLength;\n\n\t}\n\n\tfunction _traverse( node32Index, byteOffset, force = false ) {\n\n\t\tconst node16Index = node32Index * 2;\n\t\tconst isLeaf = uint16Array[ node16Index + 15 ] === IS_LEAFNODE_FLAG;\n\t\tif ( isLeaf ) {\n\n\t\t\tconst offset = uint32Array[ node32Index + 6 ];\n\t\t\tconst count = uint16Array[ node16Index + 14 ];\n\n\t\t\tlet minx = Infinity;\n\t\t\tlet miny = Infinity;\n\t\t\tlet minz = Infinity;\n\t\t\tlet maxx = - Infinity;\n\t\t\tlet maxy = - Infinity;\n\t\t\tlet maxz = - Infinity;\n\n\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\t\t\tconst t = 3 * bvh.resolveTriangleIndex( i );\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\tlet index = t + j;\n\t\t\t\t\tindex = indexArr ? indexArr[ index ] : index;\n\n\t\t\t\t\tconst x = posAttr.getX( index );\n\t\t\t\t\tconst y = posAttr.getY( index );\n\t\t\t\t\tconst z = posAttr.getZ( index );\n\n\t\t\t\t\tif ( x < minx ) minx = x;\n\t\t\t\t\tif ( x > maxx ) maxx = x;\n\n\t\t\t\t\tif ( y < miny ) miny = y;\n\t\t\t\t\tif ( y > maxy ) maxy = y;\n\n\t\t\t\t\tif ( z < minz ) minz = z;\n\t\t\t\t\tif ( z > maxz ) maxz = z;\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (\n\t\t\t\tfloat32Array[ node32Index + 0 ] !== minx ||\n\t\t\t\tfloat32Array[ node32Index + 1 ] !== miny ||\n\t\t\t\tfloat32Array[ node32Index + 2 ] !== minz ||\n\n\t\t\t\tfloat32Array[ node32Index + 3 ] !== maxx ||\n\t\t\t\tfloat32Array[ node32Index + 4 ] !== maxy ||\n\t\t\t\tfloat32Array[ node32Index + 5 ] !== maxz\n\t\t\t) {\n\n\t\t\t\tfloat32Array[ node32Index + 0 ] = minx;\n\t\t\t\tfloat32Array[ node32Index + 1 ] = miny;\n\t\t\t\tfloat32Array[ node32Index + 2 ] = minz;\n\n\t\t\t\tfloat32Array[ node32Index + 3 ] = maxx;\n\t\t\t\tfloat32Array[ node32Index + 4 ] = maxy;\n\t\t\t\tfloat32Array[ node32Index + 5 ] = maxz;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst left = node32Index + 8;\n\t\t\tconst right = uint32Array[ node32Index + 6 ];\n\n\t\t\t// the identifying node indices provided by the shapecast function include offsets of all\n\t\t\t// root buffers to guarantee they're unique between roots so offset left and right indices here.\n\t\t\tconst offsetLeft = left + byteOffset;\n\t\t\tconst offsetRight = right + byteOffset;\n\t\t\tlet forceChildren = force;\n\t\t\tlet includesLeft = false;\n\t\t\tlet includesRight = false;\n\n\t\t\tif ( nodeIndices ) {\n\n\t\t\t\t// if we see that neither the left or right child are included in the set that need to be updated\n\t\t\t\t// then we assume that all children need to be updated.\n\t\t\t\tif ( ! forceChildren ) {\n\n\t\t\t\t\tincludesLeft = nodeIndices.has( offsetLeft );\n\t\t\t\t\tincludesRight = nodeIndices.has( offsetRight );\n\t\t\t\t\tforceChildren = ! includesLeft && ! includesRight;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tincludesLeft = true;\n\t\t\t\tincludesRight = true;\n\n\t\t\t}\n\n\t\t\tconst traverseLeft = forceChildren || includesLeft;\n\t\t\tconst traverseRight = forceChildren || includesRight;\n\n\t\t\tlet leftChange = false;\n\t\t\tif ( traverseLeft ) {\n\n\t\t\t\tleftChange = _traverse( left, byteOffset, forceChildren );\n\n\t\t\t}\n\n\t\t\tlet rightChange = false;\n\t\t\tif ( traverseRight ) {\n\n\t\t\t\trightChange = _traverse( right, byteOffset, forceChildren );\n\n\t\t\t}\n\n\t\t\tconst didChange = leftChange || rightChange;\n\t\t\tif ( didChange ) {\n\n\t\t\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\tconst lefti = left + i;\n\t\t\t\t\tconst righti = right + i;\n\t\t\t\t\tconst minLeftValue = float32Array[ lefti ];\n\t\t\t\t\tconst maxLeftValue = float32Array[ lefti + 3 ];\n\t\t\t\t\tconst minRightValue = float32Array[ righti ];\n\t\t\t\t\tconst maxRightValue = float32Array[ righti + 3 ];\n\n\t\t\t\t\tfloat32Array[ node32Index + i ] = minLeftValue < minRightValue ? minLeftValue : minRightValue;\n\t\t\t\t\tfloat32Array[ node32Index + i + 3 ] = maxLeftValue > maxRightValue ? maxLeftValue : maxRightValue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn didChange;\n\n\t\t}\n\n\t}\n\n}\n\nexport { refit_indirect };\n", "import { intersectRay } from '../utils/intersectUtils.js';\nimport { IS_LEAF, OFFSET, COUNT, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport '../utils/iterationUtils.generated.js';\nimport { intersectTris_indirect } from '../utils/iterationUtils_indirect.generated.js';\n\n/******************************************************/\n/* This file is generated from \"raycast.template.js\". */\n/******************************************************/\n\nfunction raycast_indirect( bvh, root, side, ray, intersects, near, far ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\t_raycast( 0, bvh, side, ray, intersects, near, far );\n\tBufferStack.clearBuffer();\n\n}\n\nfunction _raycast( nodeIndex32, bvh, side, ray, intersects, near, far ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tconst nodeIndex16 = nodeIndex32 * 2;\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\t\tintersectTris_indirect( bvh, side, ray, offset, count, intersects, near, far );\n\n\n\t} else {\n\n\t\tconst leftIndex = LEFT_NODE( nodeIndex32 );\n\t\tif ( intersectRay( leftIndex, float32Array, ray, near, far ) ) {\n\n\t\t\t_raycast( leftIndex, bvh, side, ray, intersects, near, far );\n\n\t\t}\n\n\t\tconst rightIndex = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\tif ( intersectRay( rightIndex, float32Array, ray, near, far ) ) {\n\n\t\t\t_raycast( rightIndex, bvh, side, ray, intersects, near, far );\n\n\t\t}\n\n\t}\n\n}\n\nexport { raycast_indirect };\n", "import { IS_LEAF, OFFSET, COUNT, SPLIT_AXIS, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { intersectRay } from '../utils/intersectUtils.js';\nimport '../utils/iterationUtils.generated.js';\nimport { intersectClosestTri_indirect } from '../utils/iterationUtils_indirect.generated.js';\n\n/***********************************************************/\n/* This file is generated from \"raycastFirst.template.js\". */\n/***********************************************************/\n\nconst _xyzFields = [ 'x', 'y', 'z' ];\n\nfunction raycastFirst_indirect( bvh, root, side, ray, near, far ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\tconst result = _raycastFirst( 0, bvh, side, ray, near, far );\n\tBufferStack.clearBuffer();\n\n\treturn result;\n\n}\n\nfunction _raycastFirst( nodeIndex32, bvh, side, ray, near, far ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\t\treturn intersectClosestTri_indirect( bvh, side, ray, offset, count, near, far );\n\n\n\t} else {\n\n\t\t// consider the position of the split plane with respect to the oncoming ray; whichever direction\n\t\t// the ray is coming from, look for an intersection among that side of the tree first\n\t\tconst splitAxis = SPLIT_AXIS( nodeIndex32, uint32Array );\n\t\tconst xyzAxis = _xyzFields[ splitAxis ];\n\t\tconst rayDir = ray.direction[ xyzAxis ];\n\t\tconst leftToRight = rayDir >= 0;\n\n\t\t// c1 is the child to check first\n\t\tlet c1, c2;\n\t\tif ( leftToRight ) {\n\n\t\t\tc1 = LEFT_NODE( nodeIndex32 );\n\t\t\tc2 = RIGHT_NODE( nodeIndex32, uint32Array );\n\n\t\t} else {\n\n\t\t\tc1 = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\t\tc2 = LEFT_NODE( nodeIndex32 );\n\n\t\t}\n\n\t\tconst c1Intersection = intersectRay( c1, float32Array, ray, near, far );\n\t\tconst c1Result = c1Intersection ? _raycastFirst( c1, bvh, side, ray, near, far ) : null;\n\n\t\t// if we got an intersection in the first node and it's closer than the second node's bounding\n\t\t// box, we don't need to consider the second node because it couldn't possibly be a better result\n\t\tif ( c1Result ) {\n\n\t\t\t// check if the point is within the second bounds\n\t\t\t// \"point\" is in the local frame of the bvh\n\t\t\tconst point = c1Result.point[ xyzAxis ];\n\t\t\tconst isOutside = leftToRight ?\n\t\t\t\tpoint <= float32Array[ c2 + splitAxis ] : // min bounding data\n\t\t\t\tpoint >= float32Array[ c2 + splitAxis + 3 ]; // max bounding data\n\n\t\t\tif ( isOutside ) {\n\n\t\t\t\treturn c1Result;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// either there was no intersection in the first node, or there could still be a closer\n\t\t// intersection in the second, so check the second node and then take the better of the two\n\t\tconst c2Intersection = intersectRay( c2, float32Array, ray, near, far );\n\t\tconst c2Result = c2Intersection ? _raycastFirst( c2, bvh, side, ray, near, far ) : null;\n\n\t\tif ( c1Result && c2Result ) {\n\n\t\t\treturn c1Result.distance <= c2Result.distance ? c1Result : c2Result;\n\n\t\t} else {\n\n\t\t\treturn c1Result || c2Result || null;\n\n\t\t}\n\n\t}\n\n}\n\nexport { raycastFirst_indirect };\n", "import { Box3, Matrix4 } from 'three';\nimport { OrientedBox } from '../../math/OrientedBox.js';\nimport { ExtendedTriangle } from '../../math/ExtendedTriangle.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\nimport { arrayToBox } from '../../utils/ArrayBoxUtilities.js';\nimport { IS_LEAF, OFFSET, COUNT, BOUNDING_DATA_INDEX } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\n\n/*****************************************************************/\n/* This file is generated from \"intersectsGeometry.template.js\". */\n/*****************************************************************/\n/* eslint-disable indent */\n\nconst boundingBox = /* @__PURE__ */ new Box3();\nconst triangle = /* @__PURE__ */ new ExtendedTriangle();\nconst triangle2 = /* @__PURE__ */ new ExtendedTriangle();\nconst invertedMat = /* @__PURE__ */ new Matrix4();\n\nconst obb = /* @__PURE__ */ new OrientedBox();\nconst obb2 = /* @__PURE__ */ new OrientedBox();\n\nfunction intersectsGeometry_indirect( bvh, root, otherGeometry, geometryToBvh ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\tconst result = _intersectsGeometry( 0, bvh, otherGeometry, geometryToBvh );\n\tBufferStack.clearBuffer();\n\n\treturn result;\n\n}\n\nfunction _intersectsGeometry( nodeIndex32, bvh, otherGeometry, geometryToBvh, cachedObb = null ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tlet nodeIndex16 = nodeIndex32 * 2;\n\n\tif ( cachedObb === null ) {\n\n\t\tif ( ! otherGeometry.boundingBox ) {\n\n\t\t\totherGeometry.computeBoundingBox();\n\n\t\t}\n\n\t\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\n\t\tcachedObb = obb;\n\n\t}\n\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst thisGeometry = bvh.geometry;\n\t\tconst thisIndex = thisGeometry.index;\n\t\tconst thisPos = thisGeometry.attributes.position;\n\n\t\tconst index = otherGeometry.index;\n\t\tconst pos = otherGeometry.attributes.position;\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\t\t// get the inverse of the geometry matrix so we can transform our triangles into the\n\t\t// geometry space we're trying to test. We assume there are fewer triangles being checked\n\t\t// here.\n\t\tinvertedMat.copy( geometryToBvh ).invert();\n\n\t\tif ( otherGeometry.boundsTree ) {\n\n\t\t\t// if there's a bounds tree\n\t\t\tarrayToBox( BOUNDING_DATA_INDEX( nodeIndex32 ), float32Array, obb2 );\n\t\t\tobb2.matrix.copy( invertedMat );\n\t\t\tobb2.needsUpdate = true;\n\n\t\t\t// TODO: use a triangle iteration function here\n\t\t\tconst res = otherGeometry.boundsTree.shapecast( {\n\n\t\t\t\tintersectsBounds: box => obb2.intersectsBox( box ),\n\n\t\t\t\tintersectsTriangle: tri => {\n\n\t\t\t\t\ttri.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\ttri.needsUpdate = true;\n\n\t\t\t\t\tfor ( let i = offset, l = count + offset; i < l; i ++ ) {\n\n\t\t\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\n\t\t\t\t\t\tsetTriangle( triangle2, 3 * bvh.resolveTriangleIndex( i ), thisIndex, thisPos );\n\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\t\t\t\t\t\tif ( tri.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn res;\n\n\t\t} else {\n\n\t\t\t// if we're just dealing with raw geometry\n\t\t\tfor ( let i = offset, l = count + offset; i < l; i ++ ) {\n\n\t\t\t\t// this triangle needs to be transformed into the current BVH coordinate frame\n\t\t\t\tconst ti = bvh.resolveTriangleIndex( i );\n\t\t\t\tsetTriangle( triangle, 3 * ti, thisIndex, thisPos );\n\n\n\t\t\t\ttriangle.a.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.b.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.c.applyMatrix4( invertedMat );\n\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\tfor ( let i2 = 0, l2 = index.count; i2 < l2; i2 += 3 ) {\n\n\t\t\t\t\tsetTriangle( triangle2, i2, index, pos );\n\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\tif ( triangle.intersectsTriangle( triangle2 ) ) {\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\n\t} else {\n\n\t\tconst left = nodeIndex32 + 8;\n\t\tconst right = uint32Array[ nodeIndex32 + 6 ];\n\n\t\tarrayToBox( BOUNDING_DATA_INDEX( left ), float32Array, boundingBox );\n\t\tconst leftIntersection =\n\t\t\tcachedObb.intersectsBox( boundingBox ) &&\n\t\t\t_intersectsGeometry( left, bvh, otherGeometry, geometryToBvh, cachedObb );\n\n\t\tif ( leftIntersection ) return true;\n\n\t\tarrayToBox( BOUNDING_DATA_INDEX( right ), float32Array, boundingBox );\n\t\tconst rightIntersection =\n\t\t\tcachedObb.intersectsBox( boundingBox ) &&\n\t\t\t_intersectsGeometry( right, bvh, otherGeometry, geometryToBvh, cachedObb );\n\n\t\tif ( rightIntersection ) return true;\n\n\t\treturn false;\n\n\t}\n\n}\n\nexport { intersectsGeometry_indirect };\n", "import { Matrix4, Vector3 } from 'three';\nimport { OrientedBox } from '../../math/OrientedBox.js';\nimport { setTriangle } from '../../utils/TriangleUtilities.js';\nimport { getTriCount } from '../build/geometryUtils.js';\nimport { ExtendedTrianglePool } from '../../utils/ExtendedTrianglePool.js';\n\n/*********************************************************************/\n/* This file is generated from \"closestPointToGeometry.template.js\". */\n/*********************************************************************/\n\nconst tempMatrix = /* @__PURE__ */ new Matrix4();\nconst obb = /* @__PURE__ */ new OrientedBox();\nconst obb2 = /* @__PURE__ */ new OrientedBox();\nconst temp1 = /* @__PURE__ */ new Vector3();\nconst temp2 = /* @__PURE__ */ new Vector3();\nconst temp3 = /* @__PURE__ */ new Vector3();\nconst temp4 = /* @__PURE__ */ new Vector3();\n\nfunction closestPointToGeometry_indirect(\n\tbvh,\n\totherGeometry,\n\tgeometryToBvh,\n\ttarget1 = { },\n\ttarget2 = { },\n\tminThreshold = 0,\n\tmaxThreshold = Infinity,\n) {\n\n\tif ( ! otherGeometry.boundingBox ) {\n\n\t\totherGeometry.computeBoundingBox();\n\n\t}\n\n\tobb.set( otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh );\n\tobb.needsUpdate = true;\n\n\tconst geometry = bvh.geometry;\n\tconst pos = geometry.attributes.position;\n\tconst index = geometry.index;\n\tconst otherPos = otherGeometry.attributes.position;\n\tconst otherIndex = otherGeometry.index;\n\tconst triangle = ExtendedTrianglePool.getPrimitive();\n\tconst triangle2 = ExtendedTrianglePool.getPrimitive();\n\n\tlet tempTarget1 = temp1;\n\tlet tempTargetDest1 = temp2;\n\tlet tempTarget2 = null;\n\tlet tempTargetDest2 = null;\n\n\tif ( target2 ) {\n\n\t\ttempTarget2 = temp3;\n\t\ttempTargetDest2 = temp4;\n\n\t}\n\n\tlet closestDistance = Infinity;\n\tlet closestDistanceTriIndex = null;\n\tlet closestDistanceOtherTriIndex = null;\n\ttempMatrix.copy( geometryToBvh ).invert();\n\tobb2.matrix.copy( tempMatrix );\n\tbvh.shapecast(\n\t\t{\n\n\t\t\tboundsTraverseOrder: box => {\n\n\t\t\t\treturn obb.distanceToBox( box );\n\n\t\t\t},\n\n\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\n\n\t\t\t\tif ( score < closestDistance && score < maxThreshold ) {\n\n\t\t\t\t\t// if we know the triangles of this bounds will be intersected next then\n\t\t\t\t\t// save the bounds to use during triangle checks.\n\t\t\t\t\tif ( isLeaf ) {\n\n\t\t\t\t\t\tobb2.min.copy( box.min );\n\t\t\t\t\t\tobb2.max.copy( box.max );\n\t\t\t\t\t\tobb2.needsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\tintersectsRange: ( offset, count ) => {\n\n\t\t\t\tif ( otherGeometry.boundsTree ) {\n\n\t\t\t\t\t// if the other geometry has a bvh then use the accelerated path where we use shapecast to find\n\t\t\t\t\t// the closest bounds in the other geometry to check.\n\t\t\t\t\tconst otherBvh = otherGeometry.boundsTree;\n\t\t\t\t\treturn otherBvh.shapecast( {\n\t\t\t\t\t\tboundsTraverseOrder: box => {\n\n\t\t\t\t\t\t\treturn obb2.distanceToBox( box );\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tintersectsBounds: ( box, isLeaf, score ) => {\n\n\t\t\t\t\t\t\treturn score < closestDistance && score < maxThreshold;\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tintersectsRange: ( otherOffset, otherCount ) => {\n\n\t\t\t\t\t\t\tfor ( let i2 = otherOffset, l2 = otherOffset + otherCount; i2 < l2; i2 ++ ) {\n\n\t\t\t\t\t\t\t\tconst ti2 = otherBvh.resolveTriangleIndex( i2 );\n\t\t\t\t\t\t\t\tsetTriangle( triangle2, 3 * ti2, otherIndex, otherPos );\n\n\t\t\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\t\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\t\t\tconst ti = bvh.resolveTriangleIndex( i );\n\t\t\t\t\t\t\t\t\tsetTriangle( triangle, 3 * ti, index, pos );\n\n\t\t\t\t\t\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\n\t\t\t\t\t\t\t\t\tif ( dist < closestDistance ) {\n\n\t\t\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\n\n\t\t\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\n\n\t\t\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tclosestDistance = dist;\n\t\t\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i;\n\t\t\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\n\t\t\t\t\t\t\t\t\tif ( dist < minThreshold ) {\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// If no bounds tree then we'll just check every triangle.\n\t\t\t\t\tconst triCount = getTriCount( otherGeometry );\n\t\t\t\t\tfor ( let i2 = 0, l2 = triCount; i2 < l2; i2 ++ ) {\n\n\t\t\t\t\t\tsetTriangle( triangle2, 3 * i2, otherIndex, otherPos );\n\t\t\t\t\t\ttriangle2.a.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.b.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.c.applyMatrix4( geometryToBvh );\n\t\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst ti = bvh.resolveTriangleIndex( i );\n\t\t\t\t\t\t\tsetTriangle( triangle, 3 * ti, index, pos );\n\n\t\t\t\t\t\t\ttriangle.needsUpdate = true;\n\n\t\t\t\t\t\t\tconst dist = triangle.distanceToTriangle( triangle2, tempTarget1, tempTarget2 );\n\t\t\t\t\t\t\tif ( dist < closestDistance ) {\n\n\t\t\t\t\t\t\t\ttempTargetDest1.copy( tempTarget1 );\n\n\t\t\t\t\t\t\t\tif ( tempTargetDest2 ) {\n\n\t\t\t\t\t\t\t\t\ttempTargetDest2.copy( tempTarget2 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tclosestDistance = dist;\n\t\t\t\t\t\t\t\tclosestDistanceTriIndex = i;\n\t\t\t\t\t\t\t\tclosestDistanceOtherTriIndex = i2;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// stop traversal if we find a point that's under the given threshold\n\t\t\t\t\t\t\tif ( dist < minThreshold ) {\n\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t}\n\n\t);\n\n\tExtendedTrianglePool.releasePrimitive( triangle );\n\tExtendedTrianglePool.releasePrimitive( triangle2 );\n\n\tif ( closestDistance === Infinity ) {\n\n\t\treturn null;\n\n\t}\n\n\tif ( ! target1.point ) {\n\n\t\ttarget1.point = tempTargetDest1.clone();\n\n\t} else {\n\n\t\ttarget1.point.copy( tempTargetDest1 );\n\n\t}\n\n\ttarget1.distance = closestDistance,\n\ttarget1.faceIndex = closestDistanceTriIndex;\n\n\tif ( target2 ) {\n\n\t\tif ( ! target2.point ) target2.point = tempTargetDest2.clone();\n\t\telse target2.point.copy( tempTargetDest2 );\n\t\ttarget2.point.applyMatrix4( tempMatrix );\n\t\ttempTargetDest1.applyMatrix4( tempMatrix );\n\t\ttarget2.distance = tempTargetDest1.sub( target2.point ).length();\n\t\ttarget2.faceIndex = closestDistanceOtherTriIndex;\n\n\t}\n\n\treturn target1;\n\n}\n\nexport { closestPointToGeometry_indirect };\n", "export function isSharedArrayBufferSupported() {\n\n\treturn typeof SharedArrayBuffer !== 'undefined';\n\n}\n\nexport function convertToBufferType( array, BufferConstructor ) {\n\n\tif ( array === null ) {\n\n\t\treturn array;\n\n\t} else if ( array.buffer ) {\n\n\t\tconst buffer = array.buffer;\n\t\tif ( buffer.constructor === BufferConstructor ) {\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tconst ArrayConstructor = array.constructor;\n\t\tconst result = new ArrayConstructor( new BufferConstructor( buffer.byteLength ) );\n\t\tresult.set( array );\n\t\treturn result;\n\n\t} else {\n\n\t\tif ( array.constructor === BufferConstructor ) {\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tconst result = new BufferConstructor( array.byteLength );\n\t\tnew Uint8Array( result ).set( new Uint8Array( array ) );\n\t\treturn result;\n\n\t}\n\n}\n", "import { Box3, Matrix4 } from 'three';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { BOUNDING_DATA_INDEX, COUNT, IS_LEAF, LEFT_NODE, OFFSET, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { arrayToBox } from '../../utils/ArrayBoxUtilities.js';\nimport { PrimitivePool } from '../../utils/PrimitivePool.js';\n\nconst _bufferStack1 = new BufferStack.constructor();\nconst _bufferStack2 = new BufferStack.constructor();\nconst _boxPool = new PrimitivePool( () => new Box3() );\nconst _leftBox1 = new Box3();\nconst _rightBox1 = new Box3();\n\nconst _leftBox2 = new Box3();\nconst _rightBox2 = new Box3();\n\nlet _active = false;\n\nexport function bvhcast( bvh, otherBvh, matrixToLocal, intersectsRanges ) {\n\n\tif ( _active ) {\n\n\t\tthrow new Error( 'MeshBVH: Recursive calls to bvhcast not supported.' );\n\n\t}\n\n\t_active = true;\n\n\tconst roots = bvh._roots;\n\tconst otherRoots = otherBvh._roots;\n\tlet result;\n\tlet offset1 = 0;\n\tlet offset2 = 0;\n\tconst invMat = new Matrix4().copy( matrixToLocal ).invert();\n\n\t// iterate over the first set of roots\n\tfor ( let i = 0, il = roots.length; i < il; i ++ ) {\n\n\t\t_bufferStack1.setBuffer( roots[ i ] );\n\t\toffset2 = 0;\n\n\t\t// prep the initial root box\n\t\tconst localBox = _boxPool.getPrimitive();\n\t\tarrayToBox( BOUNDING_DATA_INDEX( 0 ), _bufferStack1.float32Array, localBox );\n\t\tlocalBox.applyMatrix4( invMat );\n\n\t\t// iterate over the second set of roots\n\t\tfor ( let j = 0, jl = otherRoots.length; j < jl; j ++ ) {\n\n\t\t\t_bufferStack2.setBuffer( otherRoots[ j ] );\n\n\t\t\tresult = _traverse(\n\t\t\t\t0, 0, matrixToLocal, invMat, intersectsRanges,\n\t\t\t\toffset1, offset2, 0, 0,\n\t\t\t\tlocalBox,\n\t\t\t);\n\n\t\t\t_bufferStack2.clearBuffer();\n\t\t\toffset2 += otherRoots[ j ].length;\n\n\t\t\tif ( result ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// release stack info\n\t\t_boxPool.releasePrimitive( localBox );\n\t\t_bufferStack1.clearBuffer();\n\t\toffset1 += roots[ i ].length;\n\n\t\tif ( result ) {\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t_active = false;\n\treturn result;\n\n}\n\nfunction _traverse(\n\tnode1Index32,\n\tnode2Index32,\n\tmatrix2to1,\n\tmatrix1to2,\n\tintersectsRangesFunc,\n\n\t// offsets for ids\n\tnode1IndexByteOffset = 0,\n\tnode2IndexByteOffset = 0,\n\n\t// tree depth\n\tdepth1 = 0,\n\tdepth2 = 0,\n\n\tcurrBox = null,\n\treversed = false,\n\n) {\n\n\t// get the buffer stacks associated with the current indices\n\tlet bufferStack1, bufferStack2;\n\tif ( reversed ) {\n\n\t\tbufferStack1 = _bufferStack2;\n\t\tbufferStack2 = _bufferStack1;\n\n\t} else {\n\n\t\tbufferStack1 = _bufferStack1;\n\t\tbufferStack2 = _bufferStack2;\n\n\t}\n\n\t// get the local instances of the typed buffers\n\tconst\n\t\tfloat32Array1 = bufferStack1.float32Array,\n\t\tuint32Array1 = bufferStack1.uint32Array,\n\t\tuint16Array1 = bufferStack1.uint16Array,\n\t\tfloat32Array2 = bufferStack2.float32Array,\n\t\tuint32Array2 = bufferStack2.uint32Array,\n\t\tuint16Array2 = bufferStack2.uint16Array;\n\n\tconst node1Index16 = node1Index32 * 2;\n\tconst node2Index16 = node2Index32 * 2;\n\tconst isLeaf1 = IS_LEAF( node1Index16, uint16Array1 );\n\tconst isLeaf2 = IS_LEAF( node2Index16, uint16Array2 );\n\tlet result = false;\n\tif ( isLeaf2 && isLeaf1 ) {\n\n\t\t// if both bounds are leaf nodes then fire the callback if the boxes intersect\n\t\tif ( reversed ) {\n\n\t\t\tresult = intersectsRangesFunc(\n\t\t\t\tOFFSET( node2Index32, uint32Array2 ), COUNT( node2Index32 * 2, uint16Array2 ),\n\t\t\t\tOFFSET( node1Index32, uint32Array1 ), COUNT( node1Index32 * 2, uint16Array1 ),\n\t\t\t\tdepth2, node2IndexByteOffset + node2Index32,\n\t\t\t\tdepth1, node1IndexByteOffset + node1Index32,\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tresult = intersectsRangesFunc(\n\t\t\t\tOFFSET( node1Index32, uint32Array1 ), COUNT( node1Index32 * 2, uint16Array1 ),\n\t\t\t\tOFFSET( node2Index32, uint32Array2 ), COUNT( node2Index32 * 2, uint16Array2 ),\n\t\t\t\tdepth1, node1IndexByteOffset + node1Index32,\n\t\t\t\tdepth2, node2IndexByteOffset + node2Index32,\n\t\t\t);\n\n\t\t}\n\n\t} else if ( isLeaf2 ) {\n\n\t\t// SWAP\n\t\t// If we've traversed to the leaf node on the other bvh then we need to swap over\n\t\t// to traverse down the first one\n\n\t\t// get the new box to use\n\t\tconst newBox = _boxPool.getPrimitive();\n\t\tarrayToBox( BOUNDING_DATA_INDEX( node2Index32 ), float32Array2, newBox );\n\t\tnewBox.applyMatrix4( matrix2to1 );\n\n\t\t// get the child bounds to check before traversal\n\t\tconst cl1 = LEFT_NODE( node1Index32 );\n\t\tconst cr1 = RIGHT_NODE( node1Index32, uint32Array1 );\n\t\tarrayToBox( BOUNDING_DATA_INDEX( cl1 ), float32Array1, _leftBox1 );\n\t\tarrayToBox( BOUNDING_DATA_INDEX( cr1 ), float32Array1, _rightBox1 );\n\n\t\t// precompute the intersections otherwise the global boxes will be modified during traversal\n\t\tconst intersectCl1 = newBox.intersectsBox( _leftBox1 );\n\t\tconst intersectCr1 = newBox.intersectsBox( _rightBox1 );\n\t\tresult = (\n\t\t\tintersectCl1 && _traverse(\n\t\t\t\tnode2Index32, cl1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\tnewBox, ! reversed,\n\t\t\t)\n\t\t) || (\n\t\t\tintersectCr1 && _traverse(\n\t\t\t\tnode2Index32, cr1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\tnewBox, ! reversed,\n\t\t\t)\n\t\t);\n\n\t\t_boxPool.releasePrimitive( newBox );\n\n\t} else {\n\n\t\t// if neither are leaves then we should swap if one of the children does not\n\t\t// intersect with the current bounds\n\n\t\t// get the child bounds to check\n\t\tconst cl2 = LEFT_NODE( node2Index32 );\n\t\tconst cr2 = RIGHT_NODE( node2Index32, uint32Array2 );\n\t\tarrayToBox( BOUNDING_DATA_INDEX( cl2 ), float32Array2, _leftBox2 );\n\t\tarrayToBox( BOUNDING_DATA_INDEX( cr2 ), float32Array2, _rightBox2 );\n\n\t\tconst leftIntersects = currBox.intersectsBox( _leftBox2 );\n\t\tconst rightIntersects = currBox.intersectsBox( _rightBox2 );\n\t\tif ( leftIntersects && rightIntersects ) {\n\n\t\t\t// continue to traverse both children if they both intersect\n\t\t\tresult = _traverse(\n\t\t\t\tnode1Index32, cl2, matrix2to1, matrix1to2, intersectsRangesFunc,\n\t\t\t\tnode1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1,\n\t\t\t\tcurrBox, reversed,\n\t\t\t) || _traverse(\n\t\t\t\tnode1Index32, cr2, matrix2to1, matrix1to2, intersectsRangesFunc,\n\t\t\t\tnode1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1,\n\t\t\t\tcurrBox, reversed,\n\t\t\t);\n\n\t\t} else if ( leftIntersects ) {\n\n\t\t\tif ( isLeaf1 ) {\n\n\t\t\t\t// if the current box is a leaf then just continue\n\t\t\t\tresult = _traverse(\n\t\t\t\t\tnode1Index32, cl2, matrix2to1, matrix1to2, intersectsRangesFunc,\n\t\t\t\t\tnode1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1,\n\t\t\t\t\tcurrBox, reversed,\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\t// SWAP\n\t\t\t\t// if only one box intersects then we have to swap to the other bvh to continue\n\t\t\t\tconst newBox = _boxPool.getPrimitive();\n\t\t\t\tnewBox.copy( _leftBox2 ).applyMatrix4( matrix2to1 );\n\n\t\t\t\tconst cl1 = LEFT_NODE( node1Index32 );\n\t\t\t\tconst cr1 = RIGHT_NODE( node1Index32, uint32Array1 );\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( cl1 ), float32Array1, _leftBox1 );\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( cr1 ), float32Array1, _rightBox1 );\n\n\t\t\t\t// precompute the intersections otherwise the global boxes will be modified during traversal\n\t\t\t\tconst intersectCl1 = newBox.intersectsBox( _leftBox1 );\n\t\t\t\tconst intersectCr1 = newBox.intersectsBox( _rightBox1 );\n\t\t\t\tresult = (\n\t\t\t\t\tintersectCl1 && _traverse(\n\t\t\t\t\t\tcl2, cl1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\t\t\tnewBox, ! reversed,\n\t\t\t\t\t)\n\t\t\t\t) || (\n\t\t\t\t\tintersectCr1 && _traverse(\n\t\t\t\t\t\tcl2, cr1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\t\t\tnewBox, ! reversed,\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t_boxPool.releasePrimitive( newBox );\n\n\t\t\t}\n\n\t\t} else if ( rightIntersects ) {\n\n\t\t\tif ( isLeaf1 ) {\n\n\t\t\t\t// if the current box is a leaf then just continue\n\t\t\t\tresult = _traverse(\n\t\t\t\t\tnode1Index32, cr2, matrix2to1, matrix1to2, intersectsRangesFunc,\n\t\t\t\t\tnode1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1,\n\t\t\t\t\tcurrBox, reversed,\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\t// SWAP\n\t\t\t\t// if only one box intersects then we have to swap to the other bvh to continue\n\t\t\t\tconst newBox = _boxPool.getPrimitive();\n\t\t\t\tnewBox.copy( _rightBox2 ).applyMatrix4( matrix2to1 );\n\n\t\t\t\tconst cl1 = LEFT_NODE( node1Index32 );\n\t\t\t\tconst cr1 = RIGHT_NODE( node1Index32, uint32Array1 );\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( cl1 ), float32Array1, _leftBox1 );\n\t\t\t\tarrayToBox( BOUNDING_DATA_INDEX( cr1 ), float32Array1, _rightBox1 );\n\n\t\t\t\t// precompute the intersections otherwise the global boxes will be modified during traversal\n\t\t\t\tconst intersectCl1 = newBox.intersectsBox( _leftBox1 );\n\t\t\t\tconst intersectCr1 = newBox.intersectsBox( _rightBox1 );\n\t\t\t\tresult = (\n\t\t\t\t\tintersectCl1 && _traverse(\n\t\t\t\t\t\tcr2, cl1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\t\t\tnewBox, ! reversed,\n\t\t\t\t\t)\n\t\t\t\t) || (\n\t\t\t\t\tintersectCr1 && _traverse(\n\t\t\t\t\t\tcr2, cr1, matrix1to2, matrix2to1, intersectsRangesFunc,\n\t\t\t\t\t\tnode2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1,\n\t\t\t\t\t\tnewBox, ! reversed,\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t_boxPool.releasePrimitive( newBox );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn result;\n\n}\n\n", "import { BufferAttribute, Box3, FrontSide } from 'three';\nimport { CENTER, BYTES_PER_NODE, IS_LEAFNODE_FLAG, SKIP_GENERATION } from './Constants.js';\nimport { buildPackedTree } from './build/buildTree.js';\nimport { OrientedBox } from '../math/OrientedBox.js';\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\nimport { ExtendedTrianglePool } from '../utils/ExtendedTrianglePool.js';\nimport { shapecast } from './cast/shapecast.js';\nimport { closestPointToPoint } from './cast/closestPointToPoint.js';\n\nimport { iterateOverTriangles } from './utils/iterationUtils.generated.js';\nimport { refit } from './cast/refit.generated.js';\nimport { raycast } from './cast/raycast.generated.js';\nimport { raycastFirst } from './cast/raycastFirst.generated.js';\nimport { intersectsGeometry } from './cast/intersectsGeometry.generated.js';\nimport { closestPointToGeometry } from './cast/closestPointToGeometry.generated.js';\n\nimport { iterateOverTriangles_indirect } from './utils/iterationUtils_indirect.generated.js';\nimport { refit_indirect } from './cast/refit_indirect.generated.js';\nimport { raycast_indirect } from './cast/raycast_indirect.generated.js';\nimport { raycastFirst_indirect } from './cast/raycastFirst_indirect.generated.js';\nimport { intersectsGeometry_indirect } from './cast/intersectsGeometry_indirect.generated.js';\nimport { closestPointToGeometry_indirect } from './cast/closestPointToGeometry_indirect.generated.js';\nimport { isSharedArrayBufferSupported } from '../utils/BufferUtils.js';\nimport { setTriangle } from '../utils/TriangleUtilities.js';\nimport { bvhcast } from './cast/bvhcast.js';\n\nconst obb = /* @__PURE__ */ new OrientedBox();\nconst tempBox = /* @__PURE__ */ new Box3();\nexport const DEFAULT_OPTIONS = {\n\tstrategy: CENTER,\n\tmaxDepth: 40,\n\tmaxLeafTris: 10,\n\tuseSharedArrayBuffer: false,\n\tsetBoundingBox: true,\n\tonProgress: null,\n\tindirect: false,\n\tverbose: true,\n\trange: null\n};\n\nexport class MeshBVH {\n\n\tstatic serialize( bvh, options = {} ) {\n\n\t\toptions = {\n\t\t\tcloneBuffers: true,\n\t\t\t...options,\n\t\t};\n\n\t\tconst geometry = bvh.geometry;\n\t\tconst rootData = bvh._roots;\n\t\tconst indirectBuffer = bvh._indirectBuffer;\n\t\tconst indexAttribute = geometry.getIndex();\n\t\tlet result;\n\t\tif ( options.cloneBuffers ) {\n\n\t\t\tresult = {\n\t\t\t\troots: rootData.map( root => root.slice() ),\n\t\t\t\tindex: indexAttribute ? indexAttribute.array.slice() : null,\n\t\t\t\tindirectBuffer: indirectBuffer ? indirectBuffer.slice() : null,\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tresult = {\n\t\t\t\troots: rootData,\n\t\t\t\tindex: indexAttribute ? indexAttribute.array : null,\n\t\t\t\tindirectBuffer: indirectBuffer,\n\t\t\t};\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tstatic deserialize( data, geometry, options = {} ) {\n\n\t\toptions = {\n\t\t\tsetIndex: true,\n\t\t\tindirect: Boolean( data.indirectBuffer ),\n\t\t\t...options,\n\t\t};\n\n\t\tconst { index, roots, indirectBuffer } = data;\n\t\tconst bvh = new MeshBVH( geometry, { ...options, [ SKIP_GENERATION ]: true } );\n\t\tbvh._roots = roots;\n\t\tbvh._indirectBuffer = indirectBuffer || null;\n\n\t\tif ( options.setIndex ) {\n\n\t\t\tconst indexAttribute = geometry.getIndex();\n\t\t\tif ( indexAttribute === null ) {\n\n\t\t\t\tconst newIndex = new BufferAttribute( data.index, 1, false );\n\t\t\t\tgeometry.setIndex( newIndex );\n\n\t\t\t} else if ( indexAttribute.array !== index ) {\n\n\t\t\t\tindexAttribute.array.set( index );\n\t\t\t\tindexAttribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn bvh;\n\n\t}\n\n\tget indirect() {\n\n\t\treturn ! ! this._indirectBuffer;\n\n\t}\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tif ( ! geometry.isBufferGeometry ) {\n\n\t\t\tthrow new Error( 'MeshBVH: Only BufferGeometries are supported.' );\n\n\t\t} else if ( geometry.index && geometry.index.isInterleavedBufferAttribute ) {\n\n\t\t\tthrow new Error( 'MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.' );\n\n\t\t}\n\n\t\t// default options\n\t\toptions = Object.assign( {\n\n\t\t\t...DEFAULT_OPTIONS,\n\n\t\t\t// undocumented options\n\n\t\t\t// Whether to skip generating the tree. Used for deserialization.\n\t\t\t[ SKIP_GENERATION ]: false,\n\n\t\t}, options );\n\n\t\tif ( options.useSharedArrayBuffer && ! isSharedArrayBufferSupported() ) {\n\n\t\t\tthrow new Error( 'MeshBVH: SharedArrayBuffer is not available.' );\n\n\t\t}\n\n\t\t// retain references to the geometry so we can use them it without having to\n\t\t// take a geometry reference in every function.\n\t\tthis.geometry = geometry;\n\t\tthis._roots = null;\n\t\tthis._indirectBuffer = null;\n\t\tif ( ! options[ SKIP_GENERATION ] ) {\n\n\t\t\tbuildPackedTree( this, options );\n\n\t\t\tif ( ! geometry.boundingBox && options.setBoundingBox ) {\n\n\t\t\t\tgeometry.boundingBox = this.getBoundingBox( new Box3() );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.resolveTriangleIndex = options.indirect ? i => this._indirectBuffer[ i ] : i => i;\n\n\t}\n\n\trefit( nodeIndices = null ) {\n\n\t\tconst refitFunc = this.indirect ? refit_indirect : refit;\n\t\treturn refitFunc( this, nodeIndices );\n\n\t}\n\n\ttraverse( callback, rootIndex = 0 ) {\n\n\t\tconst buffer = this._roots[ rootIndex ];\n\t\tconst uint32Array = new Uint32Array( buffer );\n\t\tconst uint16Array = new Uint16Array( buffer );\n\t\t_traverse( 0 );\n\n\t\tfunction _traverse( node32Index, depth = 0 ) {\n\n\t\t\tconst node16Index = node32Index * 2;\n\t\t\tconst isLeaf = uint16Array[ node16Index + 15 ] === IS_LEAFNODE_FLAG;\n\t\t\tif ( isLeaf ) {\n\n\t\t\t\tconst offset = uint32Array[ node32Index + 6 ];\n\t\t\t\tconst count = uint16Array[ node16Index + 14 ];\n\t\t\t\tcallback( depth, isLeaf, new Float32Array( buffer, node32Index * 4, 6 ), offset, count );\n\n\t\t\t} else {\n\n\t\t\t\t// TODO: use node functions here\n\t\t\t\tconst left = node32Index + BYTES_PER_NODE / 4;\n\t\t\t\tconst right = uint32Array[ node32Index + 6 ];\n\t\t\t\tconst splitAxis = uint32Array[ node32Index + 7 ];\n\t\t\t\tconst stopTraversal = callback( depth, isLeaf, new Float32Array( buffer, node32Index * 4, 6 ), splitAxis );\n\n\t\t\t\tif ( ! stopTraversal ) {\n\n\t\t\t\t\t_traverse( left, depth + 1 );\n\t\t\t\t\t_traverse( right, depth + 1 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/* Core Cast Functions */\n\traycast( ray, materialOrSide = FrontSide, near = 0, far = Infinity ) {\n\n\t\tconst roots = this._roots;\n\t\tconst geometry = this.geometry;\n\t\tconst intersects = [];\n\t\tconst isMaterial = materialOrSide.isMaterial;\n\t\tconst isArrayMaterial = Array.isArray( materialOrSide );\n\n\t\tconst groups = geometry.groups;\n\t\tconst side = isMaterial ? materialOrSide.side : materialOrSide;\n\t\tconst raycastFunc = this.indirect ? raycast_indirect : raycast;\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\t\tconst materialSide = isArrayMaterial ? materialOrSide[ groups[ i ].materialIndex ].side : side;\n\t\t\tconst startCount = intersects.length;\n\n\t\t\traycastFunc( this, i, materialSide, ray, intersects, near, far );\n\n\t\t\tif ( isArrayMaterial ) {\n\n\t\t\t\tconst materialIndex = groups[ i ].materialIndex;\n\t\t\t\tfor ( let j = startCount, jl = intersects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tintersects[ j ].face.materialIndex = materialIndex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn intersects;\n\n\t}\n\n\traycastFirst( ray, materialOrSide = FrontSide, near = 0, far = Infinity ) {\n\n\t\tconst roots = this._roots;\n\t\tconst geometry = this.geometry;\n\t\tconst isMaterial = materialOrSide.isMaterial;\n\t\tconst isArrayMaterial = Array.isArray( materialOrSide );\n\n\t\tlet closestResult = null;\n\n\t\tconst groups = geometry.groups;\n\t\tconst side = isMaterial ? materialOrSide.side : materialOrSide;\n\t\tconst raycastFirstFunc = this.indirect ? raycastFirst_indirect : raycastFirst;\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\t\tconst materialSide = isArrayMaterial ? materialOrSide[ groups[ i ].materialIndex ].side : side;\n\t\t\tconst result = raycastFirstFunc( this, i, materialSide, ray, near, far );\n\t\t\tif ( result != null && ( closestResult == null || result.distance < closestResult.distance ) ) {\n\n\t\t\t\tclosestResult = result;\n\t\t\t\tif ( isArrayMaterial ) {\n\n\t\t\t\t\tresult.face.materialIndex = groups[ i ].materialIndex;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn closestResult;\n\n\t}\n\n\tintersectsGeometry( otherGeometry, geomToMesh ) {\n\n\t\tlet result = false;\n\t\tconst roots = this._roots;\n\t\tconst intersectsGeometryFunc = this.indirect ? intersectsGeometry_indirect : intersectsGeometry;\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\t\tresult = intersectsGeometryFunc( this, i, otherGeometry, geomToMesh );\n\n\t\t\tif ( result ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tshapecast( callbacks ) {\n\n\t\tconst triangle = ExtendedTrianglePool.getPrimitive();\n\t\tconst iterateFunc = this.indirect ? iterateOverTriangles_indirect : iterateOverTriangles;\n\t\tlet {\n\t\t\tboundsTraverseOrder,\n\t\t\tintersectsBounds,\n\t\t\tintersectsRange,\n\t\t\tintersectsTriangle,\n\t\t} = callbacks;\n\n\t\t// wrap the intersectsRange function\n\t\tif ( intersectsRange && intersectsTriangle ) {\n\n\t\t\tconst originalIntersectsRange = intersectsRange;\n\t\t\tintersectsRange = ( offset, count, contained, depth, nodeIndex ) => {\n\n\t\t\t\tif ( ! originalIntersectsRange( offset, count, contained, depth, nodeIndex ) ) {\n\n\t\t\t\t\treturn iterateFunc( offset, count, this, intersectsTriangle, contained, depth, triangle );\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t};\n\n\t\t} else if ( ! intersectsRange ) {\n\n\t\t\tif ( intersectsTriangle ) {\n\n\t\t\t\tintersectsRange = ( offset, count, contained, depth ) => {\n\n\t\t\t\t\treturn iterateFunc( offset, count, this, intersectsTriangle, contained, depth, triangle );\n\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tintersectsRange = ( offset, count, contained ) => {\n\n\t\t\t\t\treturn contained;\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t// run shapecast\n\t\tlet result = false;\n\t\tlet byteOffset = 0;\n\t\tconst roots = this._roots;\n\t\tfor ( let i = 0, l = roots.length; i < l; i ++ ) {\n\n\t\t\tconst root = roots[ i ];\n\t\t\tresult = shapecast( this, i, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset );\n\n\t\t\tif ( result ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tbyteOffset += root.byteLength;\n\n\t\t}\n\n\t\tExtendedTrianglePool.releasePrimitive( triangle );\n\n\t\treturn result;\n\n\t}\n\n\tbvhcast( otherBvh, matrixToLocal, callbacks ) {\n\n\t\tlet {\n\t\t\tintersectsRanges,\n\t\t\tintersectsTriangles,\n\t\t} = callbacks;\n\n\t\tconst triangle1 = ExtendedTrianglePool.getPrimitive();\n\t\tconst indexAttr1 = this.geometry.index;\n\t\tconst positionAttr1 = this.geometry.attributes.position;\n\t\tconst assignTriangle1 = this.indirect ?\n\t\t\ti1 => {\n\n\n\t\t\t\tconst ti = this.resolveTriangleIndex( i1 );\n\t\t\t\tsetTriangle( triangle1, ti * 3, indexAttr1, positionAttr1 );\n\n\t\t\t} :\n\t\t\ti1 => {\n\n\t\t\t\tsetTriangle( triangle1, i1 * 3, indexAttr1, positionAttr1 );\n\n\t\t\t};\n\n\t\tconst triangle2 = ExtendedTrianglePool.getPrimitive();\n\t\tconst indexAttr2 = otherBvh.geometry.index;\n\t\tconst positionAttr2 = otherBvh.geometry.attributes.position;\n\t\tconst assignTriangle2 = otherBvh.indirect ?\n\t\t\ti2 => {\n\n\t\t\t\tconst ti2 = otherBvh.resolveTriangleIndex( i2 );\n\t\t\t\tsetTriangle( triangle2, ti2 * 3, indexAttr2, positionAttr2 );\n\n\t\t\t} :\n\t\t\ti2 => {\n\n\t\t\t\tsetTriangle( triangle2, i2 * 3, indexAttr2, positionAttr2 );\n\n\t\t\t};\n\n\t\t// generate triangle callback if needed\n\t\tif ( intersectsTriangles ) {\n\n\t\t\tconst iterateOverDoubleTriangles = ( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) => {\n\n\t\t\t\tfor ( let i2 = offset2, l2 = offset2 + count2; i2 < l2; i2 ++ ) {\n\n\t\t\t\t\tassignTriangle2( i2 );\n\n\t\t\t\t\ttriangle2.a.applyMatrix4( matrixToLocal );\n\t\t\t\t\ttriangle2.b.applyMatrix4( matrixToLocal );\n\t\t\t\t\ttriangle2.c.applyMatrix4( matrixToLocal );\n\t\t\t\t\ttriangle2.needsUpdate = true;\n\n\t\t\t\t\tfor ( let i1 = offset1, l1 = offset1 + count1; i1 < l1; i1 ++ ) {\n\n\t\t\t\t\t\tassignTriangle1( i1 );\n\n\t\t\t\t\t\ttriangle1.needsUpdate = true;\n\n\t\t\t\t\t\tif ( intersectsTriangles( triangle1, triangle2, i1, i2, depth1, index1, depth2, index2 ) ) {\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\tif ( intersectsRanges ) {\n\n\t\t\t\tconst originalIntersectsRanges = intersectsRanges;\n\t\t\t\tintersectsRanges = function ( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) {\n\n\t\t\t\t\tif ( ! originalIntersectsRanges( offset1, count1, offset2, count2, depth1, index1, depth2, index2 ) ) {\n\n\t\t\t\t\t\treturn iterateOverDoubleTriangles( offset1, count1, offset2, count2, depth1, index1, depth2, index2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tintersectsRanges = iterateOverDoubleTriangles;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn bvhcast( this, otherBvh, matrixToLocal, intersectsRanges );\n\n\t}\n\n\n\t/* Derived Cast Functions */\n\tintersectsBox( box, boxToMesh ) {\n\n\t\tobb.set( box.min, box.max, boxToMesh );\n\t\tobb.needsUpdate = true;\n\n\t\treturn this.shapecast(\n\t\t\t{\n\t\t\t\tintersectsBounds: box => obb.intersectsBox( box ),\n\t\t\t\tintersectsTriangle: tri => obb.intersectsTriangle( tri )\n\t\t\t}\n\t\t);\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.shapecast(\n\t\t\t{\n\t\t\t\tintersectsBounds: box => sphere.intersectsBox( box ),\n\t\t\t\tintersectsTriangle: tri => tri.intersectsSphere( sphere )\n\t\t\t}\n\t\t);\n\n\t}\n\n\tclosestPointToGeometry( otherGeometry, geometryToBvh, target1 = { }, target2 = { }, minThreshold = 0, maxThreshold = Infinity ) {\n\n\t\tconst closestPointToGeometryFunc = this.indirect ? closestPointToGeometry_indirect : closestPointToGeometry;\n\t\treturn closestPointToGeometryFunc(\n\t\t\tthis,\n\t\t\totherGeometry,\n\t\t\tgeometryToBvh,\n\t\t\ttarget1,\n\t\t\ttarget2,\n\t\t\tminThreshold,\n\t\t\tmaxThreshold,\n\t\t);\n\n\t}\n\n\tclosestPointToPoint( point, target = { }, minThreshold = 0, maxThreshold = Infinity ) {\n\n\t\treturn closestPointToPoint(\n\t\t\tthis,\n\t\t\tpoint,\n\t\t\ttarget,\n\t\t\tminThreshold,\n\t\t\tmaxThreshold,\n\t\t);\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\ttarget.makeEmpty();\n\n\t\tconst roots = this._roots;\n\t\troots.forEach( buffer => {\n\n\t\t\tarrayToBox( 0, new Float32Array( buffer ), tempBox );\n\t\t\ttarget.union( tempBox );\n\n\t\t} );\n\n\t\treturn target;\n\n\t}\n\n}\n", "import { LineBasicMaterial, BufferAttribute, Box3, Group, MeshBasicMaterial, Object3D, BufferGeometry, Mesh, Matrix4 } from 'three';\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\nimport { MeshBVH } from '../core/MeshBVH.js';\n\nconst boundingBox = /* @__PURE__ */ new Box3();\nconst matrix = /* @__PURE__ */ new Matrix4();\n\nclass MeshBVHRootHelper extends Object3D {\n\n\tget isMesh() {\n\n\t\treturn ! this.displayEdges;\n\n\t}\n\n\tget isLineSegments() {\n\n\t\treturn this.displayEdges;\n\n\t}\n\n\tget isLine() {\n\n\t\treturn this.displayEdges;\n\n\t}\n\n\tgetVertexPosition( ...args ) {\n\n\t\t// implement this function so it works with Box3.setFromObject\n\t\treturn Mesh.prototype.getVertexPosition.call( this, ...args );\n\n\t}\n\n\tconstructor( bvh, material, depth = 10, group = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.geometry = new BufferGeometry();\n\t\tthis.name = 'MeshBVHRootHelper';\n\t\tthis.depth = depth;\n\t\tthis.displayParents = false;\n\t\tthis.bvh = bvh;\n\t\tthis.displayEdges = true;\n\t\tthis._group = group;\n\n\t}\n\n\traycast() {}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst boundsTree = this.bvh;\n\t\tconst group = this._group;\n\t\tgeometry.dispose();\n\t\tthis.visible = false;\n\t\tif ( boundsTree ) {\n\n\t\t\t// count the number of bounds required\n\t\t\tconst targetDepth = this.depth - 1;\n\t\t\tconst displayParents = this.displayParents;\n\t\t\tlet boundsCount = 0;\n\t\t\tboundsTree.traverse( ( depth, isLeaf ) => {\n\n\t\t\t\tif ( depth >= targetDepth || isLeaf ) {\n\n\t\t\t\t\tboundsCount ++;\n\t\t\t\t\treturn true;\n\n\t\t\t\t} else if ( displayParents ) {\n\n\t\t\t\t\tboundsCount ++;\n\n\t\t\t\t}\n\n\t\t\t}, group );\n\n\t\t\t// fill in the position buffer with the bounds corners\n\t\t\tlet posIndex = 0;\n\t\t\tconst positionArray = new Float32Array( 8 * 3 * boundsCount );\n\t\t\tboundsTree.traverse( ( depth, isLeaf, boundingData ) => {\n\n\t\t\t\tconst terminate = depth >= targetDepth || isLeaf;\n\t\t\t\tif ( terminate || displayParents ) {\n\n\t\t\t\t\tarrayToBox( 0, boundingData, boundingBox );\n\n\t\t\t\t\tconst { min, max } = boundingBox;\n\t\t\t\t\tfor ( let x = - 1; x <= 1; x += 2 ) {\n\n\t\t\t\t\t\tconst xVal = x < 0 ? min.x : max.x;\n\t\t\t\t\t\tfor ( let y = - 1; y <= 1; y += 2 ) {\n\n\t\t\t\t\t\t\tconst yVal = y < 0 ? min.y : max.y;\n\t\t\t\t\t\t\tfor ( let z = - 1; z <= 1; z += 2 ) {\n\n\t\t\t\t\t\t\t\tconst zVal = z < 0 ? min.z : max.z;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 0 ] = xVal;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 1 ] = yVal;\n\t\t\t\t\t\t\t\tpositionArray[ posIndex + 2 ] = zVal;\n\n\t\t\t\t\t\t\t\tposIndex += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn terminate;\n\n\t\t\t\t}\n\n\t\t\t}, group );\n\n\t\t\tlet indexArray;\n\t\t\tlet indices;\n\t\t\tif ( this.displayEdges ) {\n\n\t\t\t\t// fill in the index buffer to point to the corner points\n\t\t\t\tindices = new Uint8Array( [\n\t\t\t\t\t// x axis\n\t\t\t\t\t0, 4,\n\t\t\t\t\t1, 5,\n\t\t\t\t\t2, 6,\n\t\t\t\t\t3, 7,\n\n\t\t\t\t\t// y axis\n\t\t\t\t\t0, 2,\n\t\t\t\t\t1, 3,\n\t\t\t\t\t4, 6,\n\t\t\t\t\t5, 7,\n\n\t\t\t\t\t// z axis\n\t\t\t\t\t0, 1,\n\t\t\t\t\t2, 3,\n\t\t\t\t\t4, 5,\n\t\t\t\t\t6, 7,\n\t\t\t\t] );\n\n\t\t\t} else {\n\n\t\t\t\tindices = new Uint8Array( [\n\n\t\t\t\t\t// X-, X+\n\t\t\t\t\t0, 1, 2,\n\t\t\t\t\t2, 1, 3,\n\n\t\t\t\t\t4, 6, 5,\n\t\t\t\t\t6, 7, 5,\n\n\t\t\t\t\t// Y-, Y+\n\t\t\t\t\t1, 4, 5,\n\t\t\t\t\t0, 4, 1,\n\n\t\t\t\t\t2, 3, 6,\n\t\t\t\t\t3, 7, 6,\n\n\t\t\t\t\t// Z-, Z+\n\t\t\t\t\t0, 2, 4,\n\t\t\t\t\t2, 6, 4,\n\n\t\t\t\t\t1, 5, 3,\n\t\t\t\t\t3, 5, 7,\n\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( positionArray.length > 65535 ) {\n\n\t\t\t\tindexArray = new Uint32Array( indices.length * boundsCount );\n\n\t\t\t} else {\n\n\t\t\t\tindexArray = new Uint16Array( indices.length * boundsCount );\n\n\t\t\t}\n\n\t\t\tconst indexLength = indices.length;\n\t\t\tfor ( let i = 0; i < boundsCount; i ++ ) {\n\n\t\t\t\tconst posOffset = i * 8;\n\t\t\t\tconst indexOffset = i * indexLength;\n\t\t\t\tfor ( let j = 0; j < indexLength; j ++ ) {\n\n\t\t\t\t\tindexArray[ indexOffset + j ] = posOffset + indices[ j ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// update the geometry\n\t\t\tgeometry.setIndex(\n\t\t\t\tnew BufferAttribute( indexArray, 1, false ),\n\t\t\t);\n\t\t\tgeometry.setAttribute(\n\t\t\t\t'position',\n\t\t\t\tnew BufferAttribute( positionArray, 3, false ),\n\t\t\t);\n\t\t\tthis.visible = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass MeshBVHHelper extends Group {\n\n\tget color() {\n\n\t\treturn this.edgeMaterial.color;\n\n\t}\n\n\tget opacity() {\n\n\t\treturn this.edgeMaterial.opacity;\n\n\t}\n\n\tset opacity( v ) {\n\n\t\tthis.edgeMaterial.opacity = v;\n\t\tthis.meshMaterial.opacity = v;\n\n\t}\n\n\tconstructor( mesh = null, bvh = null, depth = 10 ) {\n\n\t\t// handle bvh, depth signature\n\t\tif ( mesh instanceof MeshBVH ) {\n\n\t\t\tdepth = bvh || 10;\n\t\t\tbvh = mesh;\n\t\t\tmesh = null;\n\n\t\t}\n\n\t\t// handle mesh, depth signature\n\t\tif ( typeof bvh === 'number' ) {\n\n\t\t\tdepth = bvh;\n\t\t\tbvh = null;\n\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'MeshBVHHelper';\n\t\tthis.depth = depth;\n\t\tthis.mesh = mesh;\n\t\tthis.bvh = bvh;\n\t\tthis.displayParents = false;\n\t\tthis.displayEdges = true;\n\t\tthis.objectIndex = 0;\n\t\tthis._roots = [];\n\n\t\tconst edgeMaterial = new LineBasicMaterial( {\n\t\t\tcolor: 0x00FF88,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.3,\n\t\t\tdepthWrite: false,\n\t\t} );\n\n\t\tconst meshMaterial = new MeshBasicMaterial( {\n\t\t\tcolor: 0x00FF88,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.3,\n\t\t\tdepthWrite: false,\n\t\t} );\n\n\t\tmeshMaterial.color = edgeMaterial.color;\n\n\t\tthis.edgeMaterial = edgeMaterial;\n\t\tthis.meshMaterial = meshMaterial;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.mesh;\n\t\tlet bvh = this.bvh || mesh.geometry.boundsTree || null;\n\t\tif ( mesh.isBatchedMesh && mesh.boundsTrees && ! bvh ) {\n\n\t\t\t// get the bvh from a batchedMesh if not provided\n\t\t\t// TODO: we should have an official way to get the geometry index cleanly\n\t\t\tconst drawInfo = mesh._drawInfo[ this.objectIndex ];\n\t\t\tif ( drawInfo ) {\n\n\t\t\t\tbvh = mesh.boundsTrees[ drawInfo.geometryIndex ] || bvh;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst totalRoots = bvh ? bvh._roots.length : 0;\n\t\twhile ( this._roots.length > totalRoots ) {\n\n\t\t\tconst root = this._roots.pop();\n\t\t\troot.geometry.dispose();\n\t\t\tthis.remove( root );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < totalRoots; i ++ ) {\n\n\t\t\tconst { depth, edgeMaterial, meshMaterial, displayParents, displayEdges } = this;\n\n\t\t\tif ( i >= this._roots.length ) {\n\n\t\t\t\tconst root = new MeshBVHRootHelper( bvh, edgeMaterial, depth, i );\n\t\t\t\tthis.add( root );\n\t\t\t\tthis._roots.push( root );\n\n\t\t\t}\n\n\t\t\tconst root = this._roots[ i ];\n\t\t\troot.bvh = bvh;\n\t\t\troot.depth = depth;\n\t\t\troot.displayParents = displayParents;\n\t\t\troot.displayEdges = displayEdges;\n\t\t\troot.material = displayEdges ? edgeMaterial : meshMaterial;\n\t\t\troot.update();\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( ...args ) {\n\n\t\tconst mesh = this.mesh;\n\t\tconst parent = this.parent;\n\n\t\tif ( mesh !== null ) {\n\n\t\t\tmesh.updateWorldMatrix( true, false );\n\n\t\t\tif ( parent ) {\n\n\t\t\t\tthis.matrix\n\t\t\t\t\t.copy( parent.matrixWorld )\n\t\t\t\t\t.invert()\n\t\t\t\t\t.multiply( mesh.matrixWorld );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrix\n\t\t\t\t\t.copy( mesh.matrixWorld );\n\n\t\t\t}\n\n\t\t\t// handle batched and instanced mesh bvhs\n\t\t\tif ( mesh.isInstancedMesh || mesh.isBatchedMesh ) {\n\n\t\t\t\tmesh.getMatrixAt( this.objectIndex, matrix );\n\t\t\t\tthis.matrix.multiply( matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrix.decompose(\n\t\t\t\tthis.position,\n\t\t\t\tthis.quaternion,\n\t\t\t\tthis.scale,\n\t\t\t);\n\n\t\t}\n\n\t\tsuper.updateMatrixWorld( ...args );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.depth = source.depth;\n\t\tthis.mesh = source.mesh;\n\t\tthis.bvh = source.bvh;\n\t\tthis.opacity = source.opacity;\n\t\tthis.color.copy( source.color );\n\n\t}\n\n\tclone() {\n\n\t\treturn new MeshBVHHelper( this.mesh, this.bvh, this.depth );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.edgeMaterial.dispose();\n\t\tthis.meshMaterial.dispose();\n\n\t\tconst children = this.children;\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].geometry.dispose();\n\n\t\t}\n\n\t}\n\n}\n\nexport class MeshBVHVisualizer extends MeshBVHHelper {\n\n\tconstructor( ...args ) {\n\n\t\tsuper( ...args );\n\n\t\tconsole.warn( 'MeshBVHVisualizer: MeshBVHVisualizer has been deprecated. Use MeshBVHHelper, instead.' );\n\n\t}\n\n}\n\nexport { MeshBVHHelper };\n", "import { Box3, Vector3 } from 'three';\nimport { TRAVERSAL_COST, TRIANGLE_INTERSECT_COST } from '../core/Constants.js';\nimport { arrayToBox } from '../utils/ArrayBoxUtilities.js';\nimport { isSharedArrayBufferSupported } from '../utils/BufferUtils.js';\n\nconst _box1 = /* @__PURE__ */ new Box3();\nconst _box2 = /* @__PURE__ */ new Box3();\nconst _vec = /* @__PURE__ */ new Vector3();\n\n// https://stackoverflow.com/questions/1248302/how-to-get-the-size-of-a-javascript-object\nfunction getPrimitiveSize( el ) {\n\n\tswitch ( typeof el ) {\n\n\t\tcase 'number':\n\t\t\treturn 8;\n\t\tcase 'string':\n\t\t\treturn el.length * 2;\n\t\tcase 'boolean':\n\t\t\treturn 4;\n\t\tdefault:\n\t\t\treturn 0;\n\n\t}\n\n}\n\nfunction isTypedArray( arr ) {\n\n\tconst regex = /(Uint|Int|Float)(8|16|32)Array/;\n\treturn regex.test( arr.constructor.name );\n\n}\n\nfunction getRootExtremes( bvh, group ) {\n\n\tconst result = {\n\t\tnodeCount: 0,\n\t\tleafNodeCount: 0,\n\n\t\tdepth: {\n\t\t\tmin: Infinity, max: - Infinity\n\t\t},\n\t\ttris: {\n\t\t\tmin: Infinity, max: - Infinity\n\t\t},\n\t\tsplits: [ 0, 0, 0 ],\n\t\tsurfaceAreaScore: 0,\n\t};\n\n\tbvh.traverse( ( depth, isLeaf, boundingData, offsetOrSplit, count ) => {\n\n\t\tconst l0 = boundingData[ 0 + 3 ] - boundingData[ 0 ];\n\t\tconst l1 = boundingData[ 1 + 3 ] - boundingData[ 1 ];\n\t\tconst l2 = boundingData[ 2 + 3 ] - boundingData[ 2 ];\n\n\t\tconst surfaceArea = 2 * ( l0 * l1 + l1 * l2 + l2 * l0 );\n\n\t\tresult.nodeCount ++;\n\t\tif ( isLeaf ) {\n\n\t\t\tresult.leafNodeCount ++;\n\n\t\t\tresult.depth.min = Math.min( depth, result.depth.min );\n\t\t\tresult.depth.max = Math.max( depth, result.depth.max );\n\n\t\t\tresult.tris.min = Math.min( count, result.tris.min );\n\t\t\tresult.tris.max = Math.max( count, result.tris.max );\n\n\t\t\tresult.surfaceAreaScore += surfaceArea * TRIANGLE_INTERSECT_COST * count;\n\n\t\t} else {\n\n\t\t\tresult.splits[ offsetOrSplit ] ++;\n\n\t\t\tresult.surfaceAreaScore += surfaceArea * TRAVERSAL_COST;\n\n\t\t}\n\n\t}, group );\n\n\t// If there are no leaf nodes because the tree hasn't finished generating yet.\n\tif ( result.tris.min === Infinity ) {\n\n\t\tresult.tris.min = 0;\n\t\tresult.tris.max = 0;\n\n\t}\n\n\tif ( result.depth.min === Infinity ) {\n\n\t\tresult.depth.min = 0;\n\t\tresult.depth.max = 0;\n\n\t}\n\n\treturn result;\n\n}\n\nfunction getBVHExtremes( bvh ) {\n\n\treturn bvh._roots.map( ( root, i ) => getRootExtremes( bvh, i ) );\n\n}\n\nfunction estimateMemoryInBytes( obj ) {\n\n\tconst traversed = new Set();\n\tconst stack = [ obj ];\n\tlet bytes = 0;\n\n\twhile ( stack.length ) {\n\n\t\tconst curr = stack.pop();\n\t\tif ( traversed.has( curr ) ) {\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\ttraversed.add( curr );\n\n\t\tfor ( let key in curr ) {\n\n\t\t\tif ( ! Object.hasOwn( curr, key ) ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tbytes += getPrimitiveSize( key );\n\n\t\t\tconst value = curr[ key ];\n\t\t\tif ( value && ( typeof value === 'object' || typeof value === 'function' ) ) {\n\n\t\t\t\tif ( isTypedArray( value ) ) {\n\n\t\t\t\t\tbytes += value.byteLength;\n\n\t\t\t\t} else if ( isSharedArrayBufferSupported() && value instanceof SharedArrayBuffer ) {\n\n\t\t\t\t\tbytes += value.byteLength;\n\n\t\t\t\t} else if ( value instanceof ArrayBuffer ) {\n\n\t\t\t\t\tbytes += value.byteLength;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstack.push( value );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tbytes += getPrimitiveSize( value );\n\n\t\t\t}\n\n\n\t\t}\n\n\t}\n\n\treturn bytes;\n\n}\n\nfunction validateBounds( bvh ) {\n\n\tconst geometry = bvh.geometry;\n\tconst depthStack = [];\n\tconst index = geometry.index;\n\tconst position = geometry.getAttribute( 'position' );\n\tlet passes = true;\n\n\tbvh.traverse( ( depth, isLeaf, boundingData, offset, count ) => {\n\n\t\tconst info = {\n\t\t\tdepth,\n\t\t\tisLeaf,\n\t\t\tboundingData,\n\t\t\toffset,\n\t\t\tcount,\n\t\t};\n\t\tdepthStack[ depth ] = info;\n\n\t\tarrayToBox( 0, boundingData, _box1 );\n\t\tconst parent = depthStack[ depth - 1 ];\n\n\t\tif ( isLeaf ) {\n\n\t\t\t// check triangles\n\t\t\tfor ( let i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\t\t\tconst triIndex = bvh.resolveTriangleIndex( i );\n\t\t\t\tlet i0 = 3 * triIndex;\n\t\t\t\tlet i1 = 3 * triIndex + 1;\n\t\t\t\tlet i2 = 3 * triIndex + 2;\n\n\t\t\t\tif ( index ) {\n\n\t\t\t\t\ti0 = index.getX( i0 );\n\t\t\t\t\ti1 = index.getX( i1 );\n\t\t\t\t\ti2 = index.getX( i2 );\n\n\t\t\t\t}\n\n\t\t\t\tlet isContained;\n\n\t\t\t\t_vec.fromBufferAttribute( position, i0 );\n\t\t\t\tisContained = _box1.containsPoint( _vec );\n\n\t\t\t\t_vec.fromBufferAttribute( position, i1 );\n\t\t\t\tisContained = isContained && _box1.containsPoint( _vec );\n\n\t\t\t\t_vec.fromBufferAttribute( position, i2 );\n\t\t\t\tisContained = isContained && _box1.containsPoint( _vec );\n\n\t\t\t\tconsole.assert( isContained, 'Leaf bounds does not fully contain triangle.' );\n\t\t\t\tpasses = passes && isContained;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parent ) {\n\n\t\t\t// check if my bounds fit in my parents\n\t\t\tarrayToBox( 0, boundingData, _box2 );\n\n\t\t\tconst isContained = _box2.containsBox( _box1 );\n\t\t\tconsole.assert( isContained, 'Parent bounds does not fully contain child.' );\n\t\t\tpasses = passes && isContained;\n\n\t\t}\n\n\t} );\n\n\treturn passes;\n\n}\n\n// Returns a simple, human readable object that represents the BVH.\nfunction getJSONStructure( bvh ) {\n\n\tconst depthStack = [];\n\n\tbvh.traverse( ( depth, isLeaf, boundingData, offset, count ) => {\n\n\t\tconst info = {\n\t\t\tbounds: arrayToBox( 0, boundingData, new Box3() ),\n\t\t};\n\n\t\tif ( isLeaf ) {\n\n\t\t\tinfo.count = count;\n\t\t\tinfo.offset = offset;\n\n\t\t} else {\n\n\t\t\tinfo.left = null;\n\t\t\tinfo.right = null;\n\n\t\t}\n\n\t\tdepthStack[ depth ] = info;\n\n\t\t// traversal hits the left then right node\n\t\tconst parent = depthStack[ depth - 1 ];\n\t\tif ( parent ) {\n\n\t\t\tif ( parent.left === null ) {\n\n\t\t\t\tparent.left = info;\n\n\t\t\t} else {\n\n\t\t\t\tparent.right = info;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn depthStack[ 0 ];\n\n}\n\nexport { estimateMemoryInBytes, getBVHExtremes, validateBounds, getJSONStructure };\n", "// converts the given BVH raycast intersection to align with the three.js raycast\n// structure (include object, world space distance and point).\nexport function convertRaycastIntersect( hit, object, raycaster ) {\n\n\tif ( hit === null ) {\n\n\t\treturn null;\n\n\t}\n\n\thit.point.applyMatrix4( object.matrixWorld );\n\thit.distance = hit.point.distanceTo( raycaster.ray.origin );\n\thit.object = object;\n\n\treturn hit;\n\n}\n", "import { Ray, Matrix4, Mesh, Vector3, Sphere, BatchedMesh, REVISION } from 'three';\nimport { convertRaycastIntersect } from './GeometryRayIntersectUtilities.js';\nimport { MeshBVH } from '../core/MeshBVH.js';\n\nconst IS_REVISION_166 = parseInt( REVISION ) >= 166;\nconst ray = /* @__PURE__ */ new Ray();\nconst direction = /* @__PURE__ */ new Vector3();\nconst tmpInverseMatrix = /* @__PURE__ */ new Matrix4();\nconst origMeshRaycastFunc = Mesh.prototype.raycast;\nconst origBatchedRaycastFunc = BatchedMesh.prototype.raycast;\nconst _worldScale = /* @__PURE__ */ new Vector3();\nconst _mesh = /* @__PURE__ */ new Mesh();\nconst _batchIntersects = [];\n\nexport function acceleratedRaycast( raycaster, intersects ) {\n\n\tif ( this.isBatchedMesh ) {\n\n\t\tacceleratedBatchedMeshRaycast.call( this, raycaster, intersects );\n\n\t} else {\n\n\t\tacceleratedMeshRaycast.call( this, raycaster, intersects );\n\n\t}\n\n}\n\nfunction acceleratedBatchedMeshRaycast( raycaster, intersects ) {\n\n\tif ( this.boundsTrees ) {\n\n\t\t// TODO: remove use of geometry info, instance info when r170 is minimum version\n\t\tconst boundsTrees = this.boundsTrees;\n\t\tconst drawInfo = this._drawInfo || this._instanceInfo;\n\t\tconst drawRanges = this._drawRanges || this._geometryInfo;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\t_mesh.material = this.material;\n\t\t_mesh.geometry = this.geometry;\n\n\t\tconst oldBoundsTree = _mesh.geometry.boundsTree;\n\t\tconst oldDrawRange = _mesh.geometry.drawRange;\n\n\t\tif ( _mesh.geometry.boundingSphere === null ) {\n\n\t\t\t_mesh.geometry.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\t// TODO: provide new method to get instances count instead of 'drawInfo.length'\n\t\tfor ( let i = 0, l = drawInfo.length; i < l; i ++ ) {\n\n\t\t\tif ( ! this.getVisibleAt( i ) ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// TODO: use getGeometryIndex\n\t\t\tconst geometryId = drawInfo[ i ].geometryIndex;\n\n\t\t\t_mesh.geometry.boundsTree = boundsTrees[ geometryId ];\n\n\t\t\tthis.getMatrixAt( i, _mesh.matrixWorld ).premultiply( matrixWorld );\n\n\t\t\tif ( ! _mesh.geometry.boundsTree ) {\n\n\t\t\t\tthis.getBoundingBoxAt( geometryId, _mesh.geometry.boundingBox );\n\t\t\t\tthis.getBoundingSphereAt( geometryId, _mesh.geometry.boundingSphere );\n\n\t\t\t\tconst drawRange = drawRanges[ geometryId ];\n\t\t\t\t_mesh.geometry.setDrawRange( drawRange.start, drawRange.count );\n\n\t\t\t}\n\n\t\t\t_mesh.raycast( raycaster, _batchIntersects );\n\n\t\t\tfor ( let j = 0, l = _batchIntersects.length; j < l; j ++ ) {\n\n\t\t\t\tconst intersect = _batchIntersects[ j ];\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersect.batchId = i;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_batchIntersects.length = 0;\n\n\t\t}\n\n\t\t_mesh.geometry.boundsTree = oldBoundsTree;\n\t\t_mesh.geometry.drawRange = oldDrawRange;\n\t\t_mesh.material = null;\n\t\t_mesh.geometry = null;\n\n\t} else {\n\n\t\torigBatchedRaycastFunc.call( this, raycaster, intersects );\n\n\t}\n\n}\n\nfunction acceleratedMeshRaycast( raycaster, intersects ) {\n\n\tif ( this.geometry.boundsTree ) {\n\n\t\tif ( this.material === undefined ) return;\n\n\t\ttmpInverseMatrix.copy( this.matrixWorld ).invert();\n\t\tray.copy( raycaster.ray ).applyMatrix4( tmpInverseMatrix );\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\t\tdirection.copy( ray.direction ).multiply( _worldScale );\n\n\t\tconst scaleFactor = direction.length();\n\t\tconst near = raycaster.near / scaleFactor;\n\t\tconst far = raycaster.far / scaleFactor;\n\n\t\tconst bvh = this.geometry.boundsTree;\n\t\tif ( raycaster.firstHitOnly === true ) {\n\n\t\t\tconst hit = convertRaycastIntersect( bvh.raycastFirst( ray, this.material, near, far ), this, raycaster );\n\t\t\tif ( hit ) {\n\n\t\t\t\tintersects.push( hit );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst hits = bvh.raycast( ray, this.material, near, far );\n\t\t\tfor ( let i = 0, l = hits.length; i < l; i ++ ) {\n\n\t\t\t\tconst hit = convertRaycastIntersect( hits[ i ], this, raycaster );\n\t\t\t\tif ( hit ) {\n\n\t\t\t\t\tintersects.push( hit );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\torigMeshRaycastFunc.call( this, raycaster, intersects );\n\n\t}\n\n}\n\nexport function computeBoundsTree( options = {} ) {\n\n\tthis.boundsTree = new MeshBVH( this, options );\n\treturn this.boundsTree;\n\n}\n\nexport function disposeBoundsTree() {\n\n\tthis.boundsTree = null;\n\n}\n\nexport function computeBatchedBoundsTree( index = - 1, options = {} ) {\n\n\tif ( ! IS_REVISION_166 ) {\n\n\t\tthrow new Error( 'BatchedMesh: Three r166+ is required to compute bounds trees.' );\n\n\t}\n\n\tif ( options.indirect ) {\n\n\t\tconsole.warn( '\"Indirect\" is set to false because it is not supported for BatchedMesh.' );\n\n\t}\n\n\toptions = {\n\t\t...options,\n\t\tindirect: false,\n\t\trange: null\n\t};\n\n\tconst drawRanges = this._drawRanges || this._geometryInfo;\n\tconst geometryCount = this._geometryCount;\n\tif ( ! this.boundsTrees ) {\n\n\t\tthis.boundsTrees = new Array( geometryCount ).fill( null );\n\n\t}\n\n\tconst boundsTrees = this.boundsTrees;\n\twhile ( boundsTrees.length < geometryCount ) {\n\n\t\tboundsTrees.push( null );\n\n\t}\n\n\tif ( index < 0 ) {\n\n\t\tfor ( let i = 0; i < geometryCount; i ++ ) {\n\n\t\t\toptions.range = drawRanges[ i ];\n\t\t\tboundsTrees[ i ] = new MeshBVH( this.geometry, options );\n\n\t\t}\n\n\t\treturn boundsTrees;\n\n\t} else {\n\n\t\tif ( index < drawRanges.length ) {\n\n\t\t\toptions.range = drawRanges[ index ];\n\t\t\tboundsTrees[ index ] = new MeshBVH( this.geometry, options );\n\n\t\t}\n\n\t\treturn boundsTrees[ index ] || null;\n\n\t}\n\n}\n\nexport function disposeBatchedBoundsTree( index = - 1 ) {\n\n\tif ( index < 0 ) {\n\n\t\tthis.boundsTrees.fill( null );\n\n\t} else {\n\n\t\tif ( index < this.boundsTree.length ) {\n\n\t\t\tthis.boundsTrees[ index ] = null;\n\n\t\t}\n\n\t}\n\n}\n", "import {\n\tDataTexture,\n\tFloatType,\n\tIntType,\n\tUnsignedIntType,\n\tByteType,\n\tUnsignedByteType,\n\tShortType,\n\tUnsignedShortType,\n\n\tRedFormat,\n\tRGFormat,\n\tRGBAFormat,\n\n\tRedIntegerFormat,\n\tRGIntegerFormat,\n\tRGBAIntegerFormat,\n\n\tNearestFilter,\n} from 'three';\n\nfunction countToStringFormat( count ) {\n\n\tswitch ( count ) {\n\n\t\tcase 1: return 'R';\n\t\tcase 2: return 'RG';\n\t\tcase 3: return 'RGBA';\n\t\tcase 4: return 'RGBA';\n\n\t}\n\n\tthrow new Error();\n\n}\n\nfunction countToFormat( count ) {\n\n\tswitch ( count ) {\n\n\t\tcase 1: return RedFormat;\n\t\tcase 2: return RGFormat;\n\t\tcase 3: return RGBAFormat;\n\t\tcase 4: return RGBAFormat;\n\n\t}\n\n}\n\nfunction countToIntFormat( count ) {\n\n\tswitch ( count ) {\n\n\t\tcase 1: return RedIntegerFormat;\n\t\tcase 2: return RGIntegerFormat;\n\t\tcase 3: return RGBAIntegerFormat;\n\t\tcase 4: return RGBAIntegerFormat;\n\n\t}\n\n}\n\nexport class VertexAttributeTexture extends DataTexture {\n\n\tconstructor() {\n\n\t\tsuper();\n\t\tthis.minFilter = NearestFilter;\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.generateMipmaps = false;\n\t\tthis.overrideItemSize = null;\n\t\tthis._forcedType = null;\n\n\t}\n\n\tupdateFrom( attr ) {\n\n\t\tconst overrideItemSize = this.overrideItemSize;\n\t\tconst originalItemSize = attr.itemSize;\n\t\tconst originalCount = attr.count;\n\t\tif ( overrideItemSize !== null ) {\n\n\t\t\tif ( ( originalItemSize * originalCount ) % overrideItemSize !== 0.0 ) {\n\n\t\t\t\tthrow new Error( 'VertexAttributeTexture: overrideItemSize must divide evenly into buffer length.' );\n\n\t\t\t}\n\n\t\t\tattr.itemSize = overrideItemSize;\n\t\t\tattr.count = originalCount * originalItemSize / overrideItemSize;\n\n\t\t}\n\n\t\tconst itemSize = attr.itemSize;\n\t\tconst count = attr.count;\n\t\tconst normalized = attr.normalized;\n\t\tconst originalBufferCons = attr.array.constructor;\n\t\tconst byteCount = originalBufferCons.BYTES_PER_ELEMENT;\n\t\tlet targetType = this._forcedType;\n\t\tlet finalStride = itemSize;\n\n\t\t// derive the type of texture this should be in the shader\n\t\tif ( targetType === null ) {\n\n\t\t\tswitch ( originalBufferCons ) {\n\n\t\t\t\tcase Float32Array:\n\t\t\t\t\ttargetType = FloatType;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Uint8Array:\n\t\t\t\tcase Uint16Array:\n\t\t\t\tcase Uint32Array:\n\t\t\t\t\ttargetType = UnsignedIntType;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Int8Array:\n\t\t\t\tcase Int16Array:\n\t\t\t\tcase Int32Array:\n\t\t\t\t\ttargetType = IntType;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// get the target format to store the texture as\n\t\tlet type, format, normalizeValue, targetBufferCons;\n\t\tlet internalFormat = countToStringFormat( itemSize );\n\t\tswitch ( targetType ) {\n\n\t\t\tcase FloatType:\n\t\t\t\tnormalizeValue = 1.0;\n\t\t\t\tformat = countToFormat( itemSize );\n\n\t\t\t\tif ( normalized && byteCount === 1 ) {\n\n\t\t\t\t\ttargetBufferCons = originalBufferCons;\n\t\t\t\t\tinternalFormat += '8';\n\n\t\t\t\t\tif ( originalBufferCons === Uint8Array ) {\n\n\t\t\t\t\t\ttype = UnsignedByteType;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttype = ByteType;\n\t\t\t\t\t\tinternalFormat += '_SNORM';\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetBufferCons = Float32Array;\n\t\t\t\t\tinternalFormat += '32F';\n\t\t\t\t\ttype = FloatType;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase IntType:\n\t\t\t\tinternalFormat += byteCount * 8 + 'I';\n\t\t\t\tnormalizeValue = normalized ? Math.pow( 2, originalBufferCons.BYTES_PER_ELEMENT * 8 - 1 ) : 1.0;\n\t\t\t\tformat = countToIntFormat( itemSize );\n\n\t\t\t\tif ( byteCount === 1 ) {\n\n\t\t\t\t\ttargetBufferCons = Int8Array;\n\t\t\t\t\ttype = ByteType;\n\n\t\t\t\t} else if ( byteCount === 2 ) {\n\n\t\t\t\t\ttargetBufferCons = Int16Array;\n\t\t\t\t\ttype = ShortType;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetBufferCons = Int32Array;\n\t\t\t\t\ttype = IntType;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase UnsignedIntType:\n\t\t\t\tinternalFormat += byteCount * 8 + 'UI';\n\t\t\t\tnormalizeValue = normalized ? Math.pow( 2, originalBufferCons.BYTES_PER_ELEMENT * 8 - 1 ) : 1.0;\n\t\t\t\tformat = countToIntFormat( itemSize );\n\n\t\t\t\tif ( byteCount === 1 ) {\n\n\t\t\t\t\ttargetBufferCons = Uint8Array;\n\t\t\t\t\ttype = UnsignedByteType;\n\n\t\t\t\t} else if ( byteCount === 2 ) {\n\n\t\t\t\t\ttargetBufferCons = Uint16Array;\n\t\t\t\t\ttype = UnsignedShortType;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetBufferCons = Uint32Array;\n\t\t\t\t\ttype = UnsignedIntType;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// there will be a mismatch between format length and final length because\n\t\t// RGBFormat and RGBIntegerFormat was removed\n\t\tif ( finalStride === 3 && ( format === RGBAFormat || format === RGBAIntegerFormat ) ) {\n\n\t\t\tfinalStride = 4;\n\n\t\t}\n\n\t\t// copy the data over to the new texture array\n\t\tconst dimension = Math.ceil( Math.sqrt( count ) ) || 1;\n\t\tconst length = finalStride * dimension * dimension;\n\t\tconst dataArray = new targetBufferCons( length );\n\n\t\t// temporarily set the normalized state to false since we have custom normalization logic\n\t\tconst originalNormalized = attr.normalized;\n\t\tattr.normalized = false;\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tconst ii = finalStride * i;\n\t\t\tdataArray[ ii ] = attr.getX( i ) / normalizeValue;\n\n\t\t\tif ( itemSize >= 2 ) {\n\n\t\t\t\tdataArray[ ii + 1 ] = attr.getY( i ) / normalizeValue;\n\n\t\t\t}\n\n\t\t\tif ( itemSize >= 3 ) {\n\n\t\t\t\tdataArray[ ii + 2 ] = attr.getZ( i ) / normalizeValue;\n\n\t\t\t\tif ( finalStride === 4 ) {\n\n\t\t\t\t\tdataArray[ ii + 3 ] = 1.0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( itemSize >= 4 ) {\n\n\t\t\t\tdataArray[ ii + 3 ] = attr.getW( i ) / normalizeValue;\n\n\t\t\t}\n\n\t\t}\n\n\t\tattr.normalized = originalNormalized;\n\n\t\tthis.internalFormat = internalFormat;\n\t\tthis.format = format;\n\t\tthis.type = type;\n\t\tthis.image.width = dimension;\n\t\tthis.image.height = dimension;\n\t\tthis.image.data = dataArray;\n\t\tthis.needsUpdate = true;\n\t\tthis.dispose();\n\n\t\tattr.itemSize = originalItemSize;\n\t\tattr.count = originalCount;\n\n\t}\n\n}\n\nexport class UIntVertexAttributeTexture extends VertexAttributeTexture {\n\n\tconstructor() {\n\n\t\tsuper();\n\t\tthis._forcedType = UnsignedIntType;\n\n\t}\n\n}\n\nexport class IntVertexAttributeTexture extends VertexAttributeTexture {\n\n\tconstructor() {\n\n\t\tsuper();\n\t\tthis._forcedType = IntType;\n\n\t}\n\n\n}\n\nexport class FloatVertexAttributeTexture extends VertexAttributeTexture {\n\n\tconstructor() {\n\n\t\tsuper();\n\t\tthis._forcedType = FloatType;\n\n\t}\n\n}\n", "import {\n\tDataTexture,\n\tFloatType,\n\tUnsignedIntType,\n\tRGBAFormat,\n\tRGIntegerFormat,\n\tNearestFilter,\n\tBufferAttribute,\n} from 'three';\nimport {\n\tFloatVertexAttributeTexture,\n\tUIntVertexAttributeTexture,\n} from './VertexAttributeTexture.js';\nimport { BYTES_PER_NODE } from '../core/Constants.js';\nimport {\n\tBOUNDING_DATA_INDEX,\n\tCOUNT,\n\tIS_LEAF,\n\tRIGHT_NODE,\n\tOFFSET,\n\tSPLIT_AXIS,\n} from '../core/utils/nodeBufferUtils.js';\nimport { getIndexArray, getVertexCount } from '../core/build/geometryUtils.js';\n\nexport class MeshBVHUniformStruct {\n\n\tconstructor() {\n\n\t\tthis.index = new UIntVertexAttributeTexture();\n\t\tthis.position = new FloatVertexAttributeTexture();\n\t\tthis.bvhBounds = new DataTexture();\n\t\tthis.bvhContents = new DataTexture();\n\t\tthis._cachedIndexAttr = null;\n\n\t\tthis.index.overrideItemSize = 3;\n\n\t}\n\n\tupdateFrom( bvh ) {\n\n\t\tconst { geometry } = bvh;\n\t\tbvhToTextures( bvh, this.bvhBounds, this.bvhContents );\n\n\t\tthis.position.updateFrom( geometry.attributes.position );\n\n\t\t// dereference a new index attribute if we're using indirect storage\n\t\tif ( bvh.indirect ) {\n\n\t\t\tconst indirectBuffer = bvh._indirectBuffer;\n\t\t\tif (\n\t\t\t\tthis._cachedIndexAttr === null ||\n\t\t\t\tthis._cachedIndexAttr.count !== indirectBuffer.length\n\t\t\t) {\n\n\t\t\t\tif ( geometry.index ) {\n\n\t\t\t\t\tthis._cachedIndexAttr = geometry.index.clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst array = getIndexArray( getVertexCount( geometry ) );\n\t\t\t\t\tthis._cachedIndexAttr = new BufferAttribute( array, 1, false );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tdereferenceIndex( geometry, indirectBuffer, this._cachedIndexAttr );\n\t\t\tthis.index.updateFrom( this._cachedIndexAttr );\n\n\t\t} else {\n\n\t\t\tthis.index.updateFrom( geometry.index );\n\n\t\t}\n\n\t}\n\n\tdispose() {\n\n\t\tconst { index, position, bvhBounds, bvhContents } = this;\n\n\t\tif ( index ) index.dispose();\n\t\tif ( position ) position.dispose();\n\t\tif ( bvhBounds ) bvhBounds.dispose();\n\t\tif ( bvhContents ) bvhContents.dispose();\n\n\t}\n\n}\n\nfunction dereferenceIndex( geometry, indirectBuffer, target ) {\n\n\tconst unpacked = target.array;\n\tconst indexArray = geometry.index ? geometry.index.array : null;\n\tfor ( let i = 0, l = indirectBuffer.length; i < l; i ++ ) {\n\n\t\tconst i3 = 3 * i;\n\t\tconst v3 = 3 * indirectBuffer[ i ];\n\t\tfor ( let c = 0; c < 3; c ++ ) {\n\n\t\t\tunpacked[ i3 + c ] = indexArray ? indexArray[ v3 + c ] : v3 + c;\n\n\t\t}\n\n\t}\n\n}\n\nfunction bvhToTextures( bvh, boundsTexture, contentsTexture ) {\n\n\tconst roots = bvh._roots;\n\n\tif ( roots.length !== 1 ) {\n\n\t\tthrow new Error( 'MeshBVHUniformStruct: Multi-root BVHs not supported.' );\n\n\t}\n\n\tconst root = roots[ 0 ];\n\tconst uint16Array = new Uint16Array( root );\n\tconst uint32Array = new Uint32Array( root );\n\tconst float32Array = new Float32Array( root );\n\n\t// Both bounds need two elements per node so compute the height so it's twice as long as\n\t// the width so we can expand the row by two and still have a square texture\n\tconst nodeCount = root.byteLength / BYTES_PER_NODE;\n\tconst boundsDimension = 2 * Math.ceil( Math.sqrt( nodeCount / 2 ) );\n\tconst boundsArray = new Float32Array( 4 * boundsDimension * boundsDimension );\n\n\tconst contentsDimension = Math.ceil( Math.sqrt( nodeCount ) );\n\tconst contentsArray = new Uint32Array( 2 * contentsDimension * contentsDimension );\n\n\tfor ( let i = 0; i < nodeCount; i ++ ) {\n\n\t\tconst nodeIndex32 = i * BYTES_PER_NODE / 4;\n\t\tconst nodeIndex16 = nodeIndex32 * 2;\n\t\tconst boundsIndex = BOUNDING_DATA_INDEX( nodeIndex32 );\n\t\tfor ( let b = 0; b < 3; b ++ ) {\n\n\t\t\tboundsArray[ 8 * i + 0 + b ] = float32Array[ boundsIndex + 0 + b ];\n\t\t\tboundsArray[ 8 * i + 4 + b ] = float32Array[ boundsIndex + 3 + b ];\n\n\t\t}\n\n\t\tif ( IS_LEAF( nodeIndex16, uint16Array ) ) {\n\n\t\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\t\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\n\t\t\tconst mergedLeafCount = 0xffff0000 | count;\n\t\t\tcontentsArray[ i * 2 + 0 ] = mergedLeafCount;\n\t\t\tcontentsArray[ i * 2 + 1 ] = offset;\n\n\t\t} else {\n\n\t\t\tconst rightIndex = 4 * RIGHT_NODE( nodeIndex32, uint32Array ) / BYTES_PER_NODE;\n\t\t\tconst splitAxis = SPLIT_AXIS( nodeIndex32, uint32Array );\n\n\t\t\tcontentsArray[ i * 2 + 0 ] = splitAxis;\n\t\t\tcontentsArray[ i * 2 + 1 ] = rightIndex;\n\n\t\t}\n\n\t}\n\n\tboundsTexture.image.data = boundsArray;\n\tboundsTexture.image.width = boundsDimension;\n\tboundsTexture.image.height = boundsDimension;\n\tboundsTexture.format = RGBAFormat;\n\tboundsTexture.type = FloatType;\n\tboundsTexture.internalFormat = 'RGBA32F';\n\tboundsTexture.minFilter = NearestFilter;\n\tboundsTexture.magFilter = NearestFilter;\n\tboundsTexture.generateMipmaps = false;\n\tboundsTexture.needsUpdate = true;\n\tboundsTexture.dispose();\n\n\tcontentsTexture.image.data = contentsArray;\n\tcontentsTexture.image.width = contentsDimension;\n\tcontentsTexture.image.height = contentsDimension;\n\tcontentsTexture.format = RGIntegerFormat;\n\tcontentsTexture.type = UnsignedIntType;\n\tcontentsTexture.internalFormat = 'RG32UI';\n\tcontentsTexture.minFilter = NearestFilter;\n\tcontentsTexture.magFilter = NearestFilter;\n\tcontentsTexture.generateMipmaps = false;\n\tcontentsTexture.needsUpdate = true;\n\tcontentsTexture.dispose();\n\n}\n", "import { BufferAttribute, BufferGeometry, Vector3, Vector4, Matrix4, Matrix3 } from 'three';\n\nconst _positionVector = /*@__PURE__*/ new Vector3();\nconst _normalVector = /*@__PURE__*/ new Vector3();\nconst _tangentVector = /*@__PURE__*/ new Vector3();\nconst _tangentVector4 = /*@__PURE__*/ new Vector4();\n\nconst _morphVector = /*@__PURE__*/ new Vector3();\nconst _temp = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\n\n// Confirms that the two provided attributes are compatible\nfunction validateAttributes( attr1, attr2 ) {\n\n\tif ( ! attr1 && ! attr2 ) {\n\n\t\treturn;\n\n\t}\n\n\tconst sameCount = attr1.count === attr2.count;\n\tconst sameNormalized = attr1.normalized === attr2.normalized;\n\tconst sameType = attr1.array.constructor === attr2.array.constructor;\n\tconst sameItemSize = attr1.itemSize === attr2.itemSize;\n\n\tif ( ! sameCount || ! sameNormalized || ! sameType || ! sameItemSize ) {\n\n\t\tthrow new Error();\n\n\t}\n\n}\n\n// Clones the given attribute with a new compatible buffer attribute but no data\nfunction createAttributeClone( attr, countOverride = null ) {\n\n\tconst cons = attr.array.constructor;\n\tconst normalized = attr.normalized;\n\tconst itemSize = attr.itemSize;\n\tconst count = countOverride === null ? attr.count : countOverride;\n\n\treturn new BufferAttribute( new cons( itemSize * count ), itemSize, normalized );\n\n}\n\n// target offset is the number of elements in the target buffer stride to skip before copying the\n// attributes contents in to.\nfunction copyAttributeContents( attr, target, targetOffset = 0 ) {\n\n\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\tconst itemSize = attr.itemSize;\n\t\tfor ( let i = 0, l = attr.count; i < l; i ++ ) {\n\n\t\t\tconst io = i + targetOffset;\n\t\t\ttarget.setX( io, attr.getX( i ) );\n\t\t\tif ( itemSize >= 2 ) target.setY( io, attr.getY( i ) );\n\t\t\tif ( itemSize >= 3 ) target.setZ( io, attr.getZ( i ) );\n\t\t\tif ( itemSize >= 4 ) target.setW( io, attr.getW( i ) );\n\n\t\t}\n\n\t} else {\n\n\t\tconst array = target.array;\n\t\tconst cons = array.constructor;\n\t\tconst byteOffset = array.BYTES_PER_ELEMENT * attr.itemSize * targetOffset;\n\t\tconst temp = new cons( array.buffer, byteOffset, attr.array.length );\n\t\ttemp.set( attr.array );\n\n\t}\n\n}\n\n// Adds the \"matrix\" multiplied by \"scale\" to \"target\"\nfunction addScaledMatrix( target, matrix, scale ) {\n\n\tconst targetArray = target.elements;\n\tconst matrixArray = matrix.elements;\n\tfor ( let i = 0, l = matrixArray.length; i < l; i ++ ) {\n\n\t\ttargetArray[ i ] += matrixArray[ i ] * scale;\n\n\t}\n\n}\n\n// A version of \"SkinnedMesh.boneTransform\" for normals\nfunction boneNormalTransform( mesh, index, target ) {\n\n\tconst skeleton = mesh.skeleton;\n\tconst geometry = mesh.geometry;\n\tconst bones = skeleton.bones;\n\tconst boneInverses = skeleton.boneInverses;\n\n\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t_matrix.elements.fill( 0 );\n\n\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\tif ( weight !== 0 ) {\n\n\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\t\t\t_boneMatrix.multiplyMatrices( bones[ boneIndex ].matrixWorld, boneInverses[ boneIndex ] );\n\n\t\t\taddScaledMatrix( _matrix, _boneMatrix, weight );\n\n\t\t}\n\n\t}\n\n\t_matrix.multiply( mesh.bindMatrix ).premultiply( mesh.bindMatrixInverse );\n\ttarget.transformDirection( _matrix );\n\n\treturn target;\n\n}\n\n// Applies the morph target data to the target vector\nfunction applyMorphTarget( morphData, morphInfluences, morphTargetsRelative, i, target ) {\n\n\t_morphVector.set( 0, 0, 0 );\n\tfor ( let j = 0, jl = morphData.length; j < jl; j ++ ) {\n\n\t\tconst influence = morphInfluences[ j ];\n\t\tconst morphAttribute = morphData[ j ];\n\n\t\tif ( influence === 0 ) continue;\n\n\t\t_temp.fromBufferAttribute( morphAttribute, i );\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\t_morphVector.addScaledVector( _temp, influence );\n\n\t\t} else {\n\n\t\t\t_morphVector.addScaledVector( _temp.sub( target ), influence );\n\n\t\t}\n\n\t}\n\n\ttarget.add( _morphVector );\n\n}\n\n// Modified version of BufferGeometryUtils.mergeBufferGeometries that ignores morph targets and updates a attributes in place\nfunction mergeBufferGeometries( geometries, options = { useGroups: false, updateIndex: false, skipAttributes: [] }, targetGeometry = new BufferGeometry() ) {\n\n\tconst isIndexed = geometries[ 0 ].index !== null;\n\tconst { useGroups = false, updateIndex = false, skipAttributes = [] } = options;\n\n\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\tconst attributes = {};\n\n\tlet offset = 0;\n\n\ttargetGeometry.clearGroups();\n\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\tconst geometry = geometries[ i ];\n\t\tlet attributesCount = 0;\n\n\t\t// ensure that all geometries are indexed, or none\n\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\tthrow new Error( 'StaticGeometryGenerator: All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\n\t\t}\n\n\t\t// gather attributes, exit early if they're different\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\tthrow new Error( 'StaticGeometryGenerator: All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\n\t\t\t}\n\n\t\t\tif ( attributes[ name ] === undefined ) {\n\n\t\t\t\tattributes[ name ] = [];\n\n\t\t\t}\n\n\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\t\t\tattributesCount ++;\n\n\t\t}\n\n\t\t// ensure geometries have the same number of attributes\n\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\tthrow new Error( 'StaticGeometryGenerator: Make sure all geometries have the same number of attributes.' );\n\n\t\t}\n\n\t\tif ( useGroups ) {\n\n\t\t\tlet count;\n\t\t\tif ( isIndexed ) {\n\n\t\t\t\tcount = geometry.index.count;\n\n\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'StaticGeometryGenerator: The geometry must have either an index or a position attribute' );\n\n\t\t\t}\n\n\t\t\ttargetGeometry.addGroup( offset, count, i );\n\t\t\toffset += count;\n\n\t\t}\n\n\t}\n\n\t// merge indices\n\tif ( isIndexed ) {\n\n\t\tlet forceUpdateIndex = false;\n\t\tif ( ! targetGeometry.index ) {\n\n\t\t\tlet indexCount = 0;\n\t\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\t\tindexCount += geometries[ i ].index.count;\n\n\t\t\t}\n\n\t\t\ttargetGeometry.setIndex( new BufferAttribute( new Uint32Array( indexCount ), 1, false ) );\n\t\t\tforceUpdateIndex = true;\n\n\t\t}\n\n\t\tif ( updateIndex || forceUpdateIndex ) {\n\n\t\t\tconst targetIndex = targetGeometry.index;\n\t\t\tlet targetOffset = 0;\n\t\t\tlet indexOffset = 0;\n\t\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst index = geometry.index;\n\t\t\t\tif ( skipAttributes[ i ] !== true ) {\n\n\t\t\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\t\t\ttargetIndex.setX( targetOffset, index.getX( j ) + indexOffset );\n\t\t\t\t\t\ttargetOffset ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tindexOffset += geometry.attributes.position.count;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// merge attributes\n\tfor ( const name in attributes ) {\n\n\t\tconst attrList = attributes[ name ];\n\t\tif ( ! ( name in targetGeometry.attributes ) ) {\n\n\t\t\tlet count = 0;\n\t\t\tfor ( const key in attrList ) {\n\n\t\t\t\tcount += attrList[ key ].count;\n\n\t\t\t}\n\n\t\t\ttargetGeometry.setAttribute( name, createAttributeClone( attributes[ name ][ 0 ], count ) );\n\n\t\t}\n\n\t\tconst targetAttribute = targetGeometry.attributes[ name ];\n\t\tlet offset = 0;\n\t\tfor ( let i = 0, l = attrList.length; i < l; i ++ ) {\n\n\t\t\tconst attr = attrList[ i ];\n\t\t\tif ( skipAttributes[ i ] !== true ) {\n\n\t\t\t\tcopyAttributeContents( attr, targetAttribute, offset );\n\n\t\t\t}\n\n\t\t\toffset += attr.count;\n\n\t\t}\n\n\t}\n\n\treturn targetGeometry;\n\n}\n\nfunction checkTypedArrayEquality( a, b ) {\n\n\tif ( a === null || b === null ) {\n\n\t\treturn a === b;\n\n\t}\n\n\tif ( a.length !== b.length ) {\n\n\t\treturn false;\n\n\t}\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nfunction invertGeometry( geometry ) {\n\n\tconst { index, attributes } = geometry;\n\tif ( index ) {\n\n\t\tfor ( let i = 0, l = index.count; i < l; i += 3 ) {\n\n\t\t\tconst v0 = index.getX( i );\n\t\t\tconst v2 = index.getX( i + 2 );\n\t\t\tindex.setX( i, v2 );\n\t\t\tindex.setX( i + 2, v0 );\n\n\t\t}\n\n\t} else {\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attr = attributes[ key ];\n\t\t\tconst itemSize = attr.itemSize;\n\t\t\tfor ( let i = 0, l = attr.count; i < l; i += 3 ) {\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tconst v0 = attr.getComponent( i, j );\n\t\t\t\t\tconst v2 = attr.getComponent( i + 2, j );\n\t\t\t\t\tattr.setComponent( i, j, v2 );\n\t\t\t\t\tattr.setComponent( i + 2, j, v0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn geometry;\n\n\n}\n\n// Checks whether the geometry changed between this and last evaluation\nclass GeometryDiff {\n\n\tconstructor( mesh ) {\n\n\t\tthis.matrixWorld = new Matrix4();\n\t\tthis.geometryHash = null;\n\t\tthis.boneMatrices = null;\n\t\tthis.primitiveCount = - 1;\n\t\tthis.mesh = mesh;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.mesh;\n\t\tconst geometry = mesh.geometry;\n\t\tconst skeleton = mesh.skeleton;\n\t\tconst primitiveCount = ( geometry.index ? geometry.index.count : geometry.attributes.position.count ) / 3;\n\t\tthis.matrixWorld.copy( mesh.matrixWorld );\n\t\tthis.geometryHash = geometry.attributes.position.version;\n\t\tthis.primitiveCount = primitiveCount;\n\n\t\tif ( skeleton ) {\n\n\t\t\t// ensure the bone matrix array is updated to the appropriate length\n\t\t\tif ( ! skeleton.boneTexture ) {\n\n\t\t\t\tskeleton.computeBoneTexture();\n\n\t\t\t}\n\n\t\t\tskeleton.update();\n\n\t\t\t// copy data if possible otherwise clone it\n\t\t\tconst boneMatrices = skeleton.boneMatrices;\n\t\t\tif ( ! this.boneMatrices || this.boneMatrices.length !== boneMatrices.length ) {\n\n\t\t\t\tthis.boneMatrices = boneMatrices.slice();\n\n\t\t\t} else {\n\n\t\t\t\tthis.boneMatrices.set( boneMatrices );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boneMatrices = null;\n\n\t\t}\n\n\t}\n\n\tdidChange() {\n\n\t\tconst mesh = this.mesh;\n\t\tconst geometry = mesh.geometry;\n\t\tconst primitiveCount = ( geometry.index ? geometry.index.count : geometry.attributes.position.count ) / 3;\n\t\tconst identical =\n\t\t\tthis.matrixWorld.equals( mesh.matrixWorld ) &&\n\t\t\tthis.geometryHash === geometry.attributes.position.version &&\n\t\t\tcheckTypedArrayEquality( mesh.skeleton && mesh.skeleton.boneMatrices || null, this.boneMatrices ) &&\n\t\t\tthis.primitiveCount === primitiveCount;\n\n\t\treturn ! identical;\n\n\t}\n\n}\n\nexport class StaticGeometryGenerator {\n\n\tconstructor( meshes ) {\n\n\t\tif ( ! Array.isArray( meshes ) ) {\n\n\t\t\tmeshes = [ meshes ];\n\n\t\t}\n\n\t\tconst finalMeshes = [];\n\t\tmeshes.forEach( object => {\n\n\t\t\tobject.traverseVisible( c => {\n\n\t\t\t\tif ( c.isMesh ) {\n\n\t\t\t\t\tfinalMeshes.push( c );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t\tthis.meshes = finalMeshes;\n\t\tthis.useGroups = true;\n\t\tthis.applyWorldTransforms = true;\n\t\tthis.attributes = [ 'position', 'normal', 'color', 'tangent', 'uv', 'uv2' ];\n\t\tthis._intermediateGeometry = new Array( finalMeshes.length ).fill().map( () => new BufferGeometry() );\n\t\tthis._diffMap = new WeakMap();\n\n\t}\n\n\tgetMaterials() {\n\n\t\tconst materials = [];\n\t\tthis.meshes.forEach( mesh => {\n\n\t\t\tif ( Array.isArray( mesh.material ) ) {\n\n\t\t\t\tmaterials.push( ...mesh.material );\n\n\t\t\t} else {\n\n\t\t\t\tmaterials.push( mesh.material );\n\n\t\t\t}\n\n\t\t} );\n\t\treturn materials;\n\n\t}\n\n\tgenerate( targetGeometry = new BufferGeometry() ) {\n\n\t\t// track which attributes have been updated and which to skip to avoid unnecessary attribute copies\n\t\tlet skipAttributes = [];\n\t\tconst { meshes, useGroups, _intermediateGeometry, _diffMap } = this;\n\t\tfor ( let i = 0, l = meshes.length; i < l; i ++ ) {\n\n\t\t\tconst mesh = meshes[ i ];\n\t\t\tconst geom = _intermediateGeometry[ i ];\n\t\t\tconst diff = _diffMap.get( mesh );\n\t\t\tif ( ! diff || diff.didChange( mesh ) ) {\n\n\t\t\t\tthis._convertToStaticGeometry( mesh, geom );\n\t\t\t\tskipAttributes.push( false );\n\n\t\t\t\tif ( ! diff ) {\n\n\t\t\t\t\t_diffMap.set( mesh, new GeometryDiff( mesh ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdiff.update();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tskipAttributes.push( true );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( _intermediateGeometry.length === 0 ) {\n\n\t\t\t// if there are no geometries then just create a fake empty geometry to provide\n\t\t\ttargetGeometry.setIndex( null );\n\n\t\t\t// remove all geometry\n\t\t\tconst attrs = targetGeometry.attributes;\n\t\t\tfor ( const key in attrs ) {\n\n\t\t\t\ttargetGeometry.deleteAttribute( key );\n\n\t\t\t}\n\n\t\t\t// create dummy attributes\n\t\t\tfor ( const key in this.attributes ) {\n\n\t\t\t\ttargetGeometry.setAttribute( this.attributes[ key ], new BufferAttribute( new Float32Array( 0 ), 4, false ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tmergeBufferGeometries( _intermediateGeometry, { useGroups, skipAttributes }, targetGeometry );\n\n\t\t}\n\n\t\tfor ( const key in targetGeometry.attributes ) {\n\n\t\t\ttargetGeometry.attributes[ key ].needsUpdate = true;\n\n\t\t}\n\n\t\treturn targetGeometry;\n\n\t}\n\n\t_convertToStaticGeometry( mesh, targetGeometry = new BufferGeometry() ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tconst applyWorldTransforms = this.applyWorldTransforms;\n\t\tconst includeNormal = this.attributes.includes( 'normal' );\n\t\tconst includeTangent = this.attributes.includes( 'tangent' );\n\t\tconst attributes = geometry.attributes;\n\t\tconst targetAttributes = targetGeometry.attributes;\n\n\t\t// initialize the attributes if they don't exist\n\t\tif ( ! targetGeometry.index && geometry.index ) {\n\n\t\t\ttargetGeometry.index = geometry.index.clone();\n\n\t\t}\n\n\t\tif ( ! targetAttributes.position ) {\n\n\t\t\ttargetGeometry.setAttribute( 'position', createAttributeClone( attributes.position ) );\n\n\t\t}\n\n\t\tif ( includeNormal && ! targetAttributes.normal && attributes.normal ) {\n\n\t\t\ttargetGeometry.setAttribute( 'normal', createAttributeClone( attributes.normal ) );\n\n\t\t}\n\n\t\tif ( includeTangent && ! targetAttributes.tangent && attributes.tangent ) {\n\n\t\t\ttargetGeometry.setAttribute( 'tangent', createAttributeClone( attributes.tangent ) );\n\n\t\t}\n\n\t\t// ensure the attributes are consistent\n\t\tvalidateAttributes( geometry.index, targetGeometry.index );\n\t\tvalidateAttributes( attributes.position, targetAttributes.position );\n\n\t\tif ( includeNormal ) {\n\n\t\t\tvalidateAttributes( attributes.normal, targetAttributes.normal );\n\n\t\t}\n\n\t\tif ( includeTangent ) {\n\n\t\t\tvalidateAttributes( attributes.tangent, targetAttributes.tangent );\n\n\t\t}\n\n\t\t// generate transformed vertex attribute data\n\t\tconst position = attributes.position;\n\t\tconst normal = includeNormal ? attributes.normal : null;\n\t\tconst tangent = includeTangent ? attributes.tangent : null;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphNormal = geometry.morphAttributes.normal;\n\t\tconst morphTangent = geometry.morphAttributes.tangent;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\tconst morphInfluences = mesh.morphTargetInfluences;\n\t\tconst normalMatrix = new Matrix3();\n\t\tnormalMatrix.getNormalMatrix( mesh.matrixWorld );\n\n\t\t// copy the index\n\t\tif ( geometry.index ) {\n\n\t\t\ttargetGeometry.index.array.set( geometry.index.array );\n\n\t\t}\n\n\t\t// copy and apply other attributes\n\t\tfor ( let i = 0, l = attributes.position.count; i < l; i ++ ) {\n\n\t\t\t_positionVector.fromBufferAttribute( position, i );\n\t\t\tif ( normal ) {\n\n\t\t\t\t_normalVector.fromBufferAttribute( normal, i );\n\n\t\t\t}\n\n\t\t\tif ( tangent ) {\n\n\t\t\t\t_tangentVector4.fromBufferAttribute( tangent, i );\n\t\t\t\t_tangentVector.fromBufferAttribute( tangent, i );\n\n\t\t\t}\n\n\t\t\t// apply morph target transform\n\t\t\tif ( morphInfluences ) {\n\n\t\t\t\tif ( morphPosition ) {\n\n\t\t\t\t\tapplyMorphTarget( morphPosition, morphInfluences, morphTargetsRelative, i, _positionVector );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormal ) {\n\n\t\t\t\t\tapplyMorphTarget( morphNormal, morphInfluences, morphTargetsRelative, i, _normalVector );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphTangent ) {\n\n\t\t\t\t\tapplyMorphTarget( morphTangent, morphInfluences, morphTargetsRelative, i, _tangentVector );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// apply bone transform\n\t\t\tif ( mesh.isSkinnedMesh ) {\n\n\t\t\t\tmesh.applyBoneTransform( i, _positionVector );\n\t\t\t\tif ( normal ) {\n\n\t\t\t\t\tboneNormalTransform( mesh, i, _normalVector );\n\n\t\t\t\t}\n\n\t\t\t\tif ( tangent ) {\n\n\t\t\t\t\tboneNormalTransform( mesh, i, _tangentVector );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// update the vectors of the attributes\n\t\t\tif ( applyWorldTransforms ) {\n\n\t\t\t\t_positionVector.applyMatrix4( mesh.matrixWorld );\n\n\t\t\t}\n\n\t\t\ttargetAttributes.position.setXYZ( i, _positionVector.x, _positionVector.y, _positionVector.z );\n\n\t\t\tif ( normal ) {\n\n\t\t\t\tif ( applyWorldTransforms ) {\n\n\t\t\t\t\t_normalVector.applyNormalMatrix( normalMatrix );\n\n\t\t\t\t}\n\n\t\t\t\ttargetAttributes.normal.setXYZ( i, _normalVector.x, _normalVector.y, _normalVector.z );\n\n\t\t\t}\n\n\t\t\tif ( tangent ) {\n\n\t\t\t\tif ( applyWorldTransforms ) {\n\n\t\t\t\t\t_tangentVector.transformDirection( mesh.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\ttargetAttributes.tangent.setXYZW( i, _tangentVector.x, _tangentVector.y, _tangentVector.z, _tangentVector4.w );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// copy other attributes over\n\t\tfor ( const i in this.attributes ) {\n\n\t\t\tconst key = this.attributes[ i ];\n\t\t\tif ( key === 'position' || key === 'tangent' || key === 'normal' || ! ( key in attributes ) ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( ! targetAttributes[ key ] ) {\n\n\t\t\t\ttargetGeometry.setAttribute( key, createAttributeClone( attributes[ key ] ) );\n\n\t\t\t}\n\n\t\t\tvalidateAttributes( attributes[ key ], targetAttributes[ key ] );\n\t\t\tcopyAttributeContents( attributes[ key ], targetAttributes[ key ] );\n\n\t\t}\n\n\t\tif ( mesh.matrixWorld.determinant() < 0 ) {\n\n\t\t\tinvertGeometry( targetGeometry );\n\n\t\t}\n\n\t\treturn targetGeometry;\n\n\t}\n\n}\n", "export * from './glsl/common_functions.glsl.js';\nexport * from './glsl/bvh_distance_functions.glsl.js';\nexport * from './glsl/bvh_ray_functions.glsl.js';\nexport * from './glsl/bvh_struct_definitions.glsl.js';\n", "export const common_functions = /* glsl */`\n\n// A stack of uint32 indices can can store the indices for\n// a perfectly balanced tree with a depth up to 31. Lower stack\n// depth gets higher performance.\n//\n// However not all trees are balanced. Best value to set this to\n// is the trees max depth.\n#ifndef BVH_STACK_DEPTH\n#define BVH_STACK_DEPTH 60\n#endif\n\n#ifndef INFINITY\n#define INFINITY 1e20\n#endif\n\n// Utilities\nuvec4 uTexelFetch1D( usampler2D tex, uint index ) {\n\n\tuint width = uint( textureSize( tex, 0 ).x );\n\tuvec2 uv;\n\tuv.x = index % width;\n\tuv.y = index / width;\n\n\treturn texelFetch( tex, ivec2( uv ), 0 );\n\n}\n\nivec4 iTexelFetch1D( isampler2D tex, uint index ) {\n\n\tuint width = uint( textureSize( tex, 0 ).x );\n\tuvec2 uv;\n\tuv.x = index % width;\n\tuv.y = index / width;\n\n\treturn texelFetch( tex, ivec2( uv ), 0 );\n\n}\n\nvec4 texelFetch1D( sampler2D tex, uint index ) {\n\n\tuint width = uint( textureSize( tex, 0 ).x );\n\tuvec2 uv;\n\tuv.x = index % width;\n\tuv.y = index / width;\n\n\treturn texelFetch( tex, ivec2( uv ), 0 );\n\n}\n\nvec4 textureSampleBarycoord( sampler2D tex, vec3 barycoord, uvec3 faceIndices ) {\n\n\treturn\n\t\tbarycoord.x * texelFetch1D( tex, faceIndices.x ) +\n\t\tbarycoord.y * texelFetch1D( tex, faceIndices.y ) +\n\t\tbarycoord.z * texelFetch1D( tex, faceIndices.z );\n\n}\n\nvoid ndcToCameraRay(\n\tvec2 coord, mat4 cameraWorld, mat4 invProjectionMatrix,\n\tout vec3 rayOrigin, out vec3 rayDirection\n) {\n\n\t// get camera look direction and near plane for camera clipping\n\tvec4 lookDirection = cameraWorld * vec4( 0.0, 0.0, - 1.0, 0.0 );\n\tvec4 nearVector = invProjectionMatrix * vec4( 0.0, 0.0, - 1.0, 1.0 );\n\tfloat near = abs( nearVector.z / nearVector.w );\n\n\t// get the camera direction and position from camera matrices\n\tvec4 origin = cameraWorld * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec4 direction = invProjectionMatrix * vec4( coord, 0.5, 1.0 );\n\tdirection /= direction.w;\n\tdirection = cameraWorld * direction - origin;\n\n\t// slide the origin along the ray until it sits at the near clip plane position\n\torigin.xyz += direction.xyz * near / dot( direction, lookDirection );\n\n\trayOrigin = origin.xyz;\n\trayDirection = direction.xyz;\n\n}\n`;\n", "// Distance to Point\nexport const bvh_distance_functions = /* glsl */`\n\nfloat dot2( vec3 v ) {\n\n\treturn dot( v, v );\n\n}\n\n// https://www.shadertoy.com/view/ttfGWl\nvec3 closestPointToTriangle( vec3 p, vec3 v0, vec3 v1, vec3 v2, out vec3 barycoord ) {\n\n    vec3 v10 = v1 - v0;\n    vec3 v21 = v2 - v1;\n    vec3 v02 = v0 - v2;\n\n\tvec3 p0 = p - v0;\n\tvec3 p1 = p - v1;\n\tvec3 p2 = p - v2;\n\n    vec3 nor = cross( v10, v02 );\n\n    // method 2, in barycentric space\n    vec3  q = cross( nor, p0 );\n    float d = 1.0 / dot2( nor );\n    float u = d * dot( q, v02 );\n    float v = d * dot( q, v10 );\n    float w = 1.0 - u - v;\n\n\tif( u < 0.0 ) {\n\n\t\tw = clamp( dot( p2, v02 ) / dot2( v02 ), 0.0, 1.0 );\n\t\tu = 0.0;\n\t\tv = 1.0 - w;\n\n\t} else if( v < 0.0 ) {\n\n\t\tu = clamp( dot( p0, v10 ) / dot2( v10 ), 0.0, 1.0 );\n\t\tv = 0.0;\n\t\tw = 1.0 - u;\n\n\t} else if( w < 0.0 ) {\n\n\t\tv = clamp( dot( p1, v21 ) / dot2( v21 ), 0.0, 1.0 );\n\t\tw = 0.0;\n\t\tu = 1.0-v;\n\n\t}\n\n\tbarycoord = vec3( u, v, w );\n    return u * v1 + v * v2 + w * v0;\n\n}\n\nfloat distanceToTriangles(\n\t// geometry info and triangle range\n\tsampler2D positionAttr, usampler2D indexAttr, uint offset, uint count,\n\n\t// point and cut off range\n\tvec3 point, float closestDistanceSquared,\n\n\t// outputs\n\tinout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord, inout float side, inout vec3 outPoint\n) {\n\n\tbool found = false;\n\tvec3 localBarycoord;\n\tfor ( uint i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\tuvec3 indices = uTexelFetch1D( indexAttr, i ).xyz;\n\t\tvec3 a = texelFetch1D( positionAttr, indices.x ).rgb;\n\t\tvec3 b = texelFetch1D( positionAttr, indices.y ).rgb;\n\t\tvec3 c = texelFetch1D( positionAttr, indices.z ).rgb;\n\n\t\t// get the closest point and barycoord\n\t\tvec3 closestPoint = closestPointToTriangle( point, a, b, c, localBarycoord );\n\t\tvec3 delta = point - closestPoint;\n\t\tfloat sqDist = dot2( delta );\n\t\tif ( sqDist < closestDistanceSquared ) {\n\n\t\t\t// set the output results\n\t\t\tclosestDistanceSquared = sqDist;\n\t\t\tfaceIndices = uvec4( indices.xyz, i );\n\t\t\tfaceNormal = normalize( cross( a - b, b - c ) );\n\t\t\tbarycoord = localBarycoord;\n\t\t\toutPoint = closestPoint;\n\t\t\tside = sign( dot( faceNormal, delta ) );\n\n\t\t}\n\n\t}\n\n\treturn closestDistanceSquared;\n\n}\n\nfloat distanceSqToBounds( vec3 point, vec3 boundsMin, vec3 boundsMax ) {\n\n\tvec3 clampedPoint = clamp( point, boundsMin, boundsMax );\n\tvec3 delta = point - clampedPoint;\n\treturn dot( delta, delta );\n\n}\n\nfloat distanceSqToBVHNodeBoundsPoint( vec3 point, sampler2D bvhBounds, uint currNodeIndex ) {\n\n\tuint cni2 = currNodeIndex * 2u;\n\tvec3 boundsMin = texelFetch1D( bvhBounds, cni2 ).xyz;\n\tvec3 boundsMax = texelFetch1D( bvhBounds, cni2 + 1u ).xyz;\n\treturn distanceSqToBounds( point, boundsMin, boundsMax );\n\n}\n\n// use a macro to hide the fact that we need to expand the struct into separate fields\n#define\\\n\tbvhClosestPointToPoint(\\\n\t\tbvh,\\\n\t\tpoint, faceIndices, faceNormal, barycoord, side, outPoint\\\n\t)\\\n\t_bvhClosestPointToPoint(\\\n\t\tbvh.position, bvh.index, bvh.bvhBounds, bvh.bvhContents,\\\n\t\tpoint, faceIndices, faceNormal, barycoord, side, outPoint\\\n\t)\n\nfloat _bvhClosestPointToPoint(\n\t// bvh info\n\tsampler2D bvh_position, usampler2D bvh_index, sampler2D bvh_bvhBounds, usampler2D bvh_bvhContents,\n\n\t// point to check\n\tvec3 point,\n\n\t// output variables\n\tinout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,\n\tinout float side, inout vec3 outPoint\n ) {\n\n\t// stack needs to be twice as long as the deepest tree we expect because\n\t// we push both the left and right child onto the stack every traversal\n\tint ptr = 0;\n\tuint stack[ BVH_STACK_DEPTH ];\n\tstack[ 0 ] = 0u;\n\n\tfloat closestDistanceSquared = pow( 100000.0, 2.0 );\n\tbool found = false;\n\twhile ( ptr > - 1 && ptr < BVH_STACK_DEPTH ) {\n\n\t\tuint currNodeIndex = stack[ ptr ];\n\t\tptr --;\n\n\t\t// check if we intersect the current bounds\n\t\tfloat boundsHitDistance = distanceSqToBVHNodeBoundsPoint( point, bvh_bvhBounds, currNodeIndex );\n\t\tif ( boundsHitDistance > closestDistanceSquared ) {\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tuvec2 boundsInfo = uTexelFetch1D( bvh_bvhContents, currNodeIndex ).xy;\n\t\tbool isLeaf = bool( boundsInfo.x & 0xffff0000u );\n\t\tif ( isLeaf ) {\n\n\t\t\tuint count = boundsInfo.x & 0x0000ffffu;\n\t\t\tuint offset = boundsInfo.y;\n\t\t\tclosestDistanceSquared = distanceToTriangles(\n\t\t\t\tbvh_position, bvh_index, offset, count, point, closestDistanceSquared,\n\n\t\t\t\t// outputs\n\t\t\t\tfaceIndices, faceNormal, barycoord, side, outPoint\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tuint leftIndex = currNodeIndex + 1u;\n\t\t\tuint splitAxis = boundsInfo.x & 0x0000ffffu;\n\t\t\tuint rightIndex = boundsInfo.y;\n\t\t\tbool leftToRight = distanceSqToBVHNodeBoundsPoint( point, bvh_bvhBounds, leftIndex ) < distanceSqToBVHNodeBoundsPoint( point, bvh_bvhBounds, rightIndex );//rayDirection[ splitAxis ] >= 0.0;\n\t\t\tuint c1 = leftToRight ? leftIndex : rightIndex;\n\t\t\tuint c2 = leftToRight ? rightIndex : leftIndex;\n\n\t\t\t// set c2 in the stack so we traverse it later. We need to keep track of a pointer in\n\t\t\t// the stack while we traverse. The second pointer added is the one that will be\n\t\t\t// traversed first\n\t\t\tptr ++;\n\t\t\tstack[ ptr ] = c2;\n\t\t\tptr ++;\n\t\t\tstack[ ptr ] = c1;\n\n\t\t}\n\n\t}\n\n\treturn sqrt( closestDistanceSquared );\n\n}\n`;\n", "export const bvh_ray_functions = /* glsl */`\n\n#ifndef TRI_INTERSECT_EPSILON\n#define TRI_INTERSECT_EPSILON 1e-5\n#endif\n\n// Raycasting\nbool intersectsBounds( vec3 rayOrigin, vec3 rayDirection, vec3 boundsMin, vec3 boundsMax, out float dist ) {\n\n\t// https://www.reddit.com/r/opengl/comments/8ntzz5/fast_glsl_ray_box_intersection/\n\t// https://tavianator.com/2011/ray_box.html\n\tvec3 invDir = 1.0 / rayDirection;\n\n\t// find intersection distances for each plane\n\tvec3 tMinPlane = invDir * ( boundsMin - rayOrigin );\n\tvec3 tMaxPlane = invDir * ( boundsMax - rayOrigin );\n\n\t// get the min and max distances from each intersection\n\tvec3 tMinHit = min( tMaxPlane, tMinPlane );\n\tvec3 tMaxHit = max( tMaxPlane, tMinPlane );\n\n\t// get the furthest hit distance\n\tvec2 t = max( tMinHit.xx, tMinHit.yz );\n\tfloat t0 = max( t.x, t.y );\n\n\t// get the minimum hit distance\n\tt = min( tMaxHit.xx, tMaxHit.yz );\n\tfloat t1 = min( t.x, t.y );\n\n\t// set distance to 0.0 if the ray starts inside the box\n\tdist = max( t0, 0.0 );\n\n\treturn t1 >= dist;\n\n}\n\nbool intersectsTriangle(\n\tvec3 rayOrigin, vec3 rayDirection, vec3 a, vec3 b, vec3 c,\n\tout vec3 barycoord, out vec3 norm, out float dist, out float side\n) {\n\n\t// https://stackoverflow.com/questions/42740765/intersection-between-line-and-triangle-in-3d\n\tvec3 edge1 = b - a;\n\tvec3 edge2 = c - a;\n\tnorm = cross( edge1, edge2 );\n\n\tfloat det = - dot( rayDirection, norm );\n\tfloat invdet = 1.0 / det;\n\n\tvec3 AO = rayOrigin - a;\n\tvec3 DAO = cross( AO, rayDirection );\n\n\tvec4 uvt;\n\tuvt.x = dot( edge2, DAO ) * invdet;\n\tuvt.y = - dot( edge1, DAO ) * invdet;\n\tuvt.z = dot( AO, norm ) * invdet;\n\tuvt.w = 1.0 - uvt.x - uvt.y;\n\n\t// set the hit information\n\tbarycoord = uvt.wxy; // arranged in A, B, C order\n\tdist = uvt.z;\n\tside = sign( det );\n\tnorm = side * normalize( norm );\n\n\t// add an epsilon to avoid misses between triangles\n\tuvt += vec4( TRI_INTERSECT_EPSILON );\n\n\treturn all( greaterThanEqual( uvt, vec4( 0.0 ) ) );\n\n}\n\nbool intersectTriangles(\n\t// geometry info and triangle range\n\tsampler2D positionAttr, usampler2D indexAttr, uint offset, uint count,\n\n\t// ray\n\tvec3 rayOrigin, vec3 rayDirection,\n\n\t// outputs\n\tinout float minDistance, inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,\n\tinout float side, inout float dist\n) {\n\n\tbool found = false;\n\tvec3 localBarycoord, localNormal;\n\tfloat localDist, localSide;\n\tfor ( uint i = offset, l = offset + count; i < l; i ++ ) {\n\n\t\tuvec3 indices = uTexelFetch1D( indexAttr, i ).xyz;\n\t\tvec3 a = texelFetch1D( positionAttr, indices.x ).rgb;\n\t\tvec3 b = texelFetch1D( positionAttr, indices.y ).rgb;\n\t\tvec3 c = texelFetch1D( positionAttr, indices.z ).rgb;\n\n\t\tif (\n\t\t\tintersectsTriangle( rayOrigin, rayDirection, a, b, c, localBarycoord, localNormal, localDist, localSide )\n\t\t\t&& localDist < minDistance\n\t\t) {\n\n\t\t\tfound = true;\n\t\t\tminDistance = localDist;\n\n\t\t\tfaceIndices = uvec4( indices.xyz, i );\n\t\t\tfaceNormal = localNormal;\n\n\t\t\tside = localSide;\n\t\t\tbarycoord = localBarycoord;\n\t\t\tdist = localDist;\n\n\t\t}\n\n\t}\n\n\treturn found;\n\n}\n\nbool intersectsBVHNodeBounds( vec3 rayOrigin, vec3 rayDirection, sampler2D bvhBounds, uint currNodeIndex, out float dist ) {\n\n\tuint cni2 = currNodeIndex * 2u;\n\tvec3 boundsMin = texelFetch1D( bvhBounds, cni2 ).xyz;\n\tvec3 boundsMax = texelFetch1D( bvhBounds, cni2 + 1u ).xyz;\n\treturn intersectsBounds( rayOrigin, rayDirection, boundsMin, boundsMax, dist );\n\n}\n\n// use a macro to hide the fact that we need to expand the struct into separate fields\n#define\\\n\tbvhIntersectFirstHit(\\\n\t\tbvh,\\\n\t\trayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist\\\n\t)\\\n\t_bvhIntersectFirstHit(\\\n\t\tbvh.position, bvh.index, bvh.bvhBounds, bvh.bvhContents,\\\n\t\trayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist\\\n\t)\n\nbool _bvhIntersectFirstHit(\n\t// bvh info\n\tsampler2D bvh_position, usampler2D bvh_index, sampler2D bvh_bvhBounds, usampler2D bvh_bvhContents,\n\n\t// ray\n\tvec3 rayOrigin, vec3 rayDirection,\n\n\t// output variables split into separate variables due to output precision\n\tinout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,\n\tinout float side, inout float dist\n) {\n\n\t// stack needs to be twice as long as the deepest tree we expect because\n\t// we push both the left and right child onto the stack every traversal\n\tint ptr = 0;\n\tuint stack[ BVH_STACK_DEPTH ];\n\tstack[ 0 ] = 0u;\n\n\tfloat triangleDistance = INFINITY;\n\tbool found = false;\n\twhile ( ptr > - 1 && ptr < BVH_STACK_DEPTH ) {\n\n\t\tuint currNodeIndex = stack[ ptr ];\n\t\tptr --;\n\n\t\t// check if we intersect the current bounds\n\t\tfloat boundsHitDistance;\n\t\tif (\n\t\t\t! intersectsBVHNodeBounds( rayOrigin, rayDirection, bvh_bvhBounds, currNodeIndex, boundsHitDistance )\n\t\t\t|| boundsHitDistance > triangleDistance\n\t\t) {\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tuvec2 boundsInfo = uTexelFetch1D( bvh_bvhContents, currNodeIndex ).xy;\n\t\tbool isLeaf = bool( boundsInfo.x & 0xffff0000u );\n\n\t\tif ( isLeaf ) {\n\n\t\t\tuint count = boundsInfo.x & 0x0000ffffu;\n\t\t\tuint offset = boundsInfo.y;\n\n\t\t\tfound = intersectTriangles(\n\t\t\t\tbvh_position, bvh_index, offset, count,\n\t\t\t\trayOrigin, rayDirection, triangleDistance,\n\t\t\t\tfaceIndices, faceNormal, barycoord, side, dist\n\t\t\t) || found;\n\n\t\t} else {\n\n\t\t\tuint leftIndex = currNodeIndex + 1u;\n\t\t\tuint splitAxis = boundsInfo.x & 0x0000ffffu;\n\t\t\tuint rightIndex = boundsInfo.y;\n\n\t\t\tbool leftToRight = rayDirection[ splitAxis ] >= 0.0;\n\t\t\tuint c1 = leftToRight ? leftIndex : rightIndex;\n\t\t\tuint c2 = leftToRight ? rightIndex : leftIndex;\n\n\t\t\t// set c2 in the stack so we traverse it later. We need to keep track of a pointer in\n\t\t\t// the stack while we traverse. The second pointer added is the one that will be\n\t\t\t// traversed first\n\t\t\tptr ++;\n\t\t\tstack[ ptr ] = c2;\n\n\t\t\tptr ++;\n\t\t\tstack[ ptr ] = c1;\n\n\t\t}\n\n\t}\n\n\treturn found;\n\n}\n`;\n", "// Note that a struct cannot be used for the hit record including faceIndices, faceNormal, barycoord,\n// side, and dist because on some mobile GPUS (such as Adreno) numbers are afforded less precision specifically\n// when in a struct leading to inaccurate hit results. See KhronosGroup/WebGL#3351 for more details.\nexport const bvh_struct_definitions = /* glsl */`\nstruct BVH {\n\n\tusampler2D index;\n\tsampler2D position;\n\n\tsampler2D bvhBounds;\n\tusampler2D bvhContents;\n\n};\n`;\n", "export { MeshBVH } from './core/MeshBVH.js';\nexport { MeshBVHHelper } from './objects/MeshBVHHelper.js';\nexport { CENTER, AVERAGE, SAH, NOT_INTERSECTED, INTERSECTED, CONTAINED } from './core/Constants.js';\nexport { getBVHExtremes, estimateMemoryInBytes, getJSONStructure, validateBounds } from './debug/Debug.js';\nexport * from './utils/ExtensionUtilities.js';\nexport { getTriangleHitPointInfo } from './utils/TriangleUtilities.js';\nexport * from './math/ExtendedTriangle.js';\nexport * from './math/OrientedBox.js';\nexport * from './gpu/MeshBVHUniformStruct.js';\nexport * from './gpu/VertexAttributeTexture.js';\nexport * from './utils/StaticGeometryGenerator.js';\nexport * as BVHShaderGLSL from './gpu/BVHShaderGLSL.js';\n\n// backwards compatibility\nimport * as BVHShaderGLSL from './gpu/BVHShaderGLSL.js';\nexport const shaderStructs = BVHShaderGLSL.bvh_struct_definitions;\nexport const shaderDistanceFunction = BVHShaderGLSL.bvh_distance_functions;\nexport const shaderIntersectFunction = `\n\t${ BVHShaderGLSL.common_functions }\n\t${ BVHShaderGLSL.bvh_ray_functions }\n`;\n", "import * as React from 'react';\n\n/* eslint-disable react-hooks/rules-of-hooks */\nfunction useContextBridge(...contexts) {\n  const cRef = React.useRef([]);\n  cRef.current = contexts.map(context => React.useContext(context));\n  return React.useMemo(() => ({\n    children\n  }) => contexts.reduceRight((acc, Context, i) => /*#__PURE__*/React.createElement(Context.Provider, {\n    value: cRef.current[i],\n    children: acc\n  }), children\n  /*\n   * done this way in reference to:\n   * https://github.com/DefinitelyTyped/DefinitelyTyped/issues/44572#issuecomment-625878049\n   * https://github.com/microsoft/TypeScript/issues/14729\n   */), []);\n}\n\nexport { useContextBridge };\n", "import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef(null);\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref);\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => {\n    if (root) actualRef.current = root instanceof Object3D ? root : root.current;\n    mixer._root = actualRef.current;\n  });\n  const lazyActions = React.useRef({});\n  const api = React.useMemo(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  }, [clips]);\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      mixer.stopAllAction();\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  return api;\n}\n\nexport { useAnimations };\n", "import * as React from 'react';\nimport { addEffect, addAfterEffect } from '@react-three/fiber';\n\nfunction useIntersect(onChange) {\n  const ref = React.useRef(null);\n  const check = React.useRef(false);\n  const temp = React.useRef(false);\n  const callback = React.useRef(onChange);\n  React.useLayoutEffect(() => void (callback.current = onChange), [onChange]);\n  React.useEffect(() => {\n    const obj = ref.current;\n    if (obj) {\n      // Stamp out frustum check pre-emptively\n      const unsub1 = addEffect(() => {\n        check.current = false;\n        return true;\n      });\n      // If the object is inside the frustum three will call onRender\n      const oldOnRender = obj.onBeforeRender;\n      obj.onBeforeRender = () => check.current = true;\n      // Compare the check value against the temp value, if it differs set state\n      const unsub2 = addAfterEffect(() => {\n        if (check.current !== temp.current) callback.current == null || callback.current(temp.current = check.current);\n        return true;\n      });\n      return () => {\n        obj.onBeforeRender = oldOnRender;\n        unsub1();\n        unsub2();\n      };\n    }\n  }, []);\n  return ref;\n}\n\nexport { useIntersect };\n", "import * as THREE from 'three';\nimport * as React from 'react';\nimport { applyProps } from '@react-three/fiber';\n\n// credits for the box-projecting shader code go to codercat (https://codercat.tk)\n// and @0beqz https://gist.github.com/0beqz/8d51b4ae16d68021a09fb504af708fca\n\nconst worldposReplace = /* glsl */`\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n  vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n  #ifdef BOX_PROJECTED_ENV_MAP\n    vWorldPosition = worldPosition.xyz;\n  #endif\n#endif\n`;\nconst boxProjectDefinitions = /*glsl */`\n#ifdef BOX_PROJECTED_ENV_MAP\n  uniform vec3 envMapSize;\n  uniform vec3 envMapPosition;\n  varying vec3 vWorldPosition;\n    \n  vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {\n    vec3 nDir = normalize( v );\n    vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;\n    vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;\n    vec3 rbminmax;\n    rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;\n    rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;\n    rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;\n    float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );\n    vec3 boxIntersection = vWorldPosition + nDir * correction;    \n    return boxIntersection - cubePos;\n  }\n#endif\n`;\n\n// will be inserted after \"vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\"\nconst getIBLIrradiance_patch = /* glsl */`\n#ifdef BOX_PROJECTED_ENV_MAP\n  worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );\n#endif\n`;\n\n// will be inserted after \"reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\"\nconst getIBLRadiance_patch = /* glsl */`\n#ifdef BOX_PROJECTED_ENV_MAP\n  reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );\n#endif\n`;\n\n// FIXME Replace with `THREE.WebGLProgramParametersWithUniforms` type when able to target @types/three@0.160.0\n\nfunction boxProjectedEnvMap(shader, envMapPosition, envMapSize) {\n  // defines\n  shader.defines.BOX_PROJECTED_ENV_MAP = true;\n  // uniforms\n  shader.uniforms.envMapPosition = {\n    value: envMapPosition\n  };\n  shader.uniforms.envMapSize = {\n    value: envMapSize\n  };\n  // vertex shader\n  shader.vertexShader = `\n  varying vec3 vWorldPosition;\n  ${shader.vertexShader.replace('#include <worldpos_vertex>', worldposReplace)}`;\n  // fragment shader\n  shader.fragmentShader = `\n    ${boxProjectDefinitions}\n    ${shader.fragmentShader.replace('#include <envmap_physical_pars_fragment>', THREE.ShaderChunk.envmap_physical_pars_fragment).replace('vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );', `vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n         ${getIBLIrradiance_patch}\n         `).replace('reflectVec = inverseTransformDirection( reflectVec, viewMatrix );', `reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n         ${getIBLRadiance_patch}\n        `)}`;\n}\nfunction useBoxProjectedEnv(position = new THREE.Vector3(), size = new THREE.Vector3()) {\n  const [config] = React.useState(() => ({\n    position: new THREE.Vector3(),\n    size: new THREE.Vector3()\n  }));\n  applyProps(config, {\n    position,\n    size\n  });\n  const ref = React.useRef(null);\n  const spread = React.useMemo(() => ({\n    ref,\n    onBeforeCompile: shader => boxProjectedEnvMap(shader, config.position, config.size),\n    customProgramCacheKey: () => JSON.stringify(config.position.toArray()) + JSON.stringify(config.size.toArray())\n  }), [...config.position.toArray(), ...config.size.toArray()]);\n  React.useLayoutEffect(() => void (ref.current.needsUpdate = true), [config]);\n  return spread;\n}\n\nexport { useBoxProjectedEnv };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nconst boundingBox = /* @__PURE__ */new THREE.Box3();\nconst boundingBoxSize = /* @__PURE__ */new THREE.Vector3();\nconst BBAnchor = ({\n  anchor,\n  ...props\n}) => {\n  const ref = React.useRef(null);\n  const parentRef = React.useRef(null);\n\n  // Reattach group created by this component to the parent's parent,\n  // so it becomes a sibling of its initial parent.\n  // We do that so the children have no impact on a bounding box of a parent.\n  React.useEffect(() => {\n    var _ref$current;\n    if ((_ref$current = ref.current) != null && (_ref$current = _ref$current.parent) != null && _ref$current.parent) {\n      parentRef.current = ref.current.parent;\n      ref.current.parent.parent.add(ref.current);\n    }\n  }, []);\n  useFrame(() => {\n    if (parentRef.current) {\n      boundingBox.setFromObject(parentRef.current);\n      boundingBox.getSize(boundingBoxSize);\n      ref.current.position.set(parentRef.current.position.x + boundingBoxSize.x * (Array.isArray(anchor) ? anchor[0] : anchor.x) / 2, parentRef.current.position.y + boundingBoxSize.y * (Array.isArray(anchor) ? anchor[1] : anchor.y) / 2, parentRef.current.position.z + boundingBoxSize.z * (Array.isArray(anchor) ? anchor[2] : anchor.z) / 2);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n};\n\nexport { BBAnchor };\n", "import * as React from 'react';\nimport { useMemo, useCallback } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Texture } from 'three';\n\n// smooth new sample (measurement) based on previous sample (current)\nfunction smoothAverage(current, measurement, smoothing = 0.9) {\n  return measurement * smoothing + current * (1.0 - smoothing);\n}\n\n// default ease\nconst easeCircleOut = x => Math.sqrt(1 - Math.pow(x - 1, 2));\nclass TrailTextureImpl {\n  constructor({\n    size = 256,\n    maxAge = 750,\n    radius = 0.3,\n    intensity = 0.2,\n    interpolate = 0,\n    smoothing = 0,\n    minForce = 0.3,\n    blend = 'screen',\n    // source-over is canvas default. Others are slower\n    ease = easeCircleOut\n  } = {}) {\n    this.size = size;\n    this.maxAge = maxAge;\n    this.radius = radius;\n    this.intensity = intensity;\n    this.ease = ease;\n    this.interpolate = interpolate;\n    this.smoothing = smoothing;\n    this.minForce = minForce;\n    this.blend = blend;\n    this.trail = [];\n    this.force = 0;\n    this.initTexture();\n  }\n  initTexture() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.canvas.height = this.size;\n    const ctx = this.canvas.getContext('2d');\n    if (ctx === null) {\n      throw new Error('2D not available');\n    }\n    this.ctx = ctx;\n    this.ctx.fillStyle = 'black';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.texture = new Texture(this.canvas);\n    this.canvas.id = 'touchTexture';\n    this.canvas.style.width = this.canvas.style.height = `${this.canvas.width}px`;\n  }\n  update(delta) {\n    this.clear();\n\n    // age points\n    this.trail.forEach((point, i) => {\n      point.age += delta * 1000;\n      // remove old\n      if (point.age > this.maxAge) {\n        this.trail.splice(i, 1);\n      }\n    });\n\n    // reset force when empty (when smoothing)\n    if (!this.trail.length) this.force = 0;\n    this.trail.forEach(point => {\n      this.drawTouch(point);\n    });\n    this.texture.needsUpdate = true;\n  }\n  clear() {\n    this.ctx.globalCompositeOperation = 'source-over';\n    this.ctx.fillStyle = 'black';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n  addTouch(point) {\n    const last = this.trail[this.trail.length - 1];\n    if (last) {\n      const dx = last.x - point.x;\n      const dy = last.y - point.y;\n      const dd = dx * dx + dy * dy;\n      const force = Math.max(this.minForce, Math.min(dd * 10000, 1));\n      this.force = smoothAverage(force, this.force, this.smoothing);\n      if (!!this.interpolate) {\n        const lines = Math.ceil(dd / Math.pow(this.radius * 0.5 / this.interpolate, 2));\n        if (lines > 1) {\n          for (let i = 1; i < lines; i++) {\n            this.trail.push({\n              x: last.x - dx / lines * i,\n              y: last.y - dy / lines * i,\n              age: 0,\n              force\n            });\n          }\n        }\n      }\n    }\n    this.trail.push({\n      x: point.x,\n      y: point.y,\n      age: 0,\n      force: this.force\n    });\n  }\n  drawTouch(point) {\n    const pos = {\n      x: point.x * this.size,\n      y: (1 - point.y) * this.size\n    };\n    let intensity = 1;\n    if (point.age < this.maxAge * 0.3) {\n      intensity = this.ease(point.age / (this.maxAge * 0.3));\n    } else {\n      intensity = this.ease(1 - (point.age - this.maxAge * 0.3) / (this.maxAge * 0.7));\n    }\n    intensity *= point.force;\n\n    // apply blending\n    this.ctx.globalCompositeOperation = this.blend;\n    const radius = this.size * this.radius * intensity;\n    const grd = this.ctx.createRadialGradient(pos.x, pos.y, Math.max(0, radius * 0.25), pos.x, pos.y, Math.max(0, radius));\n    grd.addColorStop(0, `rgba(255, 255, 255, ${this.intensity})`);\n    grd.addColorStop(1, `rgba(0, 0, 0, 0.0)`);\n    this.ctx.beginPath();\n    this.ctx.fillStyle = grd;\n    this.ctx.arc(pos.x, pos.y, Math.max(0, radius), 0, Math.PI * 2);\n    this.ctx.fill();\n  }\n}\nfunction useTrailTexture(config = {}) {\n  const {\n    size,\n    maxAge,\n    radius,\n    intensity,\n    interpolate,\n    smoothing,\n    minForce,\n    blend,\n    ease\n  } = config;\n  const trail = useMemo(() => new TrailTextureImpl(config), [size, maxAge, radius, intensity, interpolate, smoothing, minForce, blend, ease]);\n  useFrame((_, delta) => void trail.update(delta));\n  const onMove = useCallback(e => trail.addTouch(e.uv), [trail]);\n  return [trail.texture, onMove];\n}\n\n//\n\nconst TrailTexture = ({\n  children,\n  ...config\n}) => {\n  const ret = useTrailTexture(config);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(ret));\n};\n\nexport { TrailTexture, useTrailTexture };\n", "import * as React from 'react';\nimport { Text3D } from './Text3D.js';\nimport { Center } from './Center.js';\n\n/* eslint react-hooks/exhaustive-deps: 1 */\n/**\n * A simple counter example component. Click to increment, meta-click to decrement.\n */\nconst Example = /* @__PURE__ */React.forwardRef(({\n  font,\n  color = '#cbcbcb',\n  bevelSize = 0.04,\n  debug = false,\n  children,\n  ...props\n}, fref) => {\n  const [counter, setCounter] = React.useState(0);\n  const incr = React.useCallback((x = 1) => setCounter(counter + x), [counter]);\n  const decr = React.useCallback((x = 1) => setCounter(counter - x), [counter]);\n\n  // ref-API\n  const api = React.useMemo(() => ({\n    incr,\n    decr\n  }), [incr, decr]);\n  React.useImperativeHandle(fref, () => api, [api]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(React.Suspense, {\n    fallback: null\n  }, /*#__PURE__*/React.createElement(Center, {\n    top: true,\n    cacheKey: JSON.stringify({\n      counter,\n      font\n    })\n  }, /*#__PURE__*/React.createElement(Text3D, {\n    bevelEnabled: true,\n    bevelSize: bevelSize,\n    font: font\n  }, debug ? /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }) : /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    color: color\n  }), counter))), children);\n});\n\nexport { Example };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { Box3, Vector3, Sphere } from 'three';\nimport * as React from 'react';\n\nconst Center = /* @__PURE__ */React.forwardRef(function Center({\n  children,\n  disable,\n  disableX,\n  disableY,\n  disableZ,\n  left,\n  right,\n  top,\n  bottom,\n  front,\n  back,\n  onCentered,\n  precise = true,\n  cacheKey = 0,\n  ...props\n}, fRef) {\n  const ref = React.useRef(null);\n  const outer = React.useRef(null);\n  const inner = React.useRef(null);\n  React.useLayoutEffect(() => {\n    outer.current.matrixWorld.identity();\n    const box3 = new Box3().setFromObject(inner.current, precise);\n    const center = new Vector3();\n    const sphere = new Sphere();\n    const width = box3.max.x - box3.min.x;\n    const height = box3.max.y - box3.min.y;\n    const depth = box3.max.z - box3.min.z;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    const vAlign = top ? height / 2 : bottom ? -height / 2 : 0;\n    const hAlign = left ? -width / 2 : right ? width / 2 : 0;\n    const dAlign = front ? depth / 2 : back ? -depth / 2 : 0;\n    outer.current.position.set(disable || disableX ? 0 : -center.x + hAlign, disable || disableY ? 0 : -center.y + vAlign, disable || disableZ ? 0 : -center.z + dAlign);\n\n    // Only fire onCentered if the bounding box has changed\n    if (typeof onCentered !== 'undefined') {\n      onCentered({\n        parent: ref.current.parent,\n        container: ref.current,\n        width,\n        height,\n        depth,\n        boundingBox: box3,\n        boundingSphere: sphere,\n        center: center,\n        verticalAlignment: vAlign,\n        horizontalAlignment: hAlign,\n        depthAlignment: dAlign\n      });\n    }\n  }, [cacheKey, onCentered, top, left, front, disable, disableX, disableY, disableZ, precise, right, bottom, back]);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children)));\n});\n\nexport { Center };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport { Instances, Instance } from './Instances.js';\nimport { Billboard } from './Billboard.js';\nimport { useSpriteLoader, getFirstFrame } from './useSpriteLoader.js';\n\n// Frame-related types\n\nconst context = /*#__PURE__*/React.createContext(null);\nfunction useSpriteAnimator() {\n  return React.useContext(context);\n}\n\n// Type guard for SpriteData\nfunction isSpriteData(data) {\n  return data !== null && 'meta' in data && 'frames' in data;\n}\nconst geometry = /* @__PURE__ */new THREE.PlaneGeometry(1, 1);\nconst SpriteAnimator = /* @__PURE__ */React.forwardRef(({\n  startFrame = 0,\n  endFrame,\n  fps = 30,\n  frameName = '',\n  textureDataURL,\n  textureImageURL,\n  loop = false,\n  numberOfFrames = 1,\n  autoPlay = true,\n  animationNames,\n  onStart,\n  onEnd,\n  onLoopEnd,\n  onFrame,\n  play,\n  pause = false,\n  flipX = false,\n  alphaTest = 0.0,\n  children,\n  asSprite = false,\n  offset,\n  playBackwards = false,\n  resetOnEnd = false,\n  maxItems = 1,\n  instanceItems = [[0, 0, 0]],\n  spriteDataset,\n  canvasRenderingContext2DSettings,\n  roundFramePosition = false,\n  meshProps = {},\n  ...props\n}, fref) => {\n  const ref = React.useRef(new THREE.Group());\n  const spriteData = React.useRef(null);\n  const matRef = React.useRef(null);\n  const spriteRef = React.useRef(null);\n  const timerOffset = React.useRef(window.performance.now());\n  const currentFrame = React.useRef(startFrame);\n  const currentFrameName = React.useRef(frameName);\n  const fpsInterval = fps > 0 ? 1000 / fps : 0;\n  const [spriteTexture, setSpriteTexture] = React.useState(new THREE.Texture());\n  const totalFrames = React.useRef(0);\n  const [aspect, setAspect] = React.useState(new THREE.Vector3(1, 1, 1));\n  const flipOffset = flipX ? -1 : 1;\n  const pauseRef = React.useRef(pause);\n  const pos = React.useRef(offset);\n  const softEnd = React.useRef(false);\n  const {\n    spriteObj,\n    loadJsonAndTexture\n  } = useSpriteLoader(null, null, animationNames, numberOfFrames, undefined, canvasRenderingContext2DSettings);\n  const frameNameRef = React.useRef(frameName);\n\n  // lite version for pre-loaded assets\n  const parseSpriteDataLite = React.useCallback((textureData, data) => {\n    if (data === null) {\n      if (numberOfFrames) {\n        //get size from texture\n\n        totalFrames.current = numberOfFrames;\n        if (playBackwards) {\n          currentFrame.current = numberOfFrames - 1;\n        }\n        spriteData.current = data;\n      }\n    } else {\n      var _spriteData$current$f, _spriteData$current;\n      spriteData.current = data;\n      if (spriteData.current && Array.isArray(spriteData.current.frames)) {\n        totalFrames.current = spriteData.current.frames.length;\n      } else if (spriteData.current && typeof spriteData.current === 'object' && frameNameRef.current) {\n        totalFrames.current = spriteData.current.frames[frameNameRef.current].length;\n      } else {\n        totalFrames.current = 0;\n      }\n      if (playBackwards) {\n        currentFrame.current = totalFrames.current - 1;\n      }\n      const {\n        w,\n        h\n      } = getFirstFrame((_spriteData$current$f = (_spriteData$current = spriteData.current) == null ? void 0 : _spriteData$current.frames) !== null && _spriteData$current$f !== void 0 ? _spriteData$current$f : [], frameNameRef.current).sourceSize;\n      const aspect = calculateAspectRatio(w, h);\n      setAspect(aspect);\n      if (matRef.current) {\n        matRef.current.map = textureData;\n      }\n    }\n    setSpriteTexture(textureData);\n  }, [numberOfFrames, playBackwards]);\n\n  // modify the sprite material after json is parsed and state updated\n  const modifySpritePosition = React.useCallback(() => {\n    if (!spriteData.current) return;\n    const {\n      meta: {\n        size: metaInfo\n      },\n      frames\n    } = spriteData.current;\n    const {\n      w: frameW,\n      h: frameH\n    } = Array.isArray(frames) ? frames[0].sourceSize : frameName ? frames[frameName] ? frames[frameName][0].sourceSize : {\n      w: 0,\n      h: 0\n    } : {\n      w: 0,\n      h: 0\n    };\n    if (matRef.current && matRef.current.map) {\n      matRef.current.map.wrapS = matRef.current.map.wrapT = THREE.RepeatWrapping;\n      matRef.current.map.center.set(0, 0);\n      matRef.current.map.repeat.set(1 * flipOffset / (metaInfo.w / frameW), 1 / (metaInfo.h / frameH));\n    }\n    //const framesH = (metaInfo.w - 1) / frameW\n    const framesV = (metaInfo.h - 1) / frameH;\n    const frameOffsetY = 1 / framesV;\n    if (matRef.current && matRef.current.map) {\n      matRef.current.map.offset.x = 0.0; //-matRef.current.map.repeat.x\n      matRef.current.map.offset.y = 1 - frameOffsetY;\n    }\n    if (onStart) {\n      onStart({\n        currentFrameName: frameName !== null && frameName !== void 0 ? frameName : '',\n        currentFrame: currentFrame.current\n      });\n    }\n  }, [flipOffset, frameName, onStart]);\n  const state = React.useMemo(() => ({\n    current: pos.current,\n    offset: pos.current,\n    imageUrl: textureImageURL,\n    hasEnded: false,\n    ref: fref\n  }), [textureImageURL, fref]);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  React.useLayoutEffect(() => {\n    pos.current = offset;\n  }, [offset]);\n  const calculateAspectRatio = (width, height) => {\n    var _spriteRef$current;\n    const ret = new THREE.Vector3();\n    const aspectRatio = height / width;\n    ret.set(1, aspectRatio, 1);\n    (_spriteRef$current = spriteRef.current) == null || _spriteRef$current.scale.copy(ret);\n    return ret;\n  };\n\n  // initial loads\n  React.useEffect(() => {\n    if (spriteDataset) {\n      var _spriteDataset$sprite;\n      parseSpriteDataLite(spriteDataset == null || (_spriteDataset$sprite = spriteDataset.spriteTexture) == null ? void 0 : _spriteDataset$sprite.clone(), spriteDataset.spriteData);\n    } else {\n      if (textureImageURL && textureDataURL) {\n        loadJsonAndTexture(textureImageURL, textureDataURL);\n      }\n    }\n  }, [loadJsonAndTexture, spriteDataset, textureDataURL, textureImageURL, parseSpriteDataLite]);\n  React.useEffect(() => {\n    if (spriteObj) {\n      var _spriteObj$spriteText;\n      parseSpriteDataLite(spriteObj == null || (_spriteObj$spriteText = spriteObj.spriteTexture) == null ? void 0 : _spriteObj$spriteText.clone(), spriteObj == null ? void 0 : spriteObj.spriteData);\n    }\n  }, [spriteObj, parseSpriteDataLite]);\n\n  // support backwards play\n  React.useEffect(() => {\n    state.hasEnded = false;\n    if (spriteData.current && playBackwards === true) {\n      var _ref;\n      currentFrame.current = ((_ref = spriteData.current.frames.length) !== null && _ref !== void 0 ? _ref : 0) - 1;\n    } else {\n      currentFrame.current = 0;\n    }\n  }, [playBackwards, state]);\n  React.useLayoutEffect(() => {\n    modifySpritePosition();\n  }, [spriteTexture, flipX, modifySpritePosition]);\n  React.useEffect(() => {\n    if (autoPlay) {\n      pauseRef.current = false;\n    }\n  }, [autoPlay]);\n  React.useLayoutEffect(() => {\n    if (currentFrameName.current !== frameName && frameName) {\n      currentFrame.current = 0;\n      currentFrameName.current = frameName;\n      state.hasEnded = false;\n      if (fpsInterval <= 0) {\n        currentFrame.current = endFrame || startFrame || 0;\n      }\n      // modifySpritePosition()\n      if (spriteData.current) {\n        const {\n          w,\n          h\n        } = getFirstFrame(spriteData.current.frames, frameName).sourceSize;\n        const _aspect = calculateAspectRatio(w, h);\n        setAspect(_aspect);\n      }\n    }\n  }, [frameName, fpsInterval, state, endFrame, startFrame]);\n\n  // run the animation on each frame\n  const runAnimation = () => {\n    if (!isSpriteData(spriteData.current)) return;\n    const {\n      meta: {\n        size: metaInfo\n      },\n      frames\n    } = spriteData.current;\n    const {\n      w: frameW,\n      h: frameH\n    } = getFirstFrame(frames, frameName).sourceSize;\n    const spriteFrames = Array.isArray(frames) ? frames : frameName ? frames[frameName] : [];\n    const _endFrame = endFrame || spriteFrames.length - 1;\n    var _offset = offset === undefined ? state.current : offset;\n    if (fpsInterval <= 0) {\n      currentFrame.current = endFrame || startFrame || 0;\n      calculateFinalPosition(frameW, frameH, metaInfo, spriteFrames);\n      return;\n    }\n    const now = window.performance.now();\n    const diff = now - timerOffset.current;\n    if (diff <= fpsInterval) return;\n\n    // conditionals to support backwards play\n    var endCondition = playBackwards ? currentFrame.current < 0 : currentFrame.current > _endFrame;\n    var onStartCondition = playBackwards ? currentFrame.current === _endFrame : currentFrame.current === 0;\n    var manualProgressEndCondition = playBackwards ? currentFrame.current < 0 : currentFrame.current >= _endFrame;\n    if (endCondition) {\n      currentFrame.current = loop ? startFrame !== null && startFrame !== void 0 ? startFrame : 0 : 0;\n      if (playBackwards) {\n        currentFrame.current = _endFrame;\n      }\n      if (loop) {\n        onLoopEnd == null || onLoopEnd({\n          currentFrameName: frameName !== null && frameName !== void 0 ? frameName : '',\n          currentFrame: currentFrame.current\n        });\n      } else {\n        onEnd == null || onEnd({\n          currentFrameName: frameName !== null && frameName !== void 0 ? frameName : '',\n          currentFrame: currentFrame.current\n        });\n        state.hasEnded = !resetOnEnd;\n        if (resetOnEnd) {\n          pauseRef.current = true;\n          //calculateFinalPosition(frameW, frameH, metaInfo, spriteFrames)\n        }\n      }\n      if (!loop) return;\n    } else if (onStartCondition) {\n      onStart == null || onStart({\n        currentFrameName: frameName !== null && frameName !== void 0 ? frameName : '',\n        currentFrame: currentFrame.current\n      });\n    }\n\n    // for manual update\n    if (_offset !== undefined && manualProgressEndCondition) {\n      if (softEnd.current === false) {\n        onEnd == null || onEnd({\n          currentFrameName: frameName !== null && frameName !== void 0 ? frameName : '',\n          currentFrame: currentFrame.current\n        });\n        softEnd.current = true;\n      }\n    } else {\n      // same for start?\n      softEnd.current = false;\n    }\n\n    // clock to limit fps\n    if (diff <= fpsInterval) return;\n    timerOffset.current = now - diff % fpsInterval;\n    calculateFinalPosition(frameW, frameH, metaInfo, spriteFrames);\n  };\n  const calculateFinalPosition = (frameW, frameH, metaInfo, spriteFrames) => {\n    // get the manual update offset to find the next frame\n    var _offset = offset === undefined ? state.current : offset;\n    const targetFrame = currentFrame.current;\n    let finalValX = 0;\n    let finalValY = 0;\n    calculateAspectRatio(frameW, frameH);\n    const framesH = roundFramePosition ? Math.round((metaInfo.w - 1) / frameW) : (metaInfo.w - 1) / frameW;\n    const framesV = roundFramePosition ? Math.round((metaInfo.h - 1) / frameH) : (metaInfo.h - 1) / frameH;\n    if (!spriteFrames[targetFrame]) {\n      return;\n    }\n    const {\n      frame: {\n        x: frameX,\n        y: frameY\n      },\n      sourceSize: {\n        w: originalSizeX,\n        h: originalSizeY\n      }\n    } = spriteFrames[targetFrame];\n    const frameOffsetX = 1 / framesH;\n    const frameOffsetY = 1 / framesV;\n    if (matRef.current && matRef.current.map) {\n      finalValX = flipOffset > 0 ? frameOffsetX * (frameX / originalSizeX) : frameOffsetX * (frameX / originalSizeX) - matRef.current.map.repeat.x;\n      finalValY = Math.abs(1 - frameOffsetY) - frameOffsetY * (frameY / originalSizeY);\n      matRef.current.map.offset.x = finalValX;\n      matRef.current.map.offset.y = finalValY;\n    }\n\n    // if manual update is active\n    if (_offset !== undefined && _offset !== null) {\n      // Calculate the frame index, based on offset given from the provider\n      let frameIndex = Math.floor(_offset * spriteFrames.length);\n\n      // Ensure the frame index is within the valid range\n      frameIndex = Math.max(0, Math.min(frameIndex, spriteFrames.length - 1));\n      if (isNaN(frameIndex)) {\n        frameIndex = 0; //fallback\n      }\n      currentFrame.current = frameIndex;\n    } else {\n      // auto update\n      if (playBackwards) {\n        currentFrame.current -= 1;\n      } else {\n        currentFrame.current += 1;\n      }\n    }\n  };\n\n  // *** Warning! It runs on every frame! ***\n  useFrame((_state, _delta) => {\n    var _spriteData$current2, _matRef$current;\n    if (!((_spriteData$current2 = spriteData.current) != null && _spriteData$current2.frames) || !((_matRef$current = matRef.current) != null && _matRef$current.map)) {\n      return;\n    }\n    if (pauseRef.current) {\n      return;\n    }\n    if (!state.hasEnded && (autoPlay || play)) {\n      runAnimation();\n      onFrame == null || onFrame({\n        currentFrameName: currentFrameName.current,\n        currentFrame: currentFrame.current\n      });\n    }\n  });\n  function multiplyScale(initialScale = new THREE.Vector3(1, 1, 1), newScale = 1) {\n    if (typeof newScale === 'number') return initialScale.multiplyScalar(newScale);\n    if (Array.isArray(newScale)) return initialScale.multiply(new THREE.Vector3(...newScale));\n    if (newScale instanceof THREE.Vector3) return initialScale.multiply(newScale);\n  }\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: ref,\n    scale: multiplyScale(aspect, props.scale)\n  }), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, asSprite && /*#__PURE__*/React.createElement(Billboard, null, /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: spriteRef,\n    scale: 1.0,\n    geometry: geometry\n  }, meshProps), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    premultipliedAlpha: false,\n    toneMapped: false,\n    side: THREE.DoubleSide,\n    ref: matRef,\n    map: spriteTexture,\n    transparent: true,\n    alphaTest: alphaTest !== null && alphaTest !== void 0 ? alphaTest : 0.0\n  }))), !asSprite && /*#__PURE__*/React.createElement(Instances, _extends({\n    geometry: geometry,\n    limit: maxItems !== null && maxItems !== void 0 ? maxItems : 1\n  }, meshProps), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    premultipliedAlpha: false,\n    toneMapped: false,\n    side: THREE.DoubleSide,\n    ref: matRef,\n    map: spriteTexture,\n    transparent: true,\n    alphaTest: alphaTest !== null && alphaTest !== void 0 ? alphaTest : 0.0\n  }), (instanceItems !== null && instanceItems !== void 0 ? instanceItems : [0]).map((item, index) => /*#__PURE__*/React.createElement(Instance, _extends({\n    key: index,\n    ref: (instanceItems == null ? void 0 : instanceItems.length) === 1 ? spriteRef : null,\n    position: item,\n    scale: 1.0\n  }, meshProps)))), children));\n});\n\nexport { SpriteAnimator, useSpriteAnimator };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { setUpdateRange } from '../helpers/deprecated.js';\n\nfunction isFunctionChild(value) {\n  return typeof value === 'function';\n}\nconst _instanceLocalMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst _instanceWorldMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst _instanceIntersects = [];\nconst _mesh = /* @__PURE__ */new THREE.Mesh();\nclass PositionMesh extends THREE.Group {\n  constructor() {\n    super();\n    this.color = new THREE.Color('white');\n    this.instance = {\n      current: undefined\n    };\n    this.instanceKey = {\n      current: undefined\n    };\n  }\n\n  // This will allow the virtual instance have bounds\n  get geometry() {\n    var _this$instance$curren;\n    return (_this$instance$curren = this.instance.current) == null ? void 0 : _this$instance$curren.geometry;\n  }\n\n  // And this will allow the virtual instance to receive events\n  raycast(raycaster, intersects) {\n    const parent = this.instance.current;\n    if (!parent) return;\n    if (!parent.geometry || !parent.material) return;\n    _mesh.geometry = parent.geometry;\n    const matrixWorld = parent.matrixWorld;\n    const instanceId = parent.userData.instances.indexOf(this.instanceKey);\n    // If the instance wasn't found or exceeds the parents draw range, bail out\n    if (instanceId === -1 || instanceId > parent.count) return;\n    // calculate the world matrix for each instance\n    parent.getMatrixAt(instanceId, _instanceLocalMatrix);\n    _instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix);\n    // the mesh represents this single instance\n    _mesh.matrixWorld = _instanceWorldMatrix;\n    // raycast side according to instance material\n    if (parent.material instanceof THREE.Material) _mesh.material.side = parent.material.side;else _mesh.material.side = parent.material[0].side;\n    _mesh.raycast(raycaster, _instanceIntersects);\n    // process the result of raycast\n    for (let i = 0, l = _instanceIntersects.length; i < l; i++) {\n      const intersect = _instanceIntersects[i];\n      intersect.instanceId = instanceId;\n      intersect.object = this;\n      intersects.push(intersect);\n    }\n    _instanceIntersects.length = 0;\n  }\n}\nconst globalContext = /* @__PURE__ */React.createContext(null);\nconst parentMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst instanceMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst tempMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst translation = /* @__PURE__ */new THREE.Vector3();\nconst rotation = /* @__PURE__ */new THREE.Quaternion();\nconst scale = /* @__PURE__ */new THREE.Vector3();\nconst isInstancedBufferAttribute = attr => attr.isInstancedBufferAttribute;\nconst Instance = /* @__PURE__ */React.forwardRef(({\n  context,\n  children,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    PositionMesh\n  }), []);\n  const group = React.useRef(null);\n  React.useImperativeHandle(ref, () => group.current, []);\n  const {\n    subscribe,\n    getParent\n  } = React.useContext(context || globalContext);\n  React.useLayoutEffect(() => subscribe(group), []);\n  return /*#__PURE__*/React.createElement(\"positionMesh\", _extends({\n    instance: getParent(),\n    instanceKey: group,\n    ref: group\n  }, props), children);\n});\nconst Instances = /* @__PURE__ */React.forwardRef(({\n  context,\n  children,\n  range,\n  limit = 1000,\n  frames = Infinity,\n  ...props\n}, ref) => {\n  const [{\n    localContext,\n    instance\n  }] = React.useState(() => {\n    const localContext = /*#__PURE__*/React.createContext(null);\n    return {\n      localContext,\n      instance: /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(Instance, _extends({\n        context: localContext\n      }, props, {\n        ref: ref\n      })))\n    };\n  });\n  const parentRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => parentRef.current, []);\n  const [instances, setInstances] = React.useState([]);\n  const [[matrices, colors]] = React.useState(() => {\n    const mArray = new Float32Array(limit * 16);\n    for (let i = 0; i < limit; i++) tempMatrix.identity().toArray(mArray, i * 16);\n    return [mArray, new Float32Array([...new Array(limit * 3)].map(() => 1))];\n  });\n  React.useEffect(() => {\n    // We might be a frame too late? \n    parentRef.current.instanceMatrix.needsUpdate = true;\n  });\n  let iterations = 0;\n  let count = 0;\n  const attributes = React.useRef([]);\n  React.useLayoutEffect(() => {\n    attributes.current = Object.entries(parentRef.current.geometry.attributes).filter(([_name, value]) => isInstancedBufferAttribute(value));\n  });\n  useFrame(() => {\n    if (frames === Infinity || iterations < frames) {\n      parentRef.current.updateMatrix();\n      parentRef.current.updateMatrixWorld();\n      parentMatrix.copy(parentRef.current.matrixWorld).invert();\n      count = Math.min(limit, range !== undefined ? range : limit, instances.length);\n      parentRef.current.count = count;\n      setUpdateRange(parentRef.current.instanceMatrix, {\n        start: 0,\n        count: count * 16\n      });\n      setUpdateRange(parentRef.current.instanceColor, {\n        start: 0,\n        count: count * 3\n      });\n      for (let i = 0; i < instances.length; i++) {\n        const instance = instances[i].current;\n        // Multiply the inverse of the InstancedMesh world matrix or else\n        // Instances will be double-transformed if <Instances> isn't at identity\n        instance.matrixWorld.decompose(translation, rotation, scale);\n        instanceMatrix.compose(translation, rotation, scale).premultiply(parentMatrix);\n        instanceMatrix.toArray(matrices, i * 16);\n        parentRef.current.instanceMatrix.needsUpdate = true;\n        instance.color.toArray(colors, i * 3);\n        parentRef.current.instanceColor.needsUpdate = true;\n      }\n      iterations++;\n    }\n  });\n  const api = React.useMemo(() => ({\n    getParent: () => parentRef,\n    subscribe: ref => {\n      setInstances(instances => [...instances, ref]);\n      return () => setInstances(instances => instances.filter(item => item.current !== ref.current));\n    }\n  }), []);\n  return /*#__PURE__*/React.createElement(\"instancedMesh\", _extends({\n    userData: {\n      instances,\n      limit,\n      frames\n    },\n    matrixAutoUpdate: false,\n    ref: parentRef,\n    args: [null, null, 0],\n    raycast: () => null\n  }, props), /*#__PURE__*/React.createElement(\"instancedBufferAttribute\", {\n    attach: \"instanceMatrix\",\n    args: [matrices, 16],\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"instancedBufferAttribute\", {\n    attach: \"instanceColor\",\n    args: [colors, 3],\n    usage: THREE.DynamicDrawUsage\n  }), isFunctionChild(children) ? /*#__PURE__*/React.createElement(localContext.Provider, {\n    value: api\n  }, children(instance)) : context ? /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children) : /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children));\n});\n// TODO: make this non-recursive and type-safe\nconst Merged = /* @__PURE__ */React.forwardRef(function Merged({\n  meshes,\n  children,\n  ...props\n}, ref) {\n  const isArray = Array.isArray(meshes);\n  // Filter out meshes from collections, which may contain non-meshes\n  // @ts-expect-error\n  if (!isArray) for (const key of Object.keys(meshes)) if (!meshes[key].isMesh) delete meshes[key];\n  const render = args => isArray ?\n  // @ts-expect-error\n  children(...args) : children(\n  // @ts-expect-error\n  Object.keys(meshes)\n  // @ts-expect-error\n  .filter(key => meshes[key].isMesh).reduce((acc, key, i) => ({\n    ...acc,\n    [key]: args[i]\n  }), {}));\n\n  // @ts-expect-error\n  const components = (isArray ? meshes : Object.values(meshes)).map(({\n    geometry,\n    material\n  }) => /*#__PURE__*/React.createElement(Instances, _extends({\n    key: geometry.uuid,\n    geometry: geometry,\n    material: material\n  }, props)));\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, renderRecursive(render, components));\n});\n\n// https://github.com/jamesplease/react-composer\nfunction renderRecursive(render, components, results = []) {\n  // Once components is exhausted, we can render out the results array.\n  if (!components[0]) {\n    return render(results);\n  }\n\n  // Continue recursion for remaining items.\n  // results.concat([value]) ensures [...results, value] instead of [...results, ...value]\n  function nextRender(value) {\n    return renderRecursive(render, components.slice(1), results.concat([value]));\n  }\n\n  // Each props.components entry is either an element or function [element factory]\n  return typeof components[0] === 'function' ?\n  // When it is a function, produce an element by invoking it with \"render component values\".\n  components[0]({\n    results,\n    render: nextRender\n  }) :\n  /*#__PURE__*/\n  // When it is an element, enhance the element's props with the render prop.\n  React.cloneElement(components[0], {\n    children: nextRender\n  });\n}\n\n/** Idea and implementation for global instances and instanced attributes by\n/*  Matias Gonzalez Fernandez https://x.com/matiNotFound\n/*  and Paul Henschel https://x.com/0xca0a\n*/\nfunction createInstances() {\n  const context = /*#__PURE__*/React.createContext(null);\n  return [/*#__PURE__*/React.forwardRef((props, fref) => /*#__PURE__*/React.createElement(Instances, _extends({\n    ref: fref,\n    context: context\n  }, props))), /*#__PURE__*/React.forwardRef((props, fref) => /*#__PURE__*/React.createElement(Instance, _extends({\n    ref: fref,\n    context: context\n  }, props)))];\n}\nconst InstancedAttribute = /*#__PURE__*/React.forwardRef(({\n  name,\n  defaultValue,\n  normalized,\n  usage = THREE.DynamicDrawUsage\n}, fref) => {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  React.useLayoutEffect(() => {\n    const parent = ref.current.__r3f.parent.object;\n    parent.geometry.attributes[name] = ref.current;\n    const value = Array.isArray(defaultValue) ? defaultValue : [defaultValue];\n    const array = Array.from({\n      length: parent.userData.limit\n    }, () => value).flat();\n    ref.current.array = new Float32Array(array);\n    ref.current.itemSize = value.length;\n    // @ts-expect-error\n    ref.current.count = array.length / ref.current.itemSize;\n    return () => {\n      delete parent.geometry.attributes[name];\n    };\n  }, [name]);\n  let iterations = 0;\n  useFrame(() => {\n    const parent = ref.current.__r3f.parent.object;\n    if (parent.userData.frames === Infinity || iterations < parent.userData.frames) {\n      for (let i = 0; i < parent.userData.instances.length; i++) {\n        const instance = parent.userData.instances[i].current;\n        const value = instance[name];\n        if (value !== undefined) {\n          ref.current.set(Array.isArray(value) ? value : typeof value.toArray === 'function' ? value.toArray() : [value], i * ref.current.itemSize);\n          ref.current.needsUpdate = true;\n        }\n      }\n      iterations++;\n    }\n  });\n  // @ts-expect-error we're abusing three API here by mutating immutable args\n  return /*#__PURE__*/React.createElement(\"instancedBufferAttribute\", {\n    ref: ref,\n    usage: usage,\n    normalized: normalized\n  });\n});\n\nexport { Instance, InstancedAttribute, Instances, Merged, PositionMesh, createInstances };\n", "/**\n * Sets `BufferAttribute.updateRange` since r159.\n */\nconst setUpdateRange = (attribute, updateRange) => {\n  attribute.updateRanges[0] = updateRange;\n};\n\nexport { setUpdateRange };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { createPortal } from '@react-three/fiber';\nimport { Flow } from 'three-stdlib';\n\nconst CurveModifier = /* @__PURE__ */React.forwardRef(({\n  children,\n  curve\n}, ref) => {\n  const [scene] = React.useState(() => new THREE.Scene());\n  const [obj, set] = React.useState();\n  const modifier = React.useRef(null);\n  React.useLayoutEffect(() => {\n    modifier.current = new Flow(scene.children[0]);\n    set(modifier.current.object3D);\n  }, [children]);\n  React.useEffect(() => {\n    var _modifier$current;\n    if (curve) (_modifier$current = modifier.current) == null || _modifier$current.updateCurve(0, curve);\n  }, [curve]);\n  React.useImperativeHandle(ref, () => modifier.current);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(children, scene), obj && /*#__PURE__*/React.createElement(\"primitive\", {\n    object: obj\n  }));\n});\n\nexport { CurveModifier };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MeshPhysicalMaterial } from 'three';\nimport { useFrame } from '@react-three/fiber';\nimport distort from '../helpers/glsl/distort.vert.glsl.js';\n\nclass DistortMaterialImpl extends MeshPhysicalMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n    this.setValues(parameters);\n    this._time = {\n      value: 0\n    };\n    this._distort = {\n      value: 0.4\n    };\n    this._radius = {\n      value: 1\n    };\n  }\n\n  // FIXME Use `THREE.WebGLProgramParametersWithUniforms` type when able to target @types/three@0.160.0\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this._time;\n    shader.uniforms.radius = this._radius;\n    shader.uniforms.distort = this._distort;\n    shader.vertexShader = `\n      uniform float time;\n      uniform float radius;\n      uniform float distort;\n      ${distort}\n      ${shader.vertexShader}\n    `;\n    shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', `\n        float updateTime = time / 50.0;\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\n        `);\n  }\n  get time() {\n    return this._time.value;\n  }\n  set time(v) {\n    this._time.value = v;\n  }\n  get distort() {\n    return this._distort.value;\n  }\n  set distort(v) {\n    this._distort.value = v;\n  }\n  get radius() {\n    return this._radius.value;\n  }\n  set radius(v) {\n    this._radius.value = v;\n  }\n}\nconst MeshDistortMaterial = /* @__PURE__ */React.forwardRef(({\n  speed = 1,\n  ...props\n}, ref) => {\n  const [material] = React.useState(() => new DistortMaterialImpl());\n  useFrame(state => material && (material.time = state.clock.elapsedTime * speed));\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }, props));\n});\n\nexport { MeshDistortMaterial };\n", "var distort = \"#define GLSLIFY 1\\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\"; // eslint-disable-line\n\nexport { distort as default };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MeshStandardMaterial } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nclass WobbleMaterialImpl extends MeshStandardMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n    this.setValues(parameters);\n    this._time = {\n      value: 0\n    };\n    this._factor = {\n      value: 1\n    };\n  }\n\n  // FIXME Use `THREE.WebGLProgramParametersWithUniforms` type when able to target @types/three@0.160.0\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this._time;\n    shader.uniforms.factor = this._factor;\n    shader.vertexShader = `\n      uniform float time;\n      uniform float factor;\n      ${shader.vertexShader}\n    `;\n    shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', `float theta = sin( time + position.y ) / 2.0 * factor;\n        float c = cos( theta );\n        float s = sin( theta );\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\n        vec3 transformed = vec3( position ) * m;\n        vNormal = vNormal * m;`);\n  }\n  get time() {\n    return this._time.value;\n  }\n  set time(v) {\n    this._time.value = v;\n  }\n  get factor() {\n    return this._factor.value;\n  }\n  set factor(v) {\n    this._factor.value = v;\n  }\n}\nconst MeshWobbleMaterial = /* @__PURE__ */React.forwardRef(({\n  speed = 1,\n  ...props\n}, ref) => {\n  const [material] = React.useState(() => new WobbleMaterialImpl());\n  useFrame(state => material && (material.time = state.clock.elapsedTime * speed));\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }, props));\n});\n\nexport { MeshWobbleMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Plane, Vector3, Matrix4, Vector4, PerspectiveCamera, WebGLRenderTarget, DepthTexture, DepthFormat, UnsignedShortType, LinearFilter, HalfFloatType } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { BlurPass } from '../materials/BlurPass.js';\nimport { MeshReflectorMaterial as MeshReflectorMaterial$1 } from '../materials/MeshReflectorMaterial.js';\n\nconst MeshReflectorMaterial = /* @__PURE__ */React.forwardRef(({\n  mixBlur = 0,\n  mixStrength = 1,\n  resolution = 256,\n  blur = [0, 0],\n  minDepthThreshold = 0.9,\n  maxDepthThreshold = 1,\n  depthScale = 0,\n  depthToBlurRatioBias = 0.25,\n  mirror = 0,\n  distortion = 1,\n  mixContrast = 1,\n  distortionMap,\n  reflectorOffset = 0,\n  ...props\n}, ref) => {\n  extend({\n    MeshReflectorMaterialImpl: MeshReflectorMaterial$1\n  });\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  blur = Array.isArray(blur) ? blur : [blur, blur];\n  const hasBlur = blur[0] + blur[1] > 0;\n  const materialRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => materialRef.current, []);\n  const [reflectorPlane] = React.useState(() => new Plane());\n  const [normal] = React.useState(() => new Vector3());\n  const [reflectorWorldPosition] = React.useState(() => new Vector3());\n  const [cameraWorldPosition] = React.useState(() => new Vector3());\n  const [rotationMatrix] = React.useState(() => new Matrix4());\n  const [lookAtPosition] = React.useState(() => new Vector3(0, 0, -1));\n  const [clipPlane] = React.useState(() => new Vector4());\n  const [view] = React.useState(() => new Vector3());\n  const [target] = React.useState(() => new Vector3());\n  const [q] = React.useState(() => new Vector4());\n  const [textureMatrix] = React.useState(() => new Matrix4());\n  const [virtualCamera] = React.useState(() => new PerspectiveCamera());\n  const beforeRender = React.useCallback(() => {\n    var _materialRef$current;\n    const parent = materialRef.current.parent || ((_materialRef$current = materialRef.current) == null || (_materialRef$current = _materialRef$current.__r3f.parent) == null ? void 0 : _materialRef$current.object);\n    if (!parent) return;\n    reflectorWorldPosition.setFromMatrixPosition(parent.matrixWorld);\n    cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n    rotationMatrix.extractRotation(parent.matrixWorld);\n    normal.set(0, 0, 1);\n    normal.applyMatrix4(rotationMatrix);\n    reflectorWorldPosition.addScaledVector(normal, reflectorOffset);\n    view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n    // Avoid rendering when reflector is facing away\n    if (view.dot(normal) > 0) return;\n    view.reflect(normal).negate();\n    view.add(reflectorWorldPosition);\n    rotationMatrix.extractRotation(camera.matrixWorld);\n    lookAtPosition.set(0, 0, -1);\n    lookAtPosition.applyMatrix4(rotationMatrix);\n    lookAtPosition.add(cameraWorldPosition);\n    target.subVectors(reflectorWorldPosition, lookAtPosition);\n    target.reflect(normal).negate();\n    target.add(reflectorWorldPosition);\n    virtualCamera.position.copy(view);\n    virtualCamera.up.set(0, 1, 0);\n    virtualCamera.up.applyMatrix4(rotationMatrix);\n    virtualCamera.up.reflect(normal);\n    virtualCamera.lookAt(target);\n    virtualCamera.far = camera.far; // Used in WebGLBackground\n    virtualCamera.updateMatrixWorld();\n    virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n    // Update the texture matrix\n    textureMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n    textureMatrix.multiply(virtualCamera.projectionMatrix);\n    textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n    textureMatrix.multiply(parent.matrixWorld);\n    // Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n    // Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n    reflectorPlane.setFromNormalAndCoplanarPoint(normal, reflectorWorldPosition);\n    reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n    clipPlane.set(reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant);\n    const projectionMatrix = virtualCamera.projectionMatrix;\n    q.x = (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n    q.y = (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n    q.z = -1.0;\n    q.w = (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n    // Calculate the scaled plane vector\n    clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));\n    // Replacing the third row of the projection matrix\n    projectionMatrix.elements[2] = clipPlane.x;\n    projectionMatrix.elements[6] = clipPlane.y;\n    projectionMatrix.elements[10] = clipPlane.z + 1.0;\n    projectionMatrix.elements[14] = clipPlane.w;\n  }, [camera, reflectorOffset]);\n  const [fbo1, fbo2, blurpass, reflectorProps] = React.useMemo(() => {\n    const parameters = {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      type: HalfFloatType\n    };\n    const fbo1 = new WebGLRenderTarget(resolution, resolution, parameters);\n    fbo1.depthBuffer = true;\n    fbo1.depthTexture = new DepthTexture(resolution, resolution);\n    fbo1.depthTexture.format = DepthFormat;\n    fbo1.depthTexture.type = UnsignedShortType;\n    const fbo2 = new WebGLRenderTarget(resolution, resolution, parameters);\n    const blurpass = new BlurPass({\n      gl,\n      resolution,\n      width: blur[0],\n      height: blur[1],\n      minDepthThreshold,\n      maxDepthThreshold,\n      depthScale,\n      depthToBlurRatioBias\n    });\n    const reflectorProps = {\n      mirror,\n      textureMatrix,\n      mixBlur,\n      tDiffuse: fbo1.texture,\n      tDepth: fbo1.depthTexture,\n      tDiffuseBlur: fbo2.texture,\n      hasBlur,\n      mixStrength,\n      minDepthThreshold,\n      maxDepthThreshold,\n      depthScale,\n      depthToBlurRatioBias,\n      distortion,\n      distortionMap,\n      mixContrast,\n      'defines-USE_BLUR': hasBlur ? '' : undefined,\n      'defines-USE_DEPTH': depthScale > 0 ? '' : undefined,\n      'defines-USE_DISTORTION': distortionMap ? '' : undefined\n    };\n    return [fbo1, fbo2, blurpass, reflectorProps];\n  }, [gl, blur, textureMatrix, resolution, mirror, hasBlur, mixBlur, mixStrength, minDepthThreshold, maxDepthThreshold, depthScale, depthToBlurRatioBias, distortion, distortionMap, mixContrast]);\n  useFrame(() => {\n    var _materialRef$current2;\n    const parent = materialRef.current.parent || ((_materialRef$current2 = materialRef.current) == null || (_materialRef$current2 = _materialRef$current2.__r3f.parent) == null ? void 0 : _materialRef$current2.object);\n    if (!parent) return;\n    parent.visible = false;\n    const currentXrEnabled = gl.xr.enabled;\n    const currentShadowAutoUpdate = gl.shadowMap.autoUpdate;\n    beforeRender();\n    gl.xr.enabled = false;\n    gl.shadowMap.autoUpdate = false;\n    gl.setRenderTarget(fbo1);\n    gl.state.buffers.depth.setMask(true);\n    if (!gl.autoClear) gl.clear();\n    gl.render(scene, virtualCamera);\n    if (hasBlur) blurpass.render(gl, fbo1, fbo2);\n    gl.xr.enabled = currentXrEnabled;\n    gl.shadowMap.autoUpdate = currentShadowAutoUpdate;\n    parent.visible = true;\n    gl.setRenderTarget(null);\n  });\n  return /*#__PURE__*/React.createElement(\"meshReflectorMaterialImpl\", _extends({\n    attach: \"material\"\n    // Defines can't be updated dynamically, so we need to recreate the material\n    ,\n    key: 'key' + reflectorProps['defines-USE_BLUR'] + reflectorProps['defines-USE_DEPTH'] + reflectorProps['defines-USE_DISTORTION'],\n    ref: materialRef\n  }, reflectorProps, props));\n});\n\nexport { MeshReflectorMaterial };\n", "import * as THREE from 'three';\nimport { version } from '../helpers/constants.js';\n\nclass ConvolutionMaterial extends THREE.ShaderMaterial {\n  constructor(texelSize = new THREE.Vector2()) {\n    super({\n      uniforms: {\n        inputBuffer: new THREE.Uniform(null),\n        depthBuffer: new THREE.Uniform(null),\n        resolution: new THREE.Uniform(new THREE.Vector2()),\n        texelSize: new THREE.Uniform(new THREE.Vector2()),\n        halfTexelSize: new THREE.Uniform(new THREE.Vector2()),\n        kernel: new THREE.Uniform(0.0),\n        scale: new THREE.Uniform(1.0),\n        cameraNear: new THREE.Uniform(0.0),\n        cameraFar: new THREE.Uniform(1.0),\n        minDepthThreshold: new THREE.Uniform(0.0),\n        maxDepthThreshold: new THREE.Uniform(1.0),\n        depthScale: new THREE.Uniform(0.0),\n        depthToBlurRatioBias: new THREE.Uniform(0.25)\n      },\n      fragmentShader: `#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n          #include <tonemapping_fragment>\n          #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n        }`,\n      vertexShader: `uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }`,\n      blending: THREE.NoBlending,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.kernel = new Float32Array([0.0, 1.0, 2.0, 2.0, 3.0]);\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n    this.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\n  }\n  setResolution(resolution) {\n    this.uniforms.resolution.value.copy(resolution);\n  }\n}\n\nexport { ConvolutionMaterial };\n", "import { WebGLRenderTarget, LinearFilter, HalfFloatType, Vector2, Scene, Camera, BufferGeometry, BufferAttribute, Mesh } from 'three';\nimport { ConvolutionMaterial } from './ConvolutionMaterial.js';\n\nclass BlurPass {\n  constructor({\n    gl,\n    resolution,\n    width = 500,\n    height = 500,\n    minDepthThreshold = 0,\n    maxDepthThreshold = 1,\n    depthScale = 0,\n    depthToBlurRatioBias = 0.25\n  }) {\n    this.renderToScreen = false;\n    this.renderTargetA = new WebGLRenderTarget(resolution, resolution, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      stencilBuffer: false,\n      depthBuffer: false,\n      type: HalfFloatType\n    });\n    this.renderTargetB = this.renderTargetA.clone();\n    this.convolutionMaterial = new ConvolutionMaterial();\n    this.convolutionMaterial.setTexelSize(1.0 / width, 1.0 / height);\n    this.convolutionMaterial.setResolution(new Vector2(width, height));\n    this.scene = new Scene();\n    this.camera = new Camera();\n    this.convolutionMaterial.uniforms.minDepthThreshold.value = minDepthThreshold;\n    this.convolutionMaterial.uniforms.maxDepthThreshold.value = maxDepthThreshold;\n    this.convolutionMaterial.uniforms.depthScale.value = depthScale;\n    this.convolutionMaterial.uniforms.depthToBlurRatioBias.value = depthToBlurRatioBias;\n    this.convolutionMaterial.defines.USE_DEPTH = depthScale > 0;\n    const vertices = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);\n    const uvs = new Float32Array([0, 0, 2, 0, 0, 2]);\n    const geometry = new BufferGeometry();\n    geometry.setAttribute('position', new BufferAttribute(vertices, 3));\n    geometry.setAttribute('uv', new BufferAttribute(uvs, 2));\n    this.screen = new Mesh(geometry, this.convolutionMaterial);\n    this.screen.frustumCulled = false;\n    this.scene.add(this.screen);\n  }\n  render(renderer, inputBuffer, outputBuffer) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetB = this.renderTargetB;\n    let material = this.convolutionMaterial;\n    let uniforms = material.uniforms;\n    uniforms.depthBuffer.value = inputBuffer.depthTexture;\n    const kernel = material.kernel;\n    let lastRT = inputBuffer;\n    let destRT;\n    let i, l;\n    // Apply the multi-pass blur.\n    for (i = 0, l = kernel.length - 1; i < l; ++i) {\n      // Alternate between targets.\n      destRT = (i & 1) === 0 ? renderTargetA : renderTargetB;\n      uniforms.kernel.value = kernel[i];\n      uniforms.inputBuffer.value = lastRT.texture;\n      renderer.setRenderTarget(destRT);\n      renderer.render(scene, camera);\n      lastRT = destRT;\n    }\n    uniforms.kernel.value = kernel[i];\n    uniforms.inputBuffer.value = lastRT.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(scene, camera);\n  }\n}\n\nexport { BlurPass };\n", "import { MeshStandardMaterial } from 'three';\n\nclass MeshReflectorMaterial extends MeshStandardMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n    this._tDepth = {\n      value: null\n    };\n    this._distortionMap = {\n      value: null\n    };\n    this._tDiffuse = {\n      value: null\n    };\n    this._tDiffuseBlur = {\n      value: null\n    };\n    this._textureMatrix = {\n      value: null\n    };\n    this._hasBlur = {\n      value: false\n    };\n    this._mirror = {\n      value: 0.0\n    };\n    this._mixBlur = {\n      value: 0.0\n    };\n    this._blurStrength = {\n      value: 0.5\n    };\n    this._minDepthThreshold = {\n      value: 0.9\n    };\n    this._maxDepthThreshold = {\n      value: 1\n    };\n    this._depthScale = {\n      value: 0\n    };\n    this._depthToBlurRatioBias = {\n      value: 0.25\n    };\n    this._distortion = {\n      value: 1\n    };\n    this._mixContrast = {\n      value: 1.0\n    };\n    this.setValues(parameters);\n  }\n  onBeforeCompile(shader) {\n    var _shader$defines;\n    if (!((_shader$defines = shader.defines) != null && _shader$defines.USE_UV)) {\n      shader.defines.USE_UV = '';\n    }\n    shader.uniforms.hasBlur = this._hasBlur;\n    shader.uniforms.tDiffuse = this._tDiffuse;\n    shader.uniforms.tDepth = this._tDepth;\n    shader.uniforms.distortionMap = this._distortionMap;\n    shader.uniforms.tDiffuseBlur = this._tDiffuseBlur;\n    shader.uniforms.textureMatrix = this._textureMatrix;\n    shader.uniforms.mirror = this._mirror;\n    shader.uniforms.mixBlur = this._mixBlur;\n    shader.uniforms.mixStrength = this._blurStrength;\n    shader.uniforms.minDepthThreshold = this._minDepthThreshold;\n    shader.uniforms.maxDepthThreshold = this._maxDepthThreshold;\n    shader.uniforms.depthScale = this._depthScale;\n    shader.uniforms.depthToBlurRatioBias = this._depthToBlurRatioBias;\n    shader.uniforms.distortion = this._distortion;\n    shader.uniforms.mixContrast = this._mixContrast;\n    shader.vertexShader = `\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      ${shader.vertexShader}`;\n    shader.vertexShader = shader.vertexShader.replace('#include <project_vertex>', `#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`);\n    shader.fragmentShader = `\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        ${shader.fragmentShader}`;\n    shader.fragmentShader = shader.fragmentShader.replace('#include <emissivemap_fragment>', `#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      `);\n  }\n  get tDiffuse() {\n    return this._tDiffuse.value;\n  }\n  set tDiffuse(v) {\n    this._tDiffuse.value = v;\n  }\n  get tDepth() {\n    return this._tDepth.value;\n  }\n  set tDepth(v) {\n    this._tDepth.value = v;\n  }\n  get distortionMap() {\n    return this._distortionMap.value;\n  }\n  set distortionMap(v) {\n    this._distortionMap.value = v;\n  }\n  get tDiffuseBlur() {\n    return this._tDiffuseBlur.value;\n  }\n  set tDiffuseBlur(v) {\n    this._tDiffuseBlur.value = v;\n  }\n  get textureMatrix() {\n    return this._textureMatrix.value;\n  }\n  set textureMatrix(v) {\n    this._textureMatrix.value = v;\n  }\n  get hasBlur() {\n    return this._hasBlur.value;\n  }\n  set hasBlur(v) {\n    this._hasBlur.value = v;\n  }\n  get mirror() {\n    return this._mirror.value;\n  }\n  set mirror(v) {\n    this._mirror.value = v;\n  }\n  get mixBlur() {\n    return this._mixBlur.value;\n  }\n  set mixBlur(v) {\n    this._mixBlur.value = v;\n  }\n  get mixStrength() {\n    return this._blurStrength.value;\n  }\n  set mixStrength(v) {\n    this._blurStrength.value = v;\n  }\n  get minDepthThreshold() {\n    return this._minDepthThreshold.value;\n  }\n  set minDepthThreshold(v) {\n    this._minDepthThreshold.value = v;\n  }\n  get maxDepthThreshold() {\n    return this._maxDepthThreshold.value;\n  }\n  set maxDepthThreshold(v) {\n    this._maxDepthThreshold.value = v;\n  }\n  get depthScale() {\n    return this._depthScale.value;\n  }\n  set depthScale(v) {\n    this._depthScale.value = v;\n  }\n  get depthToBlurRatioBias() {\n    return this._depthToBlurRatioBias.value;\n  }\n  set depthToBlurRatioBias(v) {\n    this._depthToBlurRatioBias.value = v;\n  }\n  get distortion() {\n    return this._distortion.value;\n  }\n  set distortion(v) {\n    this._distortion.value = v;\n  }\n  get mixContrast() {\n    return this._mixContrast.value;\n  }\n  set mixContrast(v) {\n    this._mixContrast.value = v;\n  }\n}\n\nexport { MeshReflectorMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useRef, useMemo, useLayoutEffect } from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { MeshBVHUniformStruct, MeshBVH, SAH } from 'three-mesh-bvh';\nimport { MeshRefractionMaterial as MeshRefractionMaterial$1 } from '../materials/MeshRefractionMaterial.js';\n\nconst isCubeTexture = def => def && def.isCubeTexture;\nfunction MeshRefractionMaterial({\n  aberrationStrength = 0,\n  fastChroma = true,\n  envMap,\n  ...props\n}) {\n  extend({\n    MeshRefractionMaterial: MeshRefractionMaterial$1\n  });\n  const material = useRef(null);\n  const {\n    size\n  } = useThree();\n  const defines = useMemo(() => {\n    var _ref, _envMap$image$;\n    const temp = {};\n    // Sampler2D and SamplerCube need different defines\n    const isCubeMap = isCubeTexture(envMap);\n    const w = (_ref = isCubeMap ? (_envMap$image$ = envMap.image[0]) == null ? void 0 : _envMap$image$.width : envMap.image.width) !== null && _ref !== void 0 ? _ref : 1024;\n    const cubeSize = w / 4;\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n    const _cubeSize = Math.pow(2, _lodMax);\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    if (isCubeMap) temp.ENVMAP_TYPE_CUBEM = '';\n    temp.CUBEUV_TEXEL_WIDTH = `${1.0 / width}`;\n    temp.CUBEUV_TEXEL_HEIGHT = `${1.0 / height}`;\n    temp.CUBEUV_MAX_MIP = `${_lodMax}.0`;\n    // Add defines from chromatic aberration\n    if (aberrationStrength > 0) temp.CHROMATIC_ABERRATIONS = '';\n    if (fastChroma) temp.FAST_CHROMA = '';\n    return temp;\n  }, [aberrationStrength, fastChroma]);\n  useLayoutEffect(() => {\n    var _material$current;\n    // Get the geometry of this materials parent\n    const geometry = (_material$current = material.current) == null || (_material$current = _material$current.__r3f) == null || (_material$current = _material$current.parent) == null || (_material$current = _material$current.object) == null ? void 0 : _material$current.geometry;\n    // Update the BVH\n    if (geometry) {\n      material.current.bvh = new MeshBVHUniformStruct();\n      material.current.bvh.updateFrom(new MeshBVH(geometry.clone().toNonIndexed(), {\n        strategy: SAH\n      }));\n    }\n  }, []);\n  useFrame(({\n    camera\n  }) => {\n    material.current.viewMatrixInverse = camera.matrixWorld;\n    material.current.projectionMatrixInverse = camera.projectionMatrixInverse;\n  });\n  return /*#__PURE__*/React.createElement(\"meshRefractionMaterial\", _extends({\n    // @ts-ignore\n    key: JSON.stringify(defines)\n    // @ts-ignore\n    ,\n    defines: defines,\n    ref: material,\n    resolution: [size.width, size.height],\n    aberrationStrength: aberrationStrength,\n    envMap: envMap\n  }, props));\n}\n\nexport { MeshRefractionMaterial };\n", "import * as THREE from 'three';\nimport { shaderMaterial } from '../core/shaderMaterial.js';\nimport { shaderStructs, shaderIntersectFunction, MeshBVHUniformStruct } from 'three-mesh-bvh';\nimport { version } from '../helpers/constants.js';\n\n// Author: N8Programs\nconst MeshRefractionMaterial = /* @__PURE__ */shaderMaterial({\n  envMap: null,\n  bounces: 3,\n  ior: 2.4,\n  correctMips: true,\n  aberrationStrength: 0.01,\n  fresnel: 0,\n  bvh: /* @__PURE__ */new MeshBVHUniformStruct(),\n  color: /* @__PURE__ */new THREE.Color('white'),\n  opacity: 1,\n  resolution: /* @__PURE__ */new THREE.Vector2(),\n  viewMatrixInverse: /* @__PURE__ */new THREE.Matrix4(),\n  projectionMatrixInverse: /* @__PURE__ */new THREE.Matrix4()\n}, /*glsl*/`\n  uniform mat4 viewMatrixInverse;\n\n  varying vec3 vWorldPosition;\n  varying vec3 vNormal;\n  varying mat4 vModelMatrixInverse;\n\n  #include <color_pars_vertex>\n\n  void main() {\n    #include <color_vertex>\n\n    vec4 transformedNormal = vec4(normal, 0.0);\n    vec4 transformedPosition = vec4(position, 1.0);\n    #ifdef USE_INSTANCING\n      transformedNormal = instanceMatrix * transformedNormal;\n      transformedPosition = instanceMatrix * transformedPosition;\n    #endif\n\n    #ifdef USE_INSTANCING\n      vModelMatrixInverse = inverse(modelMatrix * instanceMatrix);\n    #else\n      vModelMatrixInverse = inverse(modelMatrix);\n    #endif\n\n    vWorldPosition = (modelMatrix * transformedPosition).xyz;\n    vNormal = normalize((viewMatrixInverse * vec4(normalMatrix * transformedNormal.xyz, 0.0)).xyz);\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * transformedPosition;\n  }`, /*glsl*/`\n  #define ENVMAP_TYPE_CUBE_UV\n  precision highp isampler2D;\n  precision highp usampler2D;\n  varying vec3 vWorldPosition;\n  varying vec3 vNormal;\n  varying mat4 vModelMatrixInverse;\n\n  #include <color_pars_fragment>\n\n  #ifdef ENVMAP_TYPE_CUBEM\n    uniform samplerCube envMap;\n  #else\n    uniform sampler2D envMap;\n  #endif\n\n  uniform float bounces;\n  ${shaderStructs}\n  ${shaderIntersectFunction}\n  uniform BVH bvh;\n  uniform float ior;\n  uniform bool correctMips;\n  uniform vec2 resolution;\n  uniform float fresnel;\n  uniform mat4 modelMatrix;\n  uniform mat4 projectionMatrixInverse;\n  uniform mat4 viewMatrixInverse;\n  uniform float aberrationStrength;\n  uniform vec3 color;\n  uniform float opacity;\n\n  float fresnelFunc(vec3 viewDirection, vec3 worldNormal) {\n    return pow( 1.0 + dot( viewDirection, worldNormal), 10.0 );\n  }\n\n  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 normal, float ior, mat4 modelMatrixInverse) {\n    vec3 rayOrigin = ro;\n    vec3 rayDirection = rd;\n    rayDirection = refract(rayDirection, normal, 1.0 / ior);\n    rayOrigin = vWorldPosition + rayDirection * 0.001;\n    rayOrigin = (modelMatrixInverse * vec4(rayOrigin, 1.0)).xyz;\n    rayDirection = normalize((modelMatrixInverse * vec4(rayDirection, 0.0)).xyz);\n    for(float i = 0.0; i < bounces; i++) {\n      uvec4 faceIndices = uvec4( 0u );\n      vec3 faceNormal = vec3( 0.0, 0.0, 1.0 );\n      vec3 barycoord = vec3( 0.0 );\n      float side = 1.0;\n      float dist = 0.0;\n      bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );\n      vec3 hitPos = rayOrigin + rayDirection * max(dist - 0.001, 0.0);\n      vec3 tempDir = refract(rayDirection, faceNormal, ior);\n      if (length(tempDir) != 0.0) {\n        rayDirection = tempDir;\n        break;\n      }\n      rayDirection = reflect(rayDirection, faceNormal);\n      rayOrigin = hitPos + rayDirection * 0.01;\n    }\n    rayDirection = normalize((modelMatrix * vec4(rayDirection, 0.0)).xyz);\n    return rayDirection;\n  }\n\n  #include <common>\n  #include <cube_uv_reflection_fragment>\n\n  #ifdef ENVMAP_TYPE_CUBEM\n    vec4 textureGradient(samplerCube envMap, vec3 rayDirection, vec3 directionCamPerfect) {\n      return textureGrad(envMap, rayDirection, dFdx(correctMips ? directionCamPerfect: rayDirection), dFdy(correctMips ? directionCamPerfect: rayDirection));\n    }\n  #else\n    vec4 textureGradient(sampler2D envMap, vec3 rayDirection, vec3 directionCamPerfect) {\n      vec2 uvv = equirectUv( rayDirection );\n      vec2 smoothUv = equirectUv( directionCamPerfect );\n      return textureGrad(envMap, uvv, dFdx(correctMips ? smoothUv : uvv), dFdy(correctMips ? smoothUv : uvv));\n    }\n  #endif\n\n  void main() {\n    vec2 uv = gl_FragCoord.xy / resolution;\n    vec3 directionCamPerfect = (projectionMatrixInverse * vec4(uv * 2.0 - 1.0, 0.0, 1.0)).xyz;\n    directionCamPerfect = (viewMatrixInverse * vec4(directionCamPerfect, 0.0)).xyz;\n    directionCamPerfect = normalize(directionCamPerfect);\n    vec3 normal = vNormal;\n    vec3 rayOrigin = cameraPosition;\n    vec3 rayDirection = normalize(vWorldPosition - cameraPosition);\n\n    vec4 diffuseColor = vec4(color, opacity);\n    #include <color_fragment>\n\n    #ifdef CHROMATIC_ABERRATIONS\n      vec3 rayDirectionG = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);\n      #ifdef FAST_CHROMA\n        vec3 rayDirectionR = normalize(rayDirectionG + 1.0 * vec3(aberrationStrength / 2.0));\n        vec3 rayDirectionB = normalize(rayDirectionG - 1.0 * vec3(aberrationStrength / 2.0));\n      #else\n        vec3 rayDirectionR = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 - aberrationStrength), 1.0), vModelMatrixInverse);\n        vec3 rayDirectionB = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 + aberrationStrength), 1.0), vModelMatrixInverse);\n      #endif\n      float finalColorR = textureGradient(envMap, rayDirectionR, directionCamPerfect).r;\n      float finalColorG = textureGradient(envMap, rayDirectionG, directionCamPerfect).g;\n      float finalColorB = textureGradient(envMap, rayDirectionB, directionCamPerfect).b;\n      diffuseColor.rgb *= vec3(finalColorR, finalColorG, finalColorB);\n    #else\n      rayDirection = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);\n      diffuseColor.rgb *= textureGradient(envMap, rayDirection, directionCamPerfect).rgb;\n    #endif\n\n    vec3 viewDirection = normalize(vWorldPosition - cameraPosition);\n    float nFresnel = fresnelFunc(viewDirection, normal) * fresnel;\n    gl_FragColor = vec4(mix(diffuseColor.rgb, vec3(1.0), nFresnel), diffuseColor.a);\n\n    #include <tonemapping_fragment>\n    #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n  }`);\n\nexport { MeshRefractionMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\n\nclass MeshTransmissionMaterialImpl extends THREE.MeshPhysicalMaterial {\n  constructor(samples = 6, transmissionSampler = false) {\n    super();\n    this.uniforms = {\n      chromaticAberration: {\n        value: 0.05\n      },\n      // Transmission must always be 0, unless transmissionSampler is being used\n      transmission: {\n        value: 0\n      },\n      // Instead a workaround is used, see below for reasons why\n      _transmission: {\n        value: 1\n      },\n      transmissionMap: {\n        value: null\n      },\n      // Roughness is 1 in THREE.MeshPhysicalMaterial but it makes little sense in a transmission material\n      roughness: {\n        value: 0\n      },\n      thickness: {\n        value: 0\n      },\n      thicknessMap: {\n        value: null\n      },\n      attenuationDistance: {\n        value: Infinity\n      },\n      attenuationColor: {\n        value: new THREE.Color('white')\n      },\n      anisotropicBlur: {\n        value: 0.1\n      },\n      time: {\n        value: 0\n      },\n      distortion: {\n        value: 0.0\n      },\n      distortionScale: {\n        value: 0.5\n      },\n      temporalDistortion: {\n        value: 0.0\n      },\n      buffer: {\n        value: null\n      }\n    };\n    this.onBeforeCompile = shader => {\n      shader.uniforms = {\n        ...shader.uniforms,\n        ...this.uniforms\n      };\n\n      // Fix for r153-r156 anisotropy chunks\n      // https://github.com/mrdoob/three.js/pull/26716\n      if (this.anisotropy > 0) shader.defines.USE_ANISOTROPY = '';\n\n      // If the transmission sampler is active inject a flag\n      if (transmissionSampler) shader.defines.USE_SAMPLER = '';\n      // Otherwise we do use use .transmission and must therefore force USE_TRANSMISSION\n      // because threejs won't inject it for us\n      else shader.defines.USE_TRANSMISSION = '';\n\n      // Head\n      shader.fragmentShader = /*glsl*/`\n      uniform float chromaticAberration;         \n      uniform float anisotropicBlur;      \n      uniform float time;\n      uniform float distortion;\n      uniform float distortionScale;\n      uniform float temporalDistortion;\n      uniform sampler2D buffer;\n\n      vec3 random3(vec3 c) {\n        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n        vec3 r;\n        r.z = fract(512.0*j);\n        j *= .125;\n        r.x = fract(512.0*j);\n        j *= .125;\n        r.y = fract(512.0*j);\n        return r-0.5;\n      }\n\n      uint hash( uint x ) {\n        x += ( x << 10u );\n        x ^= ( x >>  6u );\n        x += ( x <<  3u );\n        x ^= ( x >> 11u );\n        x += ( x << 15u );\n        return x;\n      }\n\n      // Compound versions of the hashing algorithm I whipped together.\n      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\n      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\n      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n      // Construct a float with half-open range [0:1] using low 23 bits.\n      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\n      float floatConstruct( uint m ) {\n        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n        m |= ieeeOne;                          // Add fractional part to 1.0\n        float  f = uintBitsToFloat( m );       // Range [1:2]\n        return f - 1.0;                        // Range [0:1]\n      }\n\n      // Pseudo-random value in half-open range [0:1].\n      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\n      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float rand(float seed) {\n        float result = randomBase(vec3(gl_FragCoord.xy, seed));\n        return result;\n      }\n\n      const float F3 =  0.3333333;\n      const float G3 =  0.1666667;\n\n      float snoise(vec3 p) {\n        vec3 s = floor(p + dot(p, vec3(F3)));\n        vec3 x = p - s + dot(s, vec3(G3));\n        vec3 e = step(vec3(0.0), x - x.yzx);\n        vec3 i1 = e*(1.0 - e.zxy);\n        vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n        vec3 x1 = x - i1 + G3;\n        vec3 x2 = x - i2 + 2.0*G3;\n        vec3 x3 = x - 1.0 + 3.0*G3;\n        vec4 w, d;\n        w.x = dot(x, x);\n        w.y = dot(x1, x1);\n        w.z = dot(x2, x2);\n        w.w = dot(x3, x3);\n        w = max(0.6 - w, 0.0);\n        d.x = dot(random3(s), x);\n        d.y = dot(random3(s + i1), x1);\n        d.z = dot(random3(s + i2), x2);\n        d.w = dot(random3(s + 1.0), x3);\n        w *= w;\n        w *= w;\n        d *= w;\n        return dot(d, vec4(52.0));\n      }\n\n      float snoiseFractal(vec3 m) {\n        return 0.5333333* snoise(m)\n              +0.2666667* snoise(2.0*m)\n              +0.1333333* snoise(4.0*m)\n              +0.0666667* snoise(8.0*m);\n      }\\n` + shader.fragmentShader;\n\n      // Remove transmission\n      shader.fragmentShader = shader.fragmentShader.replace('#include <transmission_pars_fragment>', /*glsl*/`\n        #ifdef USE_TRANSMISSION\n          // Transmission code is based on glTF-Sampler-Viewer\n          // https://github.com/KhronosGroup/glTF-Sample-Viewer\n          uniform float _transmission;\n          uniform float thickness;\n          uniform float attenuationDistance;\n          uniform vec3 attenuationColor;\n          #ifdef USE_TRANSMISSIONMAP\n            uniform sampler2D transmissionMap;\n          #endif\n          #ifdef USE_THICKNESSMAP\n            uniform sampler2D thicknessMap;\n          #endif\n          uniform vec2 transmissionSamplerSize;\n          uniform sampler2D transmissionSamplerMap;\n          uniform mat4 modelMatrix;\n          uniform mat4 projectionMatrix;\n          varying vec3 vWorldPosition;\n          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n            // Direction of refracted light.\n            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n            // Compute rotation-independant scaling of the model matrix.\n            vec3 modelScale;\n            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n            // The thickness is specified in local space.\n            return normalize( refractionVector ) * thickness * modelScale;\n          }\n          float applyIorToRoughness( const in float roughness, const in float ior ) {\n            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n            // an IOR of 1.5 results in the default amount of microfacet refraction.\n            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n          }\n          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            \n            #ifdef USE_SAMPLER\n              #ifdef texture2DLodEXT\n                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #else\n                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #endif\n            #else\n              return texture2D(buffer, fragCoord.xy);\n            #endif\n          }\n          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n            if ( isinf( attenuationDistance ) ) {\n              // Attenuation distance is +, i.e. the transmitted color is not attenuated at all.\n              return radiance;\n            } else {\n              // Compute light attenuation using Beer's law.\n              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law\n              return transmittance * radiance;\n            }\n          }\n          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n            const in vec3 attenuationColor, const in float attenuationDistance ) {\n            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n            vec3 refractedRayExit = position + transmissionRay;\n            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n            vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n            refractionCoords += 1.0;\n            refractionCoords /= 2.0;\n            // Sample framebuffer to get pixel the refracted ray hits.\n            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n            // Get the specular component.\n            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n          }\n        #endif\\n`);\n\n      // Add refraction\n      shader.fragmentShader = shader.fragmentShader.replace('#include <transmission_fragment>', /*glsl*/`  \n        // Improve the refraction to use the world pos\n        material.transmission = _transmission;\n        material.transmissionAlpha = 1.0;\n        material.thickness = thickness;\n        material.attenuationDistance = attenuationDistance;\n        material.attenuationColor = attenuationColor;\n        #ifdef USE_TRANSMISSIONMAP\n          material.transmission *= texture2D( transmissionMap, vUv ).r;\n        #endif\n        #ifdef USE_THICKNESSMAP\n          material.thickness *= texture2D( thicknessMap, vUv ).g;\n        #endif\n        \n        vec3 pos = vWorldPosition;\n        float runningSeed = 0.0;\n        vec3 v = normalize( cameraPosition - pos );\n        vec3 n = inverseTransformDirection( normal, viewMatrix );\n        vec3 transmission = vec3(0.0);\n        float transmissionR, transmissionB, transmissionG;\n        float randomCoords = rand(runningSeed++);\n        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);\n        vec3 distortionNormal = vec3(0.0);\n        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;\n        if (distortion > 0.0) {\n          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));\n        }\n        for (float i = 0.0; i < ${samples}.0; i ++) {\n          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);\n          transmissionR = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).r;\n          transmissionG = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${samples})) , material.thickness + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).g;\n          transmissionB = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${samples})), material.thickness + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).b;\n          transmission.r += transmissionR;\n          transmission.g += transmissionG;\n          transmission.b += transmissionB;\n        }\n        transmission /= ${samples}.0;\n        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\\n`);\n    };\n    Object.keys(this.uniforms).forEach(name => Object.defineProperty(this, name, {\n      get: () => this.uniforms[name].value,\n      set: v => this.uniforms[name].value = v\n    }));\n  }\n}\nconst MeshTransmissionMaterial = /* @__PURE__ */React.forwardRef(({\n  buffer,\n  transmissionSampler = false,\n  backside = false,\n  side = THREE.FrontSide,\n  transmission = 1,\n  thickness = 0,\n  backsideThickness = 0,\n  backsideEnvMapIntensity = 1,\n  samples = 10,\n  resolution,\n  backsideResolution,\n  background,\n  anisotropy,\n  anisotropicBlur,\n  ...props\n}, fref) => {\n  extend({\n    MeshTransmissionMaterial: MeshTransmissionMaterialImpl\n  });\n  const ref = React.useRef(null);\n  const [discardMaterial] = React.useState(() => new DiscardMaterial());\n  const fboBack = useFBO(backsideResolution || resolution);\n  const fboMain = useFBO(resolution);\n  let oldBg;\n  let oldEnvMapIntensity;\n  let oldTone;\n  let parent;\n  useFrame(state => {\n    ref.current.time = state.clock.elapsedTime;\n    // Render only if the buffer matches the built-in and no transmission sampler is set\n    if (ref.current.buffer === fboMain.texture && !transmissionSampler) {\n      var _r3f$parent;\n      parent = (_r3f$parent = ref.current.__r3f.parent) == null ? void 0 : _r3f$parent.object;\n      if (parent) {\n        // Save defaults\n        oldTone = state.gl.toneMapping;\n        oldBg = state.scene.background;\n        oldEnvMapIntensity = ref.current.envMapIntensity;\n\n        // Switch off tonemapping lest it double tone maps\n        // Save the current background and set the HDR as the new BG\n        // Use discardmaterial, the parent will be invisible, but it's shadows will still be cast\n        state.gl.toneMapping = THREE.NoToneMapping;\n        if (background) state.scene.background = background;\n        parent.material = discardMaterial;\n        if (backside) {\n          // Render into the backside buffer\n          state.gl.setRenderTarget(fboBack);\n          state.gl.render(state.scene, state.camera);\n          // And now prepare the material for the main render using the backside buffer\n          parent.material = ref.current;\n          parent.material.buffer = fboBack.texture;\n          parent.material.thickness = backsideThickness;\n          parent.material.side = THREE.BackSide;\n          parent.material.envMapIntensity = backsideEnvMapIntensity;\n        }\n\n        // Render into the main buffer\n        state.gl.setRenderTarget(fboMain);\n        state.gl.render(state.scene, state.camera);\n        parent.material = ref.current;\n        parent.material.thickness = thickness;\n        parent.material.side = side;\n        parent.material.buffer = fboMain.texture;\n        parent.material.envMapIntensity = oldEnvMapIntensity;\n\n        // Set old state back\n        state.scene.background = oldBg;\n        state.gl.setRenderTarget(null);\n        state.gl.toneMapping = oldTone;\n      }\n    }\n  });\n\n  // Forward ref\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"meshTransmissionMaterial\", _extends({\n    // Samples must re-compile the shader so we memoize it\n    args: [samples, transmissionSampler],\n    ref: ref\n  }, props, {\n    buffer: buffer || fboMain.texture\n    // @ts-ignore\n    ,\n    _transmission: transmission\n    // In order for this to not incur extra cost \"transmission\" must be set to 0 and treated as a reserved prop.\n    // This is because THREE.WebGLRenderer will check for transmission > 0 and execute extra renders.\n    // The exception is when transmissionSampler is set, in which case we are using three's built in sampler.\n    ,\n    anisotropicBlur: anisotropicBlur !== null && anisotropicBlur !== void 0 ? anisotropicBlur : anisotropy,\n    transmission: transmissionSampler ? transmission : 0,\n    thickness: thickness,\n    side: side\n  }));\n});\n\nexport { MeshTransmissionMaterial };\n", "import { shaderMaterial } from '../core/shaderMaterial.js';\n\nconst DiscardMaterial = /* @__PURE__ */shaderMaterial({}, 'void main() { }', 'void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }');\n\nexport { DiscardMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { extend } from '@react-three/fiber';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\n\nconst MeshDiscardMaterial = /* @__PURE__ */React.forwardRef((props, fref) => {\n  extend({\n    DiscardMaterialImpl: DiscardMaterial\n  });\n  return /*#__PURE__*/React.createElement(\"discardMaterialImpl\", _extends({\n    ref: fref\n  }, props));\n});\n\nexport { MeshDiscardMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\n\nfunction MultiMaterial(props) {\n  const group = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = group.current.parent;\n    const geometry = parent == null ? void 0 : parent.geometry;\n    if (geometry) {\n      const oldMaterial = parent.material;\n      parent.material = group.current.__r3f.children.map(instance => instance.object);\n      const oldGroups = [...geometry.groups];\n      geometry.clearGroups();\n      parent.material.forEach((material, index) => {\n        if (index < parent.material.length - 1) material.depthWrite = false;\n        geometry.addGroup(0, Infinity, index);\n      });\n      return () => {\n        parent.material = oldMaterial;\n        geometry.groups = oldGroups;\n      };\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, props));\n}\n\nexport { MultiMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { version } from '../helpers/constants.js';\n\nconst opaque_fragment = version >= 154 ? 'opaque_fragment' : 'output_fragment';\nclass PointMaterialImpl extends THREE.PointsMaterial {\n  constructor(props) {\n    super(props);\n    this.onBeforeCompile = (shader, renderer) => {\n      const {\n        isWebGL2\n      } = renderer.capabilities;\n      shader.fragmentShader = shader.fragmentShader.replace(`#include <${opaque_fragment}>`, `\n        ${!isWebGL2 ? `#extension GL_OES_standard_derivatives : enable\\n#include <${opaque_fragment}>` : `#include <${opaque_fragment}>`}\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n      float r = dot(cxy, cxy);\n      float delta = fwidth(r);     \n      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n      `);\n    };\n  }\n}\nconst PointMaterial = /* @__PURE__ */React.forwardRef((props, ref) => {\n  const [material] = React.useState(() => new PointMaterialImpl(null));\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({}, props, {\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }));\n});\n\nexport { PointMaterial, PointMaterialImpl };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n/*  Integration and compilation: @N8Programs\n    Inspired by:\n     https://github.com/mrdoob/three.js/blob/dev/examples/webgl_shadowmap_pcss.html\n     https://developer.nvidia.com/gpugems/gpugems2/part-ii-shading-lighting-and-shadows/chapter-17-efficient-soft-edged-shadows-using\n     https://developer.download.nvidia.com/whitepapers/2008/PCSS_Integration.pdf\n     https://github.com/mrdoob/three.js/blob/master/examples/webgl_shadowmap_pcss.html [spidersharma03]\n     https://spline.design/\n   Concept:\n     https://www.gamedev.net/tutorials/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/\n   Vogel Disk Implementation:\n     https://www.shadertoy.com/view/4l3yRM [ashalah]\n   High-Frequency Noise Implementation:\n     https://www.shadertoy.com/view/tt3fDH [spawner64]\n*/\nconst pcss = ({\n  focus = 0,\n  size = 25,\n  samples = 10\n} = {}) => `\n#define PENUMBRA_FILTER_SIZE float(${size})\n#define RGB_NOISE_FUNCTION(uv) (randRGB(uv))\nvec3 randRGB(vec2 uv) {\n  return vec3(\n    fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),\n    fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),\n    fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)\n  );\n}\n\nvec3 lowPassRandRGB(vec2 uv) {\n  // 3x3 convolution (average)\n  // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9\n  vec3 result = vec3(0);\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));\n  result *= 0.111111111; // 1.0 / 9.0\n  return result;\n}\nvec3 highPassRandRGB(vec2 uv) {\n  // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal\n  // hp(x) = x - lp(x)\n  return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;\n}\n\n\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n  const float goldenAngle = 2.399963f; // radians\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n  float theta = float(sampleIndex) * goldenAngle + angle;\n  float sine = sin(theta);\n  float cosine = cos(theta);\n  return vec2(cosine, sine) * r;\n}\nfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n  return (zReceiver - zBlocker) / zBlocker;\n}\nfloat findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {\n  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n  float blockerDepthSum = float(${focus});\n  float blockers = 0.0;\n\n  int j = 0;\n  vec2 offset = vec2(0.);\n  float depth = 0.;\n\n  #pragma unroll_loop_start\n  for(int i = 0; i < ${samples}; i ++) {\n    offset = (vogelDiskSample(j, ${samples}, angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;\n    depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));\n    if (depth < compare) {\n      blockerDepthSum += depth;\n      blockers++;\n    }\n    j++;\n  }\n  #pragma unroll_loop_end\n\n  if (blockers > 0.0) {\n    return blockerDepthSum / blockers;\n  }\n  return -1.0;\n}\n\n        \nfloat vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {\n  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n  float shadow = 0.0f;\n  int j = 0;\n  vec2 vogelSample = vec2(0.0);\n  vec2 offset = vec2(0.0);\n  #pragma unroll_loop_start\n  for (int i = 0; i < ${samples}; i++) {\n    vogelSample = vogelDiskSample(j, ${samples}, angle) * texelSize;\n    offset = vogelSample * (1.0 + filterRadius * float(${size}));\n    shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n    j++;\n  }\n  #pragma unroll_loop_end\n  return shadow * 1.0 / ${samples}.0;\n}\n\nfloat PCSS (sampler2D shadowMap, vec4 coords) {\n  vec2 uv = coords.xy;\n  float zReceiver = coords.z; // Assumed to be eye-space z in this code\n  float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;\n  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);\n  if (avgBlockerDepth == -1.0) {\n    return 1.0;\n  }\n  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\n  return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);\n}`;\nfunction reset(gl, scene, camera) {\n  scene.traverse(object => {\n    if (object.material) {\n      gl.properties.remove(object.material);\n      object.material.dispose == null || object.material.dispose();\n    }\n  });\n  gl.info.programs.length = 0;\n  gl.compile(scene, camera);\n}\nfunction SoftShadows({\n  focus = 0,\n  samples = 10,\n  size = 25\n}) {\n  const gl = useThree(state => state.gl);\n  const scene = useThree(state => state.scene);\n  const camera = useThree(state => state.camera);\n  React.useEffect(() => {\n    const original = THREE.ShaderChunk.shadowmap_pars_fragment;\n    THREE.ShaderChunk.shadowmap_pars_fragment = THREE.ShaderChunk.shadowmap_pars_fragment.replace('#ifdef USE_SHADOWMAP', '#ifdef USE_SHADOWMAP\\n' + pcss({\n      size,\n      samples,\n      focus\n    })).replace('#if defined( SHADOWMAP_TYPE_PCF )', '\\nreturn PCSS(shadowMap, shadowCoord);\\n#if defined( SHADOWMAP_TYPE_PCF )');\n    reset(gl, scene, camera);\n    return () => {\n      THREE.ShaderChunk.shadowmap_pars_fragment = original;\n      reset(gl, scene, camera);\n    };\n  }, [focus, size, samples]);\n  return null;\n}\n\nexport { SoftShadows };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction create(type, effect) {\n  const El = type + 'Geometry';\n  return /*#__PURE__*/React.forwardRef(({\n    args,\n    children,\n    ...props\n  }, fref) => {\n    const ref = React.useRef(null);\n    React.useImperativeHandle(fref, () => ref.current);\n    React.useLayoutEffect(() => void (effect == null ? void 0 : effect(ref.current)));\n    return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      ref: ref\n    }, props), /*#__PURE__*/React.createElement(El, {\n      attach: \"geometry\",\n      args: args\n    }), children);\n  });\n}\nconst Box = /* @__PURE__ */create('box');\nconst Circle = /* @__PURE__ */create('circle');\nconst Cone = /* @__PURE__ */create('cone');\nconst Cylinder = /* @__PURE__ */create('cylinder');\nconst Sphere = /* @__PURE__ */create('sphere');\nconst Plane = /* @__PURE__ */create('plane');\nconst Tube = /* @__PURE__ */create('tube');\nconst Torus = /* @__PURE__ */create('torus');\nconst TorusKnot = /* @__PURE__ */create('torusKnot');\nconst Tetrahedron = /* @__PURE__ */create('tetrahedron');\nconst Ring = /* @__PURE__ */create('ring');\nconst Polyhedron = /* @__PURE__ */create('polyhedron');\nconst Icosahedron = /* @__PURE__ */create('icosahedron');\nconst Octahedron = /* @__PURE__ */create('octahedron');\nconst Dodecahedron = /* @__PURE__ */create('dodecahedron');\nconst Extrude = /* @__PURE__ */create('extrude');\nconst Lathe = /* @__PURE__ */create('lathe');\nconst Capsule = /* @__PURE__ */create('capsule');\nconst Shape = /* @__PURE__ */create('shape', ({\n  geometry\n}) => {\n  // Calculate UVs (by https://discourse.threejs.org/u/prisoner849)\n  // https://discourse.threejs.org/t/custom-shape-in-image-not-working/49348/10\n  const pos = geometry.attributes.position;\n  const b3 = new THREE.Box3().setFromBufferAttribute(pos);\n  const b3size = new THREE.Vector3();\n  b3.getSize(b3size);\n  const uv = [];\n  let x = 0,\n    y = 0,\n    u = 0,\n    v = 0;\n  for (let i = 0; i < pos.count; i++) {\n    x = pos.getX(i);\n    y = pos.getY(i);\n    u = (x - b3.min.x) / b3size.x;\n    v = (y - b3.min.y) / b3size.y;\n    uv.push(u, v);\n  }\n  geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uv, 2));\n});\n\nexport { Box, Capsule, Circle, Cone, Cylinder, Dodecahedron, Extrude, Icosahedron, Lathe, Octahedron, Plane, Polyhedron, Ring, Shape, Sphere, Tetrahedron, Torus, TorusKnot, Tube };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Shape } from 'three';\nimport { toCreasedNormals } from 'three-stdlib';\n\nconst eps = 0.00001;\nfunction createShape(width, height, radius0) {\n  const shape = new Shape();\n  const radius = radius0 - eps;\n  shape.absarc(eps, eps, eps, -Math.PI / 2, -Math.PI, true);\n  shape.absarc(eps, height - radius * 2, eps, Math.PI, Math.PI / 2, true);\n  shape.absarc(width - radius * 2, height - radius * 2, eps, Math.PI / 2, 0, true);\n  shape.absarc(width - radius * 2, eps, eps, 0, -Math.PI / 2, true);\n  return shape;\n}\nconst RoundedBox = /* @__PURE__ */React.forwardRef(function RoundedBox({\n  args: [width = 1, height = 1, depth = 1] = [],\n  radius = 0.05,\n  steps = 1,\n  smoothness = 4,\n  bevelSegments = 4,\n  creaseAngle = 0.4,\n  children,\n  ...rest\n}, ref) {\n  const shape = React.useMemo(() => createShape(width, height, radius), [width, height, radius]);\n  const params = React.useMemo(() => ({\n    depth: depth - radius * 2,\n    bevelEnabled: true,\n    bevelSegments: bevelSegments * 2,\n    steps,\n    bevelSize: radius - eps,\n    bevelThickness: radius,\n    curveSegments: smoothness\n  }), [depth, radius, smoothness]);\n  const geomRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (geomRef.current) {\n      geomRef.current.center();\n      toCreasedNormals(geomRef.current, creaseAngle);\n    }\n  }, [shape, params]);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"extrudeGeometry\", {\n    ref: geomRef,\n    args: [shape, params]\n  }), children);\n});\n\nexport { RoundedBox };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\n\nfunction createScreenQuadGeometry() {\n  const geometry = new THREE.BufferGeometry();\n  const vertices = new Float32Array([-1, -1, 3, -1, -1, 3]);\n  geometry.boundingSphere = new THREE.Sphere();\n  geometry.boundingSphere.set(new THREE.Vector3(), Infinity);\n  geometry.setAttribute('position', new THREE.BufferAttribute(vertices, 2));\n  return geometry;\n}\nconst ScreenQuad = /* @__PURE__ */React.forwardRef(function ScreenQuad({\n  children,\n  ...restProps\n}, ref) {\n  const geometry = React.useMemo(createScreenQuadGeometry, []);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    geometry: geometry,\n    frustumCulled: false\n  }, restProps), children);\n});\n\nexport { ScreenQuad };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\n\nconst Resize = /* @__PURE__ */React.forwardRef(({\n  children,\n  width,\n  height,\n  depth,\n  box3,\n  precise = true,\n  ...props\n}, fRef) => {\n  const ref = React.useRef(null);\n  const outer = React.useRef(null);\n  const inner = React.useRef(null);\n  React.useLayoutEffect(() => {\n    outer.current.matrixWorld.identity();\n    let box = box3 || new THREE.Box3().setFromObject(inner.current, precise);\n    const w = box.max.x - box.min.x;\n    const h = box.max.y - box.min.y;\n    const d = box.max.z - box.min.z;\n    let dimension = Math.max(w, h, d);\n    if (width) dimension = w;\n    if (height) dimension = h;\n    if (depth) dimension = d;\n    outer.current.scale.setScalar(1 / dimension);\n  }, [width, height, depth, box3, precise]);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children)));\n});\n\nexport { Resize };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nvar AnimationState = /*#__PURE__*/function (AnimationState) {\n  AnimationState[AnimationState[\"NONE\"] = 0] = \"NONE\";\n  AnimationState[AnimationState[\"START\"] = 1] = \"START\";\n  AnimationState[AnimationState[\"ACTIVE\"] = 2] = \"ACTIVE\";\n  return AnimationState;\n}(AnimationState || {});\nconst isOrthographic = def => def && def.isOrthographicCamera;\nconst isBox3 = def => def && def.isBox3;\nconst interpolateFuncDefault = t => {\n  // Imitates the previously used THREE.MathUtils.damp\n  return 1 - Math.exp(-5 * t) + 0.007 * t;\n};\nconst context = /*#__PURE__*/React.createContext(null);\nfunction Bounds({\n  children,\n  maxDuration = 1.0,\n  margin = 1.2,\n  observe,\n  fit,\n  clip,\n  interpolateFunc = interpolateFuncDefault,\n  onFit\n}) {\n  const ref = React.useRef(null);\n  const {\n    camera,\n    size,\n    invalidate\n  } = useThree();\n  const controls = useThree(state => state.controls);\n  const onFitRef = React.useRef(onFit);\n  onFitRef.current = onFit;\n  const origin = React.useRef({\n    camPos: new THREE.Vector3(),\n    camRot: new THREE.Quaternion(),\n    camZoom: 1\n  });\n  const goal = React.useRef({\n    camPos: undefined,\n    camRot: undefined,\n    camZoom: undefined,\n    camUp: undefined,\n    target: undefined\n  });\n  const animationState = React.useRef(AnimationState.NONE);\n  const t = React.useRef(0); // represent animation state from 0 to 1\n\n  const [box] = React.useState(() => new THREE.Box3());\n  const api = React.useMemo(() => {\n    function getSize() {\n      const boxSize = box.getSize(new THREE.Vector3());\n      const center = box.getCenter(new THREE.Vector3());\n      const maxSize = Math.max(boxSize.x, boxSize.y, boxSize.z);\n      const fitHeightDistance = isOrthographic(camera) ? maxSize * 4 : maxSize / (2 * Math.atan(Math.PI * camera.fov / 360));\n      const fitWidthDistance = isOrthographic(camera) ? maxSize * 4 : fitHeightDistance / camera.aspect;\n      const distance = margin * Math.max(fitHeightDistance, fitWidthDistance);\n      return {\n        box,\n        size: boxSize,\n        center,\n        distance\n      };\n    }\n    return {\n      getSize,\n      refresh(object) {\n        if (isBox3(object)) box.copy(object);else {\n          const target = object || ref.current;\n          if (!target) return this;\n          target.updateWorldMatrix(true, true);\n          box.setFromObject(target);\n        }\n        if (box.isEmpty()) {\n          const max = camera.position.length() || 10;\n          box.setFromCenterAndSize(new THREE.Vector3(), new THREE.Vector3(max, max, max));\n        }\n        origin.current.camPos.copy(camera.position);\n        origin.current.camRot.copy(camera.quaternion);\n        isOrthographic(camera) && (origin.current.camZoom = camera.zoom);\n        goal.current.camPos = undefined;\n        goal.current.camRot = undefined;\n        goal.current.camZoom = undefined;\n        goal.current.camUp = undefined;\n        goal.current.target = undefined;\n        return this;\n      },\n      reset() {\n        const {\n          center,\n          distance\n        } = getSize();\n        const direction = camera.position.clone().sub(center).normalize();\n        goal.current.camPos = center.clone().addScaledVector(direction, distance);\n        goal.current.target = center.clone();\n        const mCamRot = new THREE.Matrix4().lookAt(goal.current.camPos, goal.current.target, camera.up);\n        goal.current.camRot = new THREE.Quaternion().setFromRotationMatrix(mCamRot);\n        animationState.current = AnimationState.START;\n        t.current = 0;\n        return this;\n      },\n      moveTo(position) {\n        goal.current.camPos = Array.isArray(position) ? new THREE.Vector3(...position) : position.clone();\n        animationState.current = AnimationState.START;\n        t.current = 0;\n        return this;\n      },\n      lookAt({\n        target,\n        up\n      }) {\n        goal.current.target = Array.isArray(target) ? new THREE.Vector3(...target) : target.clone();\n        if (up) {\n          goal.current.camUp = Array.isArray(up) ? new THREE.Vector3(...up) : up.clone();\n        } else {\n          goal.current.camUp = camera.up.clone();\n        }\n        const mCamRot = new THREE.Matrix4().lookAt(goal.current.camPos || camera.position, goal.current.target, goal.current.camUp);\n        goal.current.camRot = new THREE.Quaternion().setFromRotationMatrix(mCamRot);\n        animationState.current = AnimationState.START;\n        t.current = 0;\n        return this;\n      },\n      /**\n       * @deprecated Use moveTo and lookAt instead\n       */\n      to({\n        position,\n        target\n      }) {\n        return this.moveTo(position).lookAt({\n          target\n        });\n      },\n      fit() {\n        if (!isOrthographic(camera)) {\n          // For non-orthographic cameras, fit should behave exactly like reset\n          return this.reset();\n        }\n\n        // For orthographic cameras, fit should only modify the zoom value\n        let maxHeight = 0,\n          maxWidth = 0;\n        const vertices = [new THREE.Vector3(box.min.x, box.min.y, box.min.z), new THREE.Vector3(box.min.x, box.max.y, box.min.z), new THREE.Vector3(box.min.x, box.min.y, box.max.z), new THREE.Vector3(box.min.x, box.max.y, box.max.z), new THREE.Vector3(box.max.x, box.max.y, box.max.z), new THREE.Vector3(box.max.x, box.max.y, box.min.z), new THREE.Vector3(box.max.x, box.min.y, box.max.z), new THREE.Vector3(box.max.x, box.min.y, box.min.z)];\n\n        // Transform the center and each corner to camera space\n        const pos = goal.current.camPos || camera.position;\n        const target = goal.current.target || (controls == null ? void 0 : controls.target);\n        const up = goal.current.camUp || camera.up;\n        const mCamWInv = target ? new THREE.Matrix4().lookAt(pos, target, up).setPosition(pos).invert() : camera.matrixWorldInverse;\n        for (const v of vertices) {\n          v.applyMatrix4(mCamWInv);\n          maxHeight = Math.max(maxHeight, Math.abs(v.y));\n          maxWidth = Math.max(maxWidth, Math.abs(v.x));\n        }\n        maxHeight *= 2;\n        maxWidth *= 2;\n        const zoomForHeight = (camera.top - camera.bottom) / maxHeight;\n        const zoomForWidth = (camera.right - camera.left) / maxWidth;\n        goal.current.camZoom = Math.min(zoomForHeight, zoomForWidth) / margin;\n        animationState.current = AnimationState.START;\n        t.current = 0;\n        onFitRef.current && onFitRef.current(this.getSize());\n        return this;\n      },\n      clip() {\n        const {\n          distance\n        } = getSize();\n        camera.near = distance / 100;\n        camera.far = distance * 100;\n        camera.updateProjectionMatrix();\n        if (controls) {\n          controls.maxDistance = distance * 10;\n          controls.update();\n        }\n        invalidate();\n        return this;\n      }\n    };\n  }, [box, camera, controls, margin, invalidate]);\n  React.useLayoutEffect(() => {\n    if (controls) {\n      // Try to prevent drag hijacking\n      const callback = () => {\n        if (controls && goal.current.target && animationState.current !== AnimationState.NONE) {\n          const front = new THREE.Vector3().setFromMatrixColumn(camera.matrix, 2);\n          const d0 = origin.current.camPos.distanceTo(controls.target);\n          const d1 = (goal.current.camPos || origin.current.camPos).distanceTo(goal.current.target);\n          const d = (1 - t.current) * d0 + t.current * d1;\n          controls.target.copy(camera.position).addScaledVector(front, -d);\n          controls.update();\n        }\n        animationState.current = AnimationState.NONE;\n      };\n      controls.addEventListener('start', callback);\n      return () => controls.removeEventListener('start', callback);\n    }\n  }, [controls]);\n\n  // Scale pointer on window resize\n  const count = React.useRef(0);\n  React.useLayoutEffect(() => {\n    if (observe || count.current++ === 0) {\n      api.refresh();\n      if (fit) api.reset().fit();\n      if (clip) api.clip();\n    }\n  }, [size, clip, fit, observe, camera, controls]);\n  useFrame((state, delta) => {\n    // This [additional animation step START] is needed to guarantee that delta used in animation isn't absurdly high (2-3 seconds) which is actually possible if rendering happens on demand...\n    if (animationState.current === AnimationState.START) {\n      animationState.current = AnimationState.ACTIVE;\n      invalidate();\n    } else if (animationState.current === AnimationState.ACTIVE) {\n      t.current += delta / maxDuration;\n      if (t.current >= 1) {\n        goal.current.camPos && camera.position.copy(goal.current.camPos);\n        goal.current.camRot && camera.quaternion.copy(goal.current.camRot);\n        goal.current.camUp && camera.up.copy(goal.current.camUp);\n        goal.current.camZoom && isOrthographic(camera) && (camera.zoom = goal.current.camZoom);\n        camera.updateMatrixWorld();\n        camera.updateProjectionMatrix();\n        if (controls && goal.current.target) {\n          controls.target.copy(goal.current.target);\n          controls.update();\n        }\n        animationState.current = AnimationState.NONE;\n      } else {\n        const k = interpolateFunc(t.current);\n        goal.current.camPos && camera.position.lerpVectors(origin.current.camPos, goal.current.camPos, k);\n        goal.current.camRot && camera.quaternion.slerpQuaternions(origin.current.camRot, goal.current.camRot, k);\n        goal.current.camUp && camera.up.set(0, 1, 0).applyQuaternion(camera.quaternion);\n        goal.current.camZoom && isOrthographic(camera) && (camera.zoom = (1 - k) * origin.current.camZoom + k * goal.current.camZoom);\n        camera.updateMatrixWorld();\n        camera.updateProjectionMatrix();\n      }\n      invalidate();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n}\nfunction useBounds() {\n  return React.useContext(context);\n}\n\nexport { Bounds, useBounds };\n", "import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { SimplexNoise } from 'three-stdlib';\n\nconst CameraShake = /* @__PURE__ */React.forwardRef(({\n  intensity = 1,\n  decay,\n  decayRate = 0.65,\n  maxYaw = 0.1,\n  maxPitch = 0.1,\n  maxRoll = 0.1,\n  yawFrequency = 0.1,\n  pitchFrequency = 0.1,\n  rollFrequency = 0.1\n}, ref) => {\n  const camera = useThree(state => state.camera);\n  const defaultControls = useThree(state => state.controls);\n  const intensityRef = React.useRef(intensity);\n  const initialRotation = React.useRef(camera.rotation.clone());\n  const [yawNoise] = React.useState(() => new SimplexNoise());\n  const [pitchNoise] = React.useState(() => new SimplexNoise());\n  const [rollNoise] = React.useState(() => new SimplexNoise());\n  const constrainIntensity = () => {\n    if (intensityRef.current < 0 || intensityRef.current > 1) {\n      intensityRef.current = intensityRef.current < 0 ? 0 : 1;\n    }\n  };\n  React.useImperativeHandle(ref, () => ({\n    getIntensity: () => intensityRef.current,\n    setIntensity: val => {\n      intensityRef.current = val;\n      constrainIntensity();\n    }\n  }), []);\n  React.useEffect(() => {\n    if (defaultControls) {\n      const callback = () => void (initialRotation.current = camera.rotation.clone());\n      defaultControls.addEventListener('change', callback);\n      callback();\n      return () => void defaultControls.removeEventListener('change', callback);\n    }\n  }, [camera, defaultControls]);\n  useFrame((state, delta) => {\n    const shake = Math.pow(intensityRef.current, 2);\n    const yaw = maxYaw * shake * yawNoise.noise(state.clock.elapsedTime * yawFrequency, 1);\n    const pitch = maxPitch * shake * pitchNoise.noise(state.clock.elapsedTime * pitchFrequency, 1);\n    const roll = maxRoll * shake * rollNoise.noise(state.clock.elapsedTime * rollFrequency, 1);\n    camera.rotation.set(initialRotation.current.x + pitch, initialRotation.current.y + yaw, initialRotation.current.z + roll);\n    if (decay && intensityRef.current > 0) {\n      intensityRef.current -= decayRate * delta;\n      constrainIntensity();\n    }\n  });\n  return null;\n});\n\nexport { CameraShake };\n", "import * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\nconst Float = /* @__PURE__ */React.forwardRef(({\n  children,\n  enabled = true,\n  speed = 1,\n  rotationIntensity = 1,\n  floatIntensity = 1,\n  floatingRange = [-0.1, 0.1],\n  autoInvalidate = false,\n  ...props\n}, forwardRef) => {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current, []);\n  const offset = React.useRef(Math.random() * 10000);\n  useFrame(state => {\n    var _floatingRange$, _floatingRange$2;\n    if (!enabled || speed === 0) return;\n    if (autoInvalidate) state.invalidate();\n    const t = offset.current + state.clock.elapsedTime;\n    ref.current.rotation.x = Math.cos(t / 4 * speed) / 8 * rotationIntensity;\n    ref.current.rotation.y = Math.sin(t / 4 * speed) / 8 * rotationIntensity;\n    ref.current.rotation.z = Math.sin(t / 4 * speed) / 20 * rotationIntensity;\n    let yPosition = Math.sin(t / 4 * speed) / 10;\n    yPosition = THREE.MathUtils.mapLinear(yPosition, -0.1, 0.1, (_floatingRange$ = floatingRange == null ? void 0 : floatingRange[0]) !== null && _floatingRange$ !== void 0 ? _floatingRange$ : -0.1, (_floatingRange$2 = floatingRange == null ? void 0 : floatingRange[1]) !== null && _floatingRange$2 !== void 0 ? _floatingRange$2 : 0.1);\n    ref.current.position.y = yPosition * floatIntensity;\n    ref.current.updateMatrix();\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref,\n    matrixAutoUpdate: false\n  }, children));\n});\n\nexport { Float };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\nimport { Center } from './Center.js';\nimport { AccumulativeShadows, RandomizedLight } from './AccumulativeShadows.js';\nimport { Bounds, useBounds } from './Bounds.js';\n\nconst presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\nfunction Refit({\n  radius,\n  adjustCamera\n}) {\n  const api = useBounds();\n  React.useEffect(() => {\n    if (adjustCamera) api.refresh().clip().fit();\n  }, [radius, adjustCamera]);\n  return null;\n}\nfunction Stage({\n  children,\n  center,\n  adjustCamera = true,\n  intensity = 0.5,\n  shadows = 'contact',\n  environment = 'city',\n  preset = 'rembrandt',\n  ...props\n}) {\n  var _bias, _normalBias, _size, _offset, _amount, _radius, _ambient, _intensity;\n  const config = typeof preset === 'string' ? presets[preset] : preset;\n  const [{\n    radius,\n    height\n  }, set] = React.useState({\n    radius: 0,\n    width: 0,\n    height: 0,\n    depth: 0\n  });\n  const shadowBias = (_bias = shadows == null ? void 0 : shadows.bias) !== null && _bias !== void 0 ? _bias : -0.0001;\n  const normalBias = (_normalBias = shadows == null ? void 0 : shadows.normalBias) !== null && _normalBias !== void 0 ? _normalBias : 0;\n  const shadowSize = (_size = shadows == null ? void 0 : shadows.size) !== null && _size !== void 0 ? _size : 1024;\n  const shadowOffset = (_offset = shadows == null ? void 0 : shadows.offset) !== null && _offset !== void 0 ? _offset : 0;\n  const contactShadow = shadows === 'contact' || (shadows == null ? void 0 : shadows.type) === 'contact';\n  const accumulativeShadow = shadows === 'accumulative' || (shadows == null ? void 0 : shadows.type) === 'accumulative';\n  const shadowSpread = {\n    ...(typeof shadows === 'object' ? shadows : {})\n  };\n  const environmentProps = !environment ? null : typeof environment === 'string' ? {\n    preset: environment\n  } : environment;\n  const onCentered = React.useCallback(props => {\n    const {\n      width,\n      height,\n      depth,\n      boundingSphere\n    } = props;\n    set({\n      radius: boundingSphere.radius,\n      width,\n      height,\n      depth\n    });\n    if (center != null && center.onCentered) center.onCentered(props);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    penumbra: 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: !!shadows,\n    \"shadow-bias\": shadowBias,\n    \"shadow-normalBias\": normalBias,\n    \"shadow-mapSize\": shadowSize\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }), /*#__PURE__*/React.createElement(Bounds, _extends({\n    fit: !!adjustCamera,\n    clip: !!adjustCamera,\n    margin: Number(adjustCamera),\n    observe: true\n  }, props), /*#__PURE__*/React.createElement(Refit, {\n    radius: radius,\n    adjustCamera: adjustCamera\n  }), /*#__PURE__*/React.createElement(Center, _extends({}, center, {\n    position: [0, shadowOffset / 2, 0],\n    onCentered: onCentered\n  }), children)), /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, -height / 2 - shadowOffset / 2, 0]\n  }, contactShadow && /*#__PURE__*/React.createElement(ContactShadows, _extends({\n    scale: radius * 4,\n    far: radius,\n    blur: 2\n  }, shadowSpread)), accumulativeShadow && /*#__PURE__*/React.createElement(AccumulativeShadows, _extends({\n    temporal: true,\n    frames: 100,\n    alphaTest: 0.9,\n    toneMapped: true,\n    scale: radius * 4\n  }, shadowSpread), /*#__PURE__*/React.createElement(RandomizedLight, {\n    amount: (_amount = shadowSpread.amount) !== null && _amount !== void 0 ? _amount : 8,\n    radius: (_radius = shadowSpread.radius) !== null && _radius !== void 0 ? _radius : radius,\n    ambient: (_ambient = shadowSpread.ambient) !== null && _ambient !== void 0 ? _ambient : 0.5,\n    intensity: (_intensity = shadowSpread.intensity) !== null && _intensity !== void 0 ? _intensity : 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    size: radius * 4,\n    bias: -shadowBias,\n    mapSize: shadowSize\n  }))), environment && /*#__PURE__*/React.createElement(Environment, environmentProps));\n}\n\nexport { Stage };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame, createPortal, applyProps, extend } from '@react-three/fiber';\nimport { Scene, WebGLCubeRenderTarget, HalfFloatType } from 'three';\nimport { GroundProjectedEnv } from 'three-stdlib';\nimport { useEnvironment } from './useEnvironment.js';\n\nconst isRef = obj => obj.current && obj.current.isScene;\nconst resolveScene = scene => isRef(scene) ? scene.current : scene;\nfunction setEnvProps(background, scene, defaultScene, texture, sceneProps = {}) {\n  var _target$backgroundRot, _target$backgroundRot2, _target$environmentRo, _target$environmentRo2;\n  // defaults\n  sceneProps = {\n    backgroundBlurriness: 0,\n    backgroundIntensity: 1,\n    backgroundRotation: [0, 0, 0],\n    environmentIntensity: 1,\n    environmentRotation: [0, 0, 0],\n    ...sceneProps\n  };\n  const target = resolveScene(scene || defaultScene);\n  const oldbg = target.background;\n  const oldenv = target.environment;\n  const oldSceneProps = {\n    // @ts-ignore\n    backgroundBlurriness: target.backgroundBlurriness,\n    // @ts-ignore\n    backgroundIntensity: target.backgroundIntensity,\n    // @ts-ignore\n    backgroundRotation: (_target$backgroundRot = (_target$backgroundRot2 = target.backgroundRotation) == null || _target$backgroundRot2.clone == null ? void 0 : _target$backgroundRot2.clone()) !== null && _target$backgroundRot !== void 0 ? _target$backgroundRot : [0, 0, 0],\n    // @ts-ignore\n    environmentIntensity: target.environmentIntensity,\n    // @ts-ignore\n    environmentRotation: (_target$environmentRo = (_target$environmentRo2 = target.environmentRotation) == null || _target$environmentRo2.clone == null ? void 0 : _target$environmentRo2.clone()) !== null && _target$environmentRo !== void 0 ? _target$environmentRo : [0, 0, 0]\n  };\n  if (background !== 'only') target.environment = texture;\n  if (background) target.background = texture;\n  applyProps(target, sceneProps);\n  return () => {\n    if (background !== 'only') target.environment = oldenv;\n    if (background) target.background = oldbg;\n    applyProps(target, oldSceneProps);\n  };\n}\nfunction EnvironmentMap({\n  scene,\n  background = false,\n  map,\n  ...config\n}) {\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    if (map) return setEnvProps(background, scene, defaultScene, map, config);\n  });\n  return null;\n}\nfunction EnvironmentCube({\n  background = false,\n  scene,\n  blur,\n  backgroundBlurriness,\n  backgroundIntensity,\n  backgroundRotation,\n  environmentIntensity,\n  environmentRotation,\n  ...rest\n}) {\n  const texture = useEnvironment(rest);\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    return setEnvProps(background, scene, defaultScene, texture, {\n      backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n      backgroundIntensity,\n      backgroundRotation,\n      environmentIntensity,\n      environmentRotation\n    });\n  });\n  React.useEffect(() => {\n    return () => {\n      texture.dispose();\n    };\n  }, [texture]);\n  return null;\n}\nfunction EnvironmentPortal({\n  children,\n  near = 0.1,\n  far = 1000,\n  resolution = 256,\n  frames = 1,\n  map,\n  background = false,\n  blur,\n  backgroundBlurriness,\n  backgroundIntensity,\n  backgroundRotation,\n  environmentIntensity,\n  environmentRotation,\n  scene,\n  files,\n  path,\n  preset = undefined,\n  extensions\n}) {\n  const gl = useThree(state => state.gl);\n  const defaultScene = useThree(state => state.scene);\n  const camera = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const fbo = React.useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  React.useEffect(() => {\n    return () => {\n      fbo.dispose();\n    };\n  }, [fbo]);\n  React.useLayoutEffect(() => {\n    if (frames === 1) {\n      const autoClear = gl.autoClear;\n      gl.autoClear = true;\n      camera.current.update(gl, virtualScene);\n      gl.autoClear = autoClear;\n    }\n    return setEnvProps(background, scene, defaultScene, fbo.texture, {\n      backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n      backgroundIntensity,\n      backgroundRotation,\n      environmentIntensity,\n      environmentRotation\n    });\n  }, [children, virtualScene, fbo.texture, scene, defaultScene, background, frames, gl]);\n  let count = 1;\n  useFrame(() => {\n    if (frames === Infinity || count < frames) {\n      const autoClear = gl.autoClear;\n      gl.autoClear = true;\n      camera.current.update(gl, virtualScene);\n      gl.autoClear = autoClear;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo]\n  }), files || preset ? /*#__PURE__*/React.createElement(EnvironmentCube, {\n    background: true,\n    files: files,\n    preset: preset,\n    path: path,\n    extensions: extensions\n  }) : map ? /*#__PURE__*/React.createElement(EnvironmentMap, {\n    background: true,\n    map: map,\n    extensions: extensions\n  }) : null), virtualScene));\n}\nfunction EnvironmentGround(props) {\n  var _props$ground, _props$ground2, _scale, _props$ground3;\n  const textureDefault = useEnvironment(props);\n  const texture = props.map || textureDefault;\n  React.useMemo(() => extend({\n    GroundProjectedEnvImpl: GroundProjectedEnv\n  }), []);\n  React.useEffect(() => {\n    return () => {\n      textureDefault.dispose();\n    };\n  }, [textureDefault]);\n  const args = React.useMemo(() => [texture], [texture]);\n  const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n  const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n  const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnvironmentMap, _extends({}, props, {\n    map: texture\n  })), /*#__PURE__*/React.createElement(\"groundProjectedEnvImpl\", {\n    args: args,\n    scale: scale,\n    height: height,\n    radius: radius\n  }));\n}\nfunction Environment(props) {\n  return props.ground ? /*#__PURE__*/React.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/React.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/React.createElement(EnvironmentPortal, props) : /*#__PURE__*/React.createElement(EnvironmentCube, props);\n}\n\nexport { Environment, EnvironmentCube, EnvironmentMap, EnvironmentPortal };\n", "const presetsObj = {\n  apartment: 'lebombo_1k.hdr',\n  city: 'potsdamer_platz_1k.hdr',\n  dawn: 'kiara_1_dawn_1k.hdr',\n  forest: 'forest_slope_1k.hdr',\n  lobby: 'st_fagans_interior_1k.hdr',\n  night: 'dikhololo_night_1k.hdr',\n  park: 'rooitou_park_1k.hdr',\n  studio: 'studio_small_03_1k.hdr',\n  sunset: 'venice_sunset_1k.hdr',\n  warehouse: 'empty_warehouse_01_1k.hdr'\n};\n\nexport { presetsObj };\n", "import { useThree, useLoader } from '@react-three/fiber';\nimport { CubeReflectionMapping, EquirectangularReflectionMapping, CubeTextureLoader } from 'three';\nimport { RGBELoader, EXRLoader } from 'three-stdlib';\nimport { HDRJPGLoader, GainMapLoader } from '@monogrid/gainmap-js';\nimport { presetsObj } from '../helpers/environment-assets.js';\nimport { useLayoutEffect } from 'react';\n\nconst CUBEMAP_ROOT = 'https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/';\nconst isArray = arr => Array.isArray(arr);\nconst defaultFiles = ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'];\nfunction useEnvironment({\n  files = defaultFiles,\n  path = '',\n  preset = undefined,\n  colorSpace = undefined,\n  extensions\n} = {}) {\n  if (preset) {\n    validatePreset(preset);\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n\n  // Everything else\n  const multiFile = isArray(files);\n  const {\n    extension,\n    isCubemap\n  } = getExtension(files);\n  const loader = getLoader(extension);\n  if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n  const gl = useThree(state => state.gl);\n  useLayoutEffect(() => {\n    // Only required for gainmap\n    if (extension !== 'webp' && extension !== 'jpg' && extension !== 'jpeg') return;\n    function clearGainmapTexture() {\n      useLoader.clear(loader, multiFile ? [files] : files);\n    }\n    gl.domElement.addEventListener('webglcontextlost', clearGainmapTexture, {\n      once: true\n    });\n  }, [files, gl.domElement]);\n  const loaderResult = useLoader(loader, multiFile ? [files] : files, loader => {\n    // Gainmap requires a renderer\n    if (extension === 'webp' || extension === 'jpg' || extension === 'jpeg') {\n      // @ts-expect-error\n      loader.setRenderer(gl);\n    }\n    loader.setPath == null || loader.setPath(path);\n    // @ts-expect-error\n    if (extensions) extensions(loader);\n  });\n  let texture = multiFile ?\n  // @ts-ignore\n  loaderResult[0] : loaderResult;\n  if (extension === 'jpg' || extension === 'jpeg' || extension === 'webp') {\n    var _renderTarget;\n    texture = (_renderTarget = texture.renderTarget) == null ? void 0 : _renderTarget.texture;\n  }\n  texture.mapping = isCubemap ? CubeReflectionMapping : EquirectangularReflectionMapping;\n  texture.colorSpace = colorSpace !== null && colorSpace !== void 0 ? colorSpace : isCubemap ? 'srgb' : 'srgb-linear';\n  return texture;\n}\nconst preloadDefaultOptions = {\n  files: defaultFiles,\n  path: '',\n  preset: undefined,\n  extensions: undefined\n};\nuseEnvironment.preload = preloadOptions => {\n  const options = {\n    ...preloadDefaultOptions,\n    ...preloadOptions\n  };\n  let {\n    files,\n    path = ''\n  } = options;\n  const {\n    preset,\n    extensions\n  } = options;\n  if (preset) {\n    validatePreset(preset);\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n  const {\n    extension\n  } = getExtension(files);\n  if (extension === 'webp' || extension === 'jpg' || extension === 'jpeg') {\n    throw new Error('useEnvironment: Preloading gainmaps is not supported');\n  }\n  const loader = getLoader(extension);\n  if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n  useLoader.preload(loader, isArray(files) ? [files] : files, loader => {\n    loader.setPath == null || loader.setPath(path);\n    // @ts-expect-error\n    if (extensions) extensions(loader);\n  });\n};\nconst clearDefaultOptins = {\n  files: defaultFiles,\n  preset: undefined\n};\nuseEnvironment.clear = clearOptions => {\n  const options = {\n    ...clearDefaultOptins,\n    ...clearOptions\n  };\n  let {\n    files\n  } = options;\n  const {\n    preset\n  } = options;\n  if (preset) {\n    validatePreset(preset);\n    files = presetsObj[preset];\n  }\n  const {\n    extension\n  } = getExtension(files);\n  const loader = getLoader(extension);\n  if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n  useLoader.clear(loader, isArray(files) ? [files] : files);\n};\nfunction validatePreset(preset) {\n  if (!(preset in presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(presetsObj).join(', '));\n}\nfunction getExtension(files) {\n  var _firstEntry$split$pop;\n  const isCubemap = isArray(files) && files.length === 6;\n  const isGainmap = isArray(files) && files.length === 3 && files.some(file => file.endsWith('json'));\n  const firstEntry = isArray(files) ? files[0] : files;\n\n  // Everything else\n  const extension = isCubemap ? 'cube' : isGainmap ? 'webp' : firstEntry.startsWith('data:application/exr') ? 'exr' : firstEntry.startsWith('data:application/hdr') ? 'hdr' : firstEntry.startsWith('data:image/jpeg') ? 'jpg' : (_firstEntry$split$pop = firstEntry.split('.').pop()) == null || (_firstEntry$split$pop = _firstEntry$split$pop.split('?')) == null || (_firstEntry$split$pop = _firstEntry$split$pop.shift()) == null ? void 0 : _firstEntry$split$pop.toLowerCase();\n  return {\n    extension,\n    isCubemap,\n    isGainmap\n  };\n}\nfunction getLoader(extension) {\n  const loader = extension === 'cube' ? CubeTextureLoader : extension === 'hdr' ? RGBELoader : extension === 'exr' ? EXRLoader : extension === 'jpg' || extension === 'jpeg' ? HDRJPGLoader : extension === 'webp' ? GainMapLoader : null;\n  return loader;\n}\n\nexport { useEnvironment };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { HorizontalBlurShader, VerticalBlurShader } from 'three-stdlib';\n\nconst ContactShadows = /* @__PURE__ */React.forwardRef(({\n  scale = 10,\n  frames = Infinity,\n  opacity = 1,\n  width = 1,\n  height = 1,\n  blur = 1,\n  near = 0,\n  far = 10,\n  resolution = 512,\n  smooth = true,\n  color = '#000000',\n  depthWrite = false,\n  renderOrder,\n  ...props\n}, fref) => {\n  const ref = React.useRef(null);\n  const scene = useThree(state => state.scene);\n  const gl = useThree(state => state.gl);\n  const shadowCamera = React.useRef(null);\n  width = width * (Array.isArray(scale) ? scale[0] : scale || 1);\n  height = height * (Array.isArray(scale) ? scale[1] : scale || 1);\n  const [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur] = React.useMemo(() => {\n    const renderTarget = new THREE.WebGLRenderTarget(resolution, resolution);\n    const renderTargetBlur = new THREE.WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    const planeGeometry = new THREE.PlaneGeometry(width, height).rotateX(Math.PI / 2);\n    const blurPlane = new THREE.Mesh(planeGeometry);\n    const depthMaterial = new THREE.MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n    depthMaterial.onBeforeCompile = shader => {\n      shader.uniforms = {\n        ...shader.uniforms,\n        ucolor: {\n          value: new THREE.Color(color)\n        }\n      };\n      shader.fragmentShader = shader.fragmentShader.replace(`void main() {`,\n      //\n      `uniform vec3 ucolor;\n           void main() {\n          `);\n      shader.fragmentShader = shader.fragmentShader.replace('vec4( vec3( 1.0 - fragCoordZ ), opacity );',\n      // Colorize the shadow, multiply by the falloff so that the center can remain darker\n      'vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );');\n    };\n    const horizontalBlurMaterial = new THREE.ShaderMaterial(HorizontalBlurShader);\n    const verticalBlurMaterial = new THREE.ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height, scale, color]);\n  const blurShadows = blur => {\n    blurPlane.visible = true;\n    blurPlane.material = horizontalBlurMaterial;\n    horizontalBlurMaterial.uniforms.tDiffuse.value = renderTarget.texture;\n    horizontalBlurMaterial.uniforms.h.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTargetBlur);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.material = verticalBlurMaterial;\n    verticalBlurMaterial.uniforms.tDiffuse.value = renderTargetBlur.texture;\n    verticalBlurMaterial.uniforms.v.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTarget);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.visible = false;\n  };\n  let count = 0;\n  let initialBackground;\n  let initialOverrideMaterial;\n  useFrame(() => {\n    if (shadowCamera.current && (frames === Infinity || count < frames)) {\n      count++;\n      initialBackground = scene.background;\n      initialOverrideMaterial = scene.overrideMaterial;\n      ref.current.visible = false;\n      scene.background = null;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      blurShadows(blur);\n      if (smooth) blurShadows(blur * 0.4);\n      gl.setRenderTarget(null);\n      ref.current.visible = true;\n      scene.overrideMaterial = initialOverrideMaterial;\n      scene.background = initialBackground;\n    }\n  });\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    \"rotation-x\": Math.PI / 2\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    renderOrder: renderOrder,\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    map: renderTarget.texture,\n    opacity: opacity,\n    depthWrite: depthWrite\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, near, far]\n  }));\n});\n\nexport { ContactShadows };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nfunction isLight(object) {\n  return object.isLight;\n}\nfunction isGeometry(object) {\n  return !!object.geometry;\n}\nconst accumulativeContext = /* @__PURE__ */React.createContext(null);\nconst SoftShadowMaterial = /* @__PURE__ */shaderMaterial({\n  color: /* @__PURE__ */new THREE.Color(),\n  blend: 2.0,\n  alphaTest: 0.75,\n  opacity: 0,\n  map: null\n}, `varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }`, `varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nconst AccumulativeShadows = /* @__PURE__ */React.forwardRef(({\n  children,\n  temporal,\n  frames = 40,\n  limit = Infinity,\n  blend = 20,\n  scale = 10,\n  opacity = 1,\n  alphaTest = 0.75,\n  color = 'black',\n  colorBlend = 2,\n  resolution = 1024,\n  toneMapped = true,\n  ...props\n}, forwardRef) => {\n  extend({\n    SoftShadowMaterial\n  });\n  const gl = useThree(state => state.gl);\n  const scene = useThree(state => state.scene);\n  const camera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const gPlane = React.useRef(null);\n  const gLights = React.useRef(null);\n  const [plm] = React.useState(() => new ProgressiveLightMap(gl, scene, resolution));\n  React.useLayoutEffect(() => {\n    plm.configure(gPlane.current);\n  }, []);\n  const api = React.useMemo(() => ({\n    lights: new Map(),\n    temporal: !!temporal,\n    frames: Math.max(2, frames),\n    blend: Math.max(2, frames === Infinity ? blend : frames),\n    count: 0,\n    getMesh: () => gPlane.current,\n    reset: () => {\n      // Clear buffers, reset opacities, set frame count to 0\n      plm.clear();\n      const material = gPlane.current.material;\n      material.opacity = 0;\n      material.alphaTest = 0;\n      api.count = 0;\n    },\n    update: (frames = 1) => {\n      // Adapt the opacity-blend ratio to the number of frames\n      const material = gPlane.current.material;\n      if (!api.temporal) {\n        material.opacity = opacity;\n        material.alphaTest = alphaTest;\n      } else {\n        material.opacity = Math.min(opacity, material.opacity + opacity / api.blend);\n        material.alphaTest = Math.min(alphaTest, material.alphaTest + alphaTest / api.blend);\n      }\n\n      // Switch accumulative lights on\n      gLights.current.visible = true;\n      // Collect scene lights and meshes\n      plm.prepare();\n\n      // Update the lightmap and the accumulative lights\n      for (let i = 0; i < frames; i++) {\n        api.lights.forEach(light => light.update());\n        plm.update(camera, api.blend);\n      }\n      // Switch lights off\n      gLights.current.visible = false;\n      // Restore lights and meshes\n      plm.finish();\n    }\n  }), [plm, camera, scene, temporal, frames, blend, opacity, alphaTest]);\n  React.useLayoutEffect(() => {\n    // Reset internals, buffers, ...\n    api.reset();\n    // Update lightmap\n    if (!api.temporal && api.frames !== Infinity) api.update(api.blend);\n  });\n\n  // Expose api, allow children to set itself as the main light source\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  useFrame(() => {\n    if ((api.temporal || api.frames === Infinity) && api.count < api.frames && api.count < limit) {\n      invalidate();\n      api.update();\n      api.count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    traverse: () => null,\n    ref: gLights\n  }, /*#__PURE__*/React.createElement(accumulativeContext.Provider, {\n    value: api\n  }, children)), /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: true,\n    ref: gPlane,\n    scale: scale,\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"softShadowMaterial\", {\n    transparent: true,\n    depthWrite: false,\n    toneMapped: toneMapped,\n    color: color,\n    blend: colorBlend,\n    map: plm.progressiveLightMap2.texture\n  })));\n});\nconst RandomizedLight = /* @__PURE__ */React.forwardRef(({\n  castShadow = true,\n  bias = 0.001,\n  mapSize = 512,\n  size = 5,\n  near = 0.5,\n  far = 500,\n  frames = 1,\n  position = [0, 0, 0],\n  radius = 1,\n  amount = 8,\n  intensity = version >= 155 ? Math.PI : 1,\n  ambient = 0.5,\n  ...props\n}, forwardRef) => {\n  const gLights = React.useRef(null);\n  const length = new THREE.Vector3(...position).length();\n  const parent = React.useContext(accumulativeContext);\n  const update = React.useCallback(() => {\n    let light;\n    if (gLights.current) {\n      for (let l = 0; l < gLights.current.children.length; l++) {\n        light = gLights.current.children[l];\n        if (Math.random() > ambient) {\n          light.position.set(position[0] + THREE.MathUtils.randFloatSpread(radius), position[1] + THREE.MathUtils.randFloatSpread(radius), position[2] + THREE.MathUtils.randFloatSpread(radius));\n        } else {\n          let lambda = Math.acos(2 * Math.random() - 1) - Math.PI / 2.0;\n          let phi = 2 * Math.PI * Math.random();\n          light.position.set(Math.cos(lambda) * Math.cos(phi) * length, Math.abs(Math.cos(lambda) * Math.sin(phi) * length), Math.sin(lambda) * length);\n        }\n      }\n    }\n  }, [radius, ambient, length, ...position]);\n  const api = React.useMemo(() => ({\n    update\n  }), [update]);\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  React.useLayoutEffect(() => {\n    var _parent$lights;\n    const group = gLights.current;\n    if (parent) (_parent$lights = parent.lights) == null || _parent$lights.set(group.uuid, api);\n    return () => {\n      var _parent$lights2;\n      return void (parent == null || (_parent$lights2 = parent.lights) == null ? void 0 : _parent$lights2.delete(group.uuid));\n    };\n  }, [parent, api]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: gLights\n  }, props), Array.from({\n    length: amount\n  }, (_, index) => /*#__PURE__*/React.createElement(\"directionalLight\", {\n    key: index,\n    castShadow: castShadow,\n    \"shadow-bias\": bias,\n    \"shadow-mapSize\": [mapSize, mapSize],\n    intensity: intensity / amount\n  }, /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    attach: \"shadow-camera\",\n    args: [-size, size, size, -size, near, far]\n  }))));\n});\n\n// Based on \"Progressive Light Map Accumulator\", by [zalo](https://github.com/zalo/)\nclass ProgressiveLightMap {\n  constructor(renderer, scene, res = 1024) {\n    this.renderer = renderer;\n    this.res = res;\n    this.scene = scene;\n    this.buffer1Active = false;\n    this.lights = [];\n    this.meshes = [];\n    this.object = null;\n    this.clearColor = new THREE.Color();\n    this.clearAlpha = 0;\n\n    // Create the Progressive LightMap Texture\n    const textureParams = {\n      type: THREE.HalfFloatType,\n      magFilter: THREE.NearestFilter,\n      minFilter: THREE.NearestFilter\n    };\n    this.progressiveLightMap1 = new THREE.WebGLRenderTarget(this.res, this.res, textureParams);\n    this.progressiveLightMap2 = new THREE.WebGLRenderTarget(this.res, this.res, textureParams);\n\n    // Inject some spicy new logic into a standard phong material\n    this.discardMat = new DiscardMaterial();\n    this.targetMat = new THREE.MeshLambertMaterial({\n      fog: false\n    });\n    this.previousShadowMap = {\n      value: this.progressiveLightMap1.texture\n    };\n    this.averagingWindow = {\n      value: 100\n    };\n    this.targetMat.onBeforeCompile = shader => {\n      // Vertex Shader: Set Vertex Positions to the Unwrapped UV Positions\n      shader.vertexShader = 'varying vec2 vUv;\\n' + shader.vertexShader.slice(0, -1) + 'vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }';\n\n      // Fragment Shader: Set Pixels to average in the Previous frame's Shadows\n      const bodyStart = shader.fragmentShader.indexOf('void main() {');\n      shader.fragmentShader = 'varying vec2 vUv;\\n' + shader.fragmentShader.slice(0, bodyStart) + 'uniform sampler2D previousShadowMap;\\n\tuniform float averagingWindow;\\n' + shader.fragmentShader.slice(bodyStart - 1, -1) + `\\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }`;\n\n      // Set the Previous Frame's Texture Buffer and Averaging Window\n      shader.uniforms.previousShadowMap = this.previousShadowMap;\n      shader.uniforms.averagingWindow = this.averagingWindow;\n    };\n  }\n  clear() {\n    this.renderer.getClearColor(this.clearColor);\n    this.clearAlpha = this.renderer.getClearAlpha();\n    this.renderer.setClearColor('black', 1);\n    this.renderer.setRenderTarget(this.progressiveLightMap1);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(this.progressiveLightMap2);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(null);\n    this.renderer.setClearColor(this.clearColor, this.clearAlpha);\n    this.lights = [];\n    this.meshes = [];\n    this.scene.traverse(object => {\n      if (isGeometry(object)) {\n        this.meshes.push({\n          object,\n          material: object.material\n        });\n      } else if (isLight(object)) {\n        this.lights.push({\n          object,\n          intensity: object.intensity\n        });\n      }\n    });\n  }\n  prepare() {\n    this.lights.forEach(light => light.object.intensity = 0);\n    this.meshes.forEach(mesh => mesh.object.material = this.discardMat);\n  }\n  finish() {\n    this.lights.forEach(light => light.object.intensity = light.intensity);\n    this.meshes.forEach(mesh => mesh.object.material = mesh.material);\n  }\n  configure(object) {\n    this.object = object;\n  }\n  update(camera, blendWindow = 100) {\n    if (!this.object) return;\n    // Set each object's material to the UV Unwrapped Surface Mapping Version\n    this.averagingWindow.value = blendWindow;\n    this.object.material = this.targetMat;\n    // Ping-pong two surface buffers for reading/writing\n    const activeMap = this.buffer1Active ? this.progressiveLightMap1 : this.progressiveLightMap2;\n    const inactiveMap = this.buffer1Active ? this.progressiveLightMap2 : this.progressiveLightMap1;\n    // Render the object's surface maps\n    const oldBg = this.scene.background;\n    this.scene.background = null;\n    this.renderer.setRenderTarget(activeMap);\n    this.previousShadowMap.value = inactiveMap.texture;\n    this.buffer1Active = !this.buffer1Active;\n    this.renderer.render(this.scene, camera);\n    this.renderer.setRenderTarget(null);\n    this.scene.background = oldBg;\n  }\n}\n\nexport { AccumulativeShadows, RandomizedLight, accumulativeContext };\n", "import * as React from 'react';\n\nconst easeInExpo = x => x === 0 ? 0 : Math.pow(2, 10 * x - 10);\nfunction Backdrop({\n  children,\n  floor = 0.25,\n  segments = 20,\n  receiveShadow,\n  ...props\n}) {\n  const ref = React.useRef(null);\n  React.useLayoutEffect(() => {\n    let i = 0;\n    const offset = segments / segments / 2;\n    const position = ref.current.attributes.position;\n    for (let x = 0; x < segments + 1; x++) {\n      for (let y = 0; y < segments + 1; y++) {\n        position.setXYZ(i++, x / segments - offset + (x === 0 ? -floor : 0), y / segments - offset, easeInExpo(x / segments));\n      }\n    }\n    position.needsUpdate = true;\n    ref.current.computeVertexNormals();\n  }, [segments, floor]);\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: receiveShadow,\n    rotation: [-Math.PI / 2, 0, Math.PI / 2]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    ref: ref,\n    args: [1, 1, segments, segments]\n  }), children));\n}\n\nexport { Backdrop };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Color, DoubleSide } from 'three';\n\nconst Shadow = /* @__PURE__ */React.forwardRef(({\n  fog = false,\n  renderOrder,\n  depthWrite = false,\n  colorStop = 0.0,\n  color = 'black',\n  opacity = 0.5,\n  ...props\n}, ref) => {\n  const canvas = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 128;\n    canvas.height = 128;\n    const context = canvas.getContext('2d');\n    const gradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);\n    gradient.addColorStop(colorStop, new Color(color).getStyle());\n    gradient.addColorStop(1, 'rgba(0,0,0,0)');\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    return canvas;\n  }, [color, colorStop]);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    renderOrder: renderOrder,\n    ref: ref,\n    \"rotation-x\": -Math.PI / 2\n  }, props), /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    opacity: opacity,\n    fog: fog,\n    depthWrite: depthWrite,\n    side: DoubleSide\n  }, /*#__PURE__*/React.createElement(\"canvasTexture\", {\n    attach: \"map\",\n    args: [canvas]\n  })));\n});\n\nexport { Shadow };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\nimport { useHelper } from './Helper.js';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { Edges } from './Edges.js';\nimport { FullScreenQuad } from 'three-stdlib';\nimport { version } from '../helpers/constants.js';\n\nfunction createNormalMaterial(side = THREE.FrontSide) {\n  const viewMatrix = {\n    value: new THREE.Matrix4()\n  };\n  return Object.assign(new THREE.MeshNormalMaterial({\n    side\n  }), {\n    viewMatrix,\n    onBeforeCompile: shader => {\n      shader.uniforms.viewMatrix = viewMatrix;\n      shader.fragmentShader = `vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n           return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n         }\\n` + shader.fragmentShader.replace('#include <normal_fragment_maps>', `#include <normal_fragment_maps>\n           normal = inverseTransformDirection( normal, viewMatrix );\\n`);\n    }\n  });\n}\nconst CausticsProjectionMaterial = /* @__PURE__ */shaderMaterial({\n  causticsTexture: null,\n  causticsTextureB: null,\n  color: /* @__PURE__ */new THREE.Color(),\n  lightProjMatrix: /* @__PURE__ */new THREE.Matrix4(),\n  lightViewMatrix: /* @__PURE__ */new THREE.Matrix4()\n}, `varying vec3 vWorldPosition;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vec4 worldPosition = modelMatrix * vec4(position, 1.);\n     vWorldPosition = worldPosition.xyz;\n   }`, `varying vec3 vWorldPosition;\n  uniform vec3 color;\n  uniform sampler2D causticsTexture;\n  uniform sampler2D causticsTextureB;\n  uniform mat4 lightProjMatrix;\n  uniform mat4 lightViewMatrix;\n   void main() {\n    // Apply caustics\n    vec4 lightSpacePos = lightProjMatrix * lightViewMatrix * vec4(vWorldPosition, 1.0);\n    lightSpacePos.xyz /= lightSpacePos.w;\n    lightSpacePos.xyz = lightSpacePos.xyz * 0.5 + 0.5;\n    vec3 front = texture2D(causticsTexture, lightSpacePos.xy).rgb;\n    vec3 back = texture2D(causticsTextureB, lightSpacePos.xy).rgb;\n    gl_FragColor = vec4((front + back) * color, 1.0);\n    #include <tonemapping_fragment>\n    #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nconst CausticsMaterial = /* @__PURE__ */shaderMaterial({\n  cameraMatrixWorld: /* @__PURE__ */new THREE.Matrix4(),\n  cameraProjectionMatrixInv: /* @__PURE__ */new THREE.Matrix4(),\n  normalTexture: null,\n  depthTexture: null,\n  lightDir: /* @__PURE__ */new THREE.Vector3(0, 1, 0),\n  lightPlaneNormal: /* @__PURE__ */new THREE.Vector3(0, 1, 0),\n  lightPlaneConstant: 0,\n  near: 0.1,\n  far: 100,\n  modelMatrix: /* @__PURE__ */new THREE.Matrix4(),\n  worldRadius: 1 / 40,\n  ior: 1.1,\n  bounces: 0,\n  resolution: 1024,\n  size: 10,\n  intensity: 0.5\n}, /* glsl */`\n  varying vec2 vUv;\n  void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }`, /* glsl */`\n  uniform mat4 cameraMatrixWorld;\n  uniform mat4 cameraProjectionMatrixInv;\n  uniform vec3 lightDir;\n  uniform vec3 lightPlaneNormal;\n  uniform float lightPlaneConstant;\n  uniform float near;\n  uniform float far;\n  uniform float time;\n  uniform float worldRadius;\n  uniform float resolution;\n  uniform float size;\n  uniform float intensity;\n  uniform float ior;\n  precision highp isampler2D;\n  precision highp usampler2D;\n  uniform sampler2D normalTexture;\n  uniform sampler2D depthTexture;\n  uniform float bounces;\n  varying vec2 vUv;\n  vec3 WorldPosFromDepth(float depth, vec2 coord) {\n    float z = depth * 2.0 - 1.0;\n    vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n    vec4 viewSpacePosition = cameraProjectionMatrixInv * clipSpacePosition;\n    // Perspective division\n    viewSpacePosition /= viewSpacePosition.w;\n    vec4 worldSpacePosition = cameraMatrixWorld * viewSpacePosition;\n    return worldSpacePosition.xyz;\n  }\n  float sdPlane( vec3 p, vec3 n, float h ) {\n    // n must be normalized\n    return dot(p,n) + h;\n  }\n  float planeIntersect( vec3 ro, vec3 rd, vec4 p ) {\n    return -(dot(ro,p.xyz)+p.w)/dot(rd,p.xyz);\n  }\n  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 pos, vec3 normal, float ior, out vec3 rayOrigin, out vec3 rayDirection) {\n    rayOrigin = ro;\n    rayDirection = rd;\n    rayDirection = refract(rayDirection, normal, 1.0 / ior);\n    rayOrigin = pos + rayDirection * 0.1;\n    return rayDirection;\n  }\n  void main() {\n    // Each sample consists of random offset in the x and y direction\n    float caustic = 0.0;\n    float causticTexelSize = (1.0 / resolution) * size * 2.0;\n    float texelsNeeded = worldRadius / causticTexelSize;\n    float sampleRadius = texelsNeeded / resolution;\n    float sum = 0.0;\n    if (texture2D(depthTexture, vUv).x == 1.0) {\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n      return;\n    }\n    vec2 offset1 = vec2(-0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);\n    vec2 offset2 = vec2(-0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);\n    vec2 offset3 = vec2(0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);\n    vec2 offset4 = vec2(0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);\n    vec2 uv1 = vUv + offset1 * sampleRadius;\n    vec2 uv2 = vUv + offset2 * sampleRadius;\n    vec2 uv3 = vUv + offset3 * sampleRadius;\n    vec2 uv4 = vUv + offset4 * sampleRadius;\n    vec3 normal1 = texture2D(normalTexture, uv1, -10.0).rgb * 2.0 - 1.0;\n    vec3 normal2 = texture2D(normalTexture, uv2, -10.0).rgb * 2.0 - 1.0;\n    vec3 normal3 = texture2D(normalTexture, uv3, -10.0).rgb * 2.0 - 1.0;\n    vec3 normal4 = texture2D(normalTexture, uv4, -10.0).rgb * 2.0 - 1.0;\n    float depth1 = texture2D(depthTexture, uv1, -10.0).x;\n    float depth2 = texture2D(depthTexture, uv2, -10.0).x;\n    float depth3 = texture2D(depthTexture, uv3, -10.0).x;\n    float depth4 = texture2D(depthTexture, uv4, -10.0).x;\n    // Sanity check the depths\n    if (depth1 == 1.0 || depth2 == 1.0 || depth3 == 1.0 || depth4 == 1.0) {\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n      return;\n    }\n    vec3 pos1 = WorldPosFromDepth(depth1, uv1);\n    vec3 pos2 = WorldPosFromDepth(depth2, uv2);\n    vec3 pos3 = WorldPosFromDepth(depth3, uv3);\n    vec3 pos4 = WorldPosFromDepth(depth4, uv4);\n    vec3 originPos1 = WorldPosFromDepth(0.0, uv1);\n    vec3 originPos2 = WorldPosFromDepth(0.0, uv2);\n    vec3 originPos3 = WorldPosFromDepth(0.0, uv3);\n    vec3 originPos4 = WorldPosFromDepth(0.0, uv4);\n    vec3 endPos1, endPos2, endPos3, endPos4;\n    vec3 endDir1, endDir2, endDir3, endDir4;\n    totalInternalReflection(originPos1, lightDir, pos1, normal1, ior, endPos1, endDir1);\n    totalInternalReflection(originPos2, lightDir, pos2, normal2, ior, endPos2, endDir2);\n    totalInternalReflection(originPos3, lightDir, pos3, normal3, ior, endPos3, endDir3);\n    totalInternalReflection(originPos4, lightDir, pos4, normal4, ior, endPos4, endDir4);\n    float lightPosArea = length(cross(originPos2 - originPos1, originPos3 - originPos1)) + length(cross(originPos3 - originPos1, originPos4 - originPos1));\n    float t1 = planeIntersect(endPos1, endDir1, vec4(lightPlaneNormal, lightPlaneConstant));\n    float t2 = planeIntersect(endPos2, endDir2, vec4(lightPlaneNormal, lightPlaneConstant));\n    float t3 = planeIntersect(endPos3, endDir3, vec4(lightPlaneNormal, lightPlaneConstant));\n    float t4 = planeIntersect(endPos4, endDir4, vec4(lightPlaneNormal, lightPlaneConstant));\n    vec3 finalPos1 = endPos1 + endDir1 * t1;\n    vec3 finalPos2 = endPos2 + endDir2 * t2;\n    vec3 finalPos3 = endPos3 + endDir3 * t3;\n    vec3 finalPos4 = endPos4 + endDir4 * t4;\n    float finalArea = length(cross(finalPos2 - finalPos1, finalPos3 - finalPos1)) + length(cross(finalPos3 - finalPos1, finalPos4 - finalPos1));\n    caustic += intensity * (lightPosArea / finalArea);\n    // Calculate the area of the triangle in light spaces\n    gl_FragColor = vec4(vec3(max(caustic, 0.0)), 1.0);\n  }`);\nconst NORMALPROPS = {\n  depth: true,\n  minFilter: THREE.LinearFilter,\n  magFilter: THREE.LinearFilter,\n  type: THREE.UnsignedByteType\n};\nconst CAUSTICPROPS = {\n  minFilter: THREE.LinearMipmapLinearFilter,\n  magFilter: THREE.LinearFilter,\n  type: THREE.FloatType,\n  generateMipmaps: true\n};\nconst Caustics = /* @__PURE__ */React.forwardRef(({\n  debug,\n  children,\n  frames = 1,\n  ior = 1.1,\n  color = 'white',\n  causticsOnly = false,\n  backside = false,\n  backsideIOR = 1.1,\n  worldRadius = 0.3125,\n  intensity = 0.05,\n  resolution = 2024,\n  lightSource = [5, 5, 5],\n  ...props\n}, fref) => {\n  extend({\n    CausticsProjectionMaterial\n  });\n  const ref = React.useRef(null);\n  const camera = React.useRef(null);\n  const scene = React.useRef(null);\n  const plane = React.useRef(null);\n  const gl = useThree(state => state.gl);\n  const helper = useHelper(debug && camera, THREE.CameraHelper);\n\n  // Buffers for front and back faces\n  const normalTarget = useFBO(resolution, resolution, NORMALPROPS);\n  const normalTargetB = useFBO(resolution, resolution, NORMALPROPS);\n  const causticsTarget = useFBO(resolution, resolution, CAUSTICPROPS);\n  const causticsTargetB = useFBO(resolution, resolution, CAUSTICPROPS);\n  // Normal materials for front and back faces\n  const [normalMat] = React.useState(() => createNormalMaterial());\n  const [normalMatB] = React.useState(() => createNormalMaterial(THREE.BackSide));\n  // The quad that catches the caustics\n  const [causticsMaterial] = React.useState(() => new CausticsMaterial());\n  const [causticsQuad] = React.useState(() => new FullScreenQuad(causticsMaterial));\n  React.useLayoutEffect(() => {\n    ref.current.updateWorldMatrix(false, true);\n  });\n  let count = 0;\n  const v = new THREE.Vector3();\n  const lpF = new THREE.Frustum();\n  const lpM = new THREE.Matrix4();\n  const lpP = new THREE.Plane();\n  const lightDir = new THREE.Vector3();\n  const lightDirInv = new THREE.Vector3();\n  const bounds = new THREE.Box3();\n  const focusPos = new THREE.Vector3();\n  const boundsVertices = [];\n  const worldVerts = [];\n  const projectedVerts = [];\n  const lightDirs = [];\n  const cameraPos = new THREE.Vector3();\n  for (let i = 0; i < 8; i++) {\n    boundsVertices.push(new THREE.Vector3());\n    worldVerts.push(new THREE.Vector3());\n    projectedVerts.push(new THREE.Vector3());\n    lightDirs.push(new THREE.Vector3());\n  }\n  useFrame(() => {\n    if (frames === Infinity || count++ < frames) {\n      var _scene$current$parent, _helper$current;\n      if (Array.isArray(lightSource)) lightDir.fromArray(lightSource).normalize();else lightDir.copy(ref.current.worldToLocal(lightSource.current.getWorldPosition(v)).normalize());\n      lightDirInv.copy(lightDir).multiplyScalar(-1);\n      (_scene$current$parent = scene.current.parent) == null || _scene$current$parent.matrixWorld.identity();\n      bounds.setFromObject(scene.current, true);\n      boundsVertices[0].set(bounds.min.x, bounds.min.y, bounds.min.z);\n      boundsVertices[1].set(bounds.min.x, bounds.min.y, bounds.max.z);\n      boundsVertices[2].set(bounds.min.x, bounds.max.y, bounds.min.z);\n      boundsVertices[3].set(bounds.min.x, bounds.max.y, bounds.max.z);\n      boundsVertices[4].set(bounds.max.x, bounds.min.y, bounds.min.z);\n      boundsVertices[5].set(bounds.max.x, bounds.min.y, bounds.max.z);\n      boundsVertices[6].set(bounds.max.x, bounds.max.y, bounds.min.z);\n      boundsVertices[7].set(bounds.max.x, bounds.max.y, bounds.max.z);\n      for (let i = 0; i < 8; i++) {\n        worldVerts[i].copy(boundsVertices[i]);\n      }\n      bounds.getCenter(focusPos);\n      boundsVertices.map(v => v.sub(focusPos));\n      const lightPlane = lpP.set(lightDirInv, 0);\n      boundsVertices.map((v, i) => lightPlane.projectPoint(v, projectedVerts[i]));\n      const centralVert = projectedVerts.reduce((a, b) => a.add(b), v.set(0, 0, 0)).divideScalar(projectedVerts.length);\n      const radius = projectedVerts.map(v => v.distanceTo(centralVert)).reduce((a, b) => Math.max(a, b));\n      const dirLength = boundsVertices.map(x => x.dot(lightDir)).reduce((a, b) => Math.max(a, b));\n      // Shadows\n      camera.current.position.copy(cameraPos.copy(lightDir).multiplyScalar(dirLength).add(focusPos));\n      camera.current.lookAt(scene.current.localToWorld(focusPos));\n      const dirMatrix = lpM.lookAt(camera.current.position, focusPos, v.set(0, 1, 0));\n      camera.current.left = -radius;\n      camera.current.right = radius;\n      camera.current.top = radius;\n      camera.current.bottom = -radius;\n      const yOffset = v.set(0, radius, 0).applyMatrix4(dirMatrix);\n      const yTime = (camera.current.position.y + yOffset.y) / lightDir.y;\n      camera.current.near = 0.1;\n      camera.current.far = yTime;\n      camera.current.updateProjectionMatrix();\n      camera.current.updateMatrixWorld();\n\n      // Now find size of ground plane\n      const groundProjectedCoords = worldVerts.map((v, i) => v.add(lightDirs[i].copy(lightDir).multiplyScalar(-v.y / lightDir.y)));\n      const centerPos = groundProjectedCoords.reduce((a, b) => a.add(b), v.set(0, 0, 0)).divideScalar(groundProjectedCoords.length);\n      const maxSize = 2 * groundProjectedCoords.map(v => Math.hypot(v.x - centerPos.x, v.z - centerPos.z)).reduce((a, b) => Math.max(a, b));\n      plane.current.scale.setScalar(maxSize);\n      plane.current.position.copy(centerPos);\n      if (debug) (_helper$current = helper.current) == null || _helper$current.update();\n\n      // Inject uniforms\n      normalMatB.viewMatrix.value = normalMat.viewMatrix.value = camera.current.matrixWorldInverse;\n      const dirLightNearPlane = lpF.setFromProjectionMatrix(lpM.multiplyMatrices(camera.current.projectionMatrix, camera.current.matrixWorldInverse)).planes[4];\n      causticsMaterial.cameraMatrixWorld = camera.current.matrixWorld;\n      causticsMaterial.cameraProjectionMatrixInv = camera.current.projectionMatrixInverse;\n      causticsMaterial.lightDir = lightDirInv;\n      causticsMaterial.lightPlaneNormal = dirLightNearPlane.normal;\n      causticsMaterial.lightPlaneConstant = dirLightNearPlane.constant;\n      causticsMaterial.near = camera.current.near;\n      causticsMaterial.far = camera.current.far;\n      causticsMaterial.resolution = resolution;\n      causticsMaterial.size = radius;\n      causticsMaterial.intensity = intensity;\n      causticsMaterial.worldRadius = worldRadius;\n\n      // Switch the scene on\n      scene.current.visible = true;\n\n      // Render front face normals\n      gl.setRenderTarget(normalTarget);\n      gl.clear();\n      scene.current.overrideMaterial = normalMat;\n      gl.render(scene.current, camera.current);\n\n      // Render back face normals, if enabled\n      gl.setRenderTarget(normalTargetB);\n      gl.clear();\n      if (backside) {\n        scene.current.overrideMaterial = normalMatB;\n        gl.render(scene.current, camera.current);\n      }\n\n      // Remove the override material\n      scene.current.overrideMaterial = null;\n\n      // Render front face caustics\n      causticsMaterial.ior = ior;\n      plane.current.material.lightProjMatrix = camera.current.projectionMatrix;\n      plane.current.material.lightViewMatrix = camera.current.matrixWorldInverse;\n      causticsMaterial.normalTexture = normalTarget.texture;\n      causticsMaterial.depthTexture = normalTarget.depthTexture;\n      gl.setRenderTarget(causticsTarget);\n      gl.clear();\n      causticsQuad.render(gl);\n\n      // Render back face caustics, if enabled\n      causticsMaterial.ior = backsideIOR;\n      causticsMaterial.normalTexture = normalTargetB.texture;\n      causticsMaterial.depthTexture = normalTargetB.depthTexture;\n      gl.setRenderTarget(causticsTargetB);\n      gl.clear();\n      if (backside) causticsQuad.render(gl);\n\n      // Reset render target\n      gl.setRenderTarget(null);\n\n      // Switch the scene off if caustics is all that's wanted\n      if (causticsOnly) scene.current.visible = false;\n    }\n  });\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"scene\", {\n    ref: scene\n  }, /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: camera,\n    up: [0, 1, 0]\n  }), children), /*#__PURE__*/React.createElement(\"mesh\", {\n    renderOrder: 2,\n    ref: plane,\n    \"rotation-x\": -Math.PI / 2\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"causticsProjectionMaterial\", {\n    transparent: true,\n    color: color,\n    causticsTexture: causticsTarget.texture,\n    causticsTextureB: causticsTargetB.texture,\n    blending: THREE.CustomBlending,\n    blendSrc: THREE.OneFactor,\n    blendDst: THREE.SrcAlphaFactor,\n    depthWrite: false\n  }), debug && /*#__PURE__*/React.createElement(Edges, null, /*#__PURE__*/React.createElement(\"lineBasicMaterial\", {\n    color: \"#ffff00\",\n    toneMapped: false\n  }))));\n});\n\nexport { Caustics };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4, WebGLRenderTarget, RGBAFormat, ShaderMaterial, DoubleSide, RepeatWrapping } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { FullScreenQuad } from 'three-stdlib';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\nimport SpotlightShadowShader from '../helpers/glsl/DefaultSpotlightShadowShadows.glsl.js';\n\nconst isSpotLight = child => {\n  return child == null ? void 0 : child.isSpotLight;\n};\nfunction VolumetricMesh({\n  opacity = 1,\n  radiusTop,\n  radiusBottom,\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5\n}) {\n  const mesh = React.useRef(null);\n  const size = useThree(state => state.size);\n  const camera = useThree(state => state.camera);\n  const dpr = useThree(state => state.viewport.dpr);\n  const [material] = React.useState(() => new SpotLightMaterial());\n  const [vec] = React.useState(() => new Vector3());\n  radiusTop = radiusTop === undefined ? 0.1 : radiusTop;\n  radiusBottom = radiusBottom === undefined ? angle * 7 : radiusBottom;\n  useFrame(() => {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.getWorldPosition(vec));\n  });\n  const geom = React.useMemo(() => {\n    const geometry = new CylinderGeometry(radiusTop, radiusBottom, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [distance, radiusTop, radiusBottom]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom,\n    raycast: () => null\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-opacity-value\": opacity,\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n}\nfunction useCommon(spotlight, mesh, width, height, distance) {\n  const [[pos, dir]] = React.useState(() => [new Vector3(), new Vector3()]);\n  React.useLayoutEffect(() => {\n    if (isSpotLight(spotlight.current)) {\n      spotlight.current.shadow.mapSize.set(width, height);\n      spotlight.current.shadow.needsUpdate = true;\n    } else {\n      throw new Error('SpotlightShadow must be a child of a SpotLight');\n    }\n  }, [spotlight, width, height]);\n  useFrame(() => {\n    if (!spotlight.current) return;\n    const A = spotlight.current.position;\n    const B = spotlight.current.target.position;\n    dir.copy(B).sub(A);\n    var len = dir.length();\n    dir.normalize().multiplyScalar(len * distance);\n    pos.copy(A).add(dir);\n    mesh.current.position.copy(pos);\n    mesh.current.lookAt(spotlight.current.target.position);\n  });\n}\nfunction SpotlightShadowWithShader({\n  distance = 0.4,\n  alphaTest = 0.5,\n  map,\n  shader = SpotlightShadowShader,\n  width = 512,\n  height = 512,\n  scale = 1,\n  children,\n  ...rest\n}) {\n  const mesh = React.useRef(null);\n  const spotlight = rest.spotlightRef;\n  const debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  const renderTarget = React.useMemo(() => new WebGLRenderTarget(width, height, {\n    format: RGBAFormat,\n    stencilBuffer: false\n    // depthTexture: null!\n  }), [width, height]);\n  const uniforms = React.useRef({\n    uShadowMap: {\n      value: map\n    },\n    uTime: {\n      value: 0\n    }\n  });\n  React.useEffect(() => void (uniforms.current.uShadowMap.value = map), [map]);\n  const fsQuad = React.useMemo(() => new FullScreenQuad(new ShaderMaterial({\n    uniforms: uniforms.current,\n    vertexShader: /* glsl */`\n          varying vec2 vUv;\n\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n          `,\n    fragmentShader: shader\n  })), [shader]);\n  React.useEffect(() => () => {\n    fsQuad.material.dispose();\n    fsQuad.dispose();\n  }, [fsQuad]);\n  React.useEffect(() => () => renderTarget.dispose(), [renderTarget]);\n  useFrame(({\n    gl\n  }, dt) => {\n    uniforms.current.uTime.value += dt;\n    gl.setRenderTarget(renderTarget);\n    fsQuad.render(gl);\n    gl.setRenderTarget(null);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: renderTarget.texture,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\nfunction SpotlightShadowWithoutShader({\n  distance = 0.4,\n  alphaTest = 0.5,\n  map,\n  width = 512,\n  height = 512,\n  scale,\n  children,\n  ...rest\n}) {\n  const mesh = React.useRef(null);\n  const spotlight = rest.spotlightRef;\n  const debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: map,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\nfunction SpotLightShadow(props) {\n  if (props.shader) return /*#__PURE__*/React.createElement(SpotlightShadowWithShader, props);\n  return /*#__PURE__*/React.createElement(SpotlightShadowWithoutShader, props);\n}\nconst SpotLight = /*#__PURE__*/React.forwardRef(({\n  // Volumetric\n  opacity = 1,\n  radiusTop,\n  radiusBottom,\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5,\n  volumetric = true,\n  debug = false,\n  children,\n  ...props\n}, ref) => {\n  const spotlight = React.useRef(null);\n  React.useImperativeHandle(ref, () => spotlight.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", null, debug && spotlight.current && /*#__PURE__*/React.createElement(\"spotLightHelper\", {\n    args: [spotlight.current]\n  }), /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: spotlight,\n    angle: angle,\n    color: color,\n    distance: distance,\n    castShadow: true\n  }, props), volumetric && /*#__PURE__*/React.createElement(VolumetricMesh, {\n    debug: debug,\n    opacity: opacity,\n    radiusTop: radiusTop,\n    radiusBottom: radiusBottom,\n    depthBuffer: depthBuffer,\n    color: color,\n    distance: distance,\n    angle: angle,\n    attenuation: attenuation,\n    anglePower: anglePower\n  })), children && /*#__PURE__*/React.cloneElement(children, {\n    spotlightRef: spotlight,\n    debug: debug\n  }));\n});\n\nexport { SpotLight, SpotLightShadow };\n", "import * as THREE from 'three';\nimport { version } from '../helpers/constants.js';\n\nclass SpotLightMaterial extends THREE.ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        depth: {\n          value: null\n        },\n        opacity: {\n          value: 1\n        },\n        attenuation: {\n          value: 2.5\n        },\n        anglePower: {\n          value: 12\n        },\n        spotPosition: {\n          value: new THREE.Vector3(0, 0, 0)\n        },\n        lightColor: {\n          value: new THREE.Color('white')\n        },\n        cameraNear: {\n          value: 0\n        },\n        cameraFar: {\n          value: 1\n        },\n        resolution: {\n          value: new THREE.Vector2(0, 0)\n        }\n      },\n      transparent: true,\n      depthWrite: false,\n      vertexShader: /* glsl */`\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        #include <common>\n        #include <logdepthbuf_pars_vertex>\n\n        void main() {\n          // compute intensity\n          vNormal = normalize(normalMatrix * normal);\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\n\n          gl_Position = projectionMatrix * viewPosition;\n\n          #include <logdepthbuf_vertex>\n        }\n      `,\n      fragmentShader: /* glsl */`\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n\n        uniform vec3 lightColor;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float opacity;\n\n        #include <packing>\n        #include <logdepthbuf_pars_fragment>\n\n        float readDepth(sampler2D depthSampler, vec2 uv) {\n          float fragCoordZ = texture(depthSampler, uv).r;\n\n          // https://github.com/mrdoob/three.js/issues/23072\n          #ifdef USE_LOGDEPTHBUF\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\n          #else\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          #endif\n\n          return viewZ;\n        }\n\n        void main() {\n          #include <logdepthbuf_fragment>\n\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\n          float intensity = vIntensity * angleIntensity;\n\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 uv = gl_FragCoord.xy / resolution;\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\n          }\n\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n          #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n        }\n      `\n    });\n  }\n}\n\nexport { SpotLightMaterial };\n", "var SpotlightShadowShader = \"#define GLSLIFY 1\\nvarying vec2 vUv;uniform sampler2D uShadowMap;uniform float uTime;void main(){vec3 color=texture2D(uShadowMap,vUv).xyz;gl_FragColor=vec4(color,1.);}\"; // eslint-disable-line\n\nexport { SpotlightShadowShader as default };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { applyProps } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nconst Lightformer = /* @__PURE__ */React.forwardRef(({\n  light,\n  args,\n  map,\n  toneMapped = false,\n  color = 'white',\n  form: Form = 'rect',\n  intensity = 1,\n  scale = 1,\n  target = [0, 0, 0],\n  children,\n  ...props\n}, forwardRef) => {\n  // Apply emissive power\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current, []);\n  React.useLayoutEffect(() => {\n    if (!children && !props.material) {\n      applyProps(ref.current.material, {\n        color\n      });\n      ref.current.material.color.multiplyScalar(intensity);\n    }\n  }, [color, intensity, children, props.material]);\n\n  // Target light\n  React.useLayoutEffect(() => {\n    if (!props.rotation) ref.current.quaternion.identity();\n    if (target && !props.rotation) {\n      'boolean' === typeof target ? ref.current.lookAt(0, 0, 0) : ref.current.lookAt(Array.isArray(target) ? new THREE.Vector3(...target) : target);\n    }\n  }, [target, props.rotation]);\n\n  // Fix 2-dimensional scale\n  scale = Array.isArray(scale) && scale.length === 2 ? [scale[0], scale[1], 1] : scale;\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    scale: scale\n  }, props), Form === 'circle' ? /*#__PURE__*/React.createElement(\"ringGeometry\", {\n    args: args ? args : [0, 0.5, 64]\n  }) : Form === 'ring' ? /*#__PURE__*/React.createElement(\"ringGeometry\", {\n    args: args ? args : [0.25, 0.5, 64]\n  }) : Form === 'rect' || Form === 'plane' ? /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: args ? args : [1, 1]\n  }) : Form === 'box' ? /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: args ? args : [1, 1, 1]\n  }) : /*#__PURE__*/React.createElement(Form, {\n    args: args\n  }), children ? children : /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    toneMapped: toneMapped,\n    map: map,\n    side: THREE.DoubleSide\n  }), light && /*#__PURE__*/React.createElement(\"pointLight\", _extends({\n    castShadow: true\n  }, light)));\n});\n\nexport { Lightformer };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Sky as Sky$1 } from 'three-stdlib';\nimport { Vector3 } from 'three';\n\nfunction calcPosFromAngles(inclination, azimuth, vector = new Vector3()) {\n  const theta = Math.PI * (inclination - 0.5);\n  const phi = 2 * Math.PI * (azimuth - 0.5);\n  vector.x = Math.cos(phi);\n  vector.y = Math.sin(theta);\n  vector.z = Math.sin(phi);\n  return vector;\n}\nconst Sky = /* @__PURE__ */React.forwardRef(({\n  inclination = 0.6,\n  azimuth = 0.1,\n  distance = 1000,\n  mieCoefficient = 0.005,\n  mieDirectionalG = 0.8,\n  rayleigh = 0.5,\n  turbidity = 10,\n  sunPosition = calcPosFromAngles(inclination, azimuth),\n  ...props\n}, ref) => {\n  const scale = React.useMemo(() => new Vector3().setScalar(distance), [distance]);\n  const [sky] = React.useState(() => new Sky$1());\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: sky,\n    ref: ref,\n    \"material-uniforms-mieCoefficient-value\": mieCoefficient,\n    \"material-uniforms-mieDirectionalG-value\": mieDirectionalG,\n    \"material-uniforms-rayleigh-value\": rayleigh,\n    \"material-uniforms-sunPosition-value\": sunPosition,\n    \"material-uniforms-turbidity-value\": turbidity,\n    scale: scale\n  }, props));\n});\n\nexport { Sky, calcPosFromAngles };\n", "import * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Color, AdditiveBlending, ShaderMaterial, Vector3, Spherical } from 'three';\nimport { version } from '../helpers/constants.js';\n\nclass StarfieldMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        time: {\n          value: 0.0\n        },\n        fade: {\n          value: 1.0\n        }\n      },\n      vertexShader: /* glsl */`\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }`,\n      fragmentShader: /* glsl */`\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n      }`\n    });\n  }\n}\nconst genStar = r => {\n  return new Vector3().setFromSpherical(new Spherical(r, Math.acos(1 - Math.random() * 2), Math.random() * 2 * Math.PI));\n};\nconst Stars = /* @__PURE__ */React.forwardRef(({\n  radius = 100,\n  depth = 50,\n  count = 5000,\n  saturation = 0,\n  factor = 4,\n  fade = false,\n  speed = 1\n}, ref) => {\n  const material = React.useRef(null);\n  const [position, color, size] = React.useMemo(() => {\n    const positions = [];\n    const colors = [];\n    const sizes = Array.from({\n      length: count\n    }, () => (0.5 + 0.5 * Math.random()) * factor);\n    const color = new Color();\n    let r = radius + depth;\n    const increment = depth / count;\n    for (let i = 0; i < count; i++) {\n      r -= increment * Math.random();\n      positions.push(...genStar(r).toArray());\n      color.setHSL(i / count, saturation, 0.9);\n      colors.push(color.r, color.g, color.b);\n    }\n    return [new Float32Array(positions), new Float32Array(colors), new Float32Array(sizes)];\n  }, [count, depth, factor, radius, saturation]);\n  useFrame(state => material.current && (material.current.uniforms.time.value = state.clock.elapsedTime * speed));\n  const [starfieldMaterial] = React.useState(() => new StarfieldMaterial());\n  return /*#__PURE__*/React.createElement(\"points\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [position, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [color, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [size, 1]\n  })), /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: material,\n    object: starfieldMaterial,\n    attach: \"material\",\n    blending: AdditiveBlending,\n    \"uniforms-fade-value\": fade,\n    depthWrite: false,\n    transparent: true,\n    vertexColors: true\n  }));\n});\n\nexport { Stars };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { REVISION, Quaternion, Vector3, DynamicDrawUsage, MeshLambertMaterial, Matrix4, Color } from 'three';\nimport { extend, useFrame, applyProps } from '@react-three/fiber';\nimport { useTexture } from './Texture.js';\nimport { setUpdateRange } from '../helpers/deprecated.js';\n\nconst CLOUD_URL = 'https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png';\nconst parentMatrix = /* @__PURE__ */new Matrix4();\nconst translation = /* @__PURE__ */new Vector3();\nconst rotation = /* @__PURE__ */new Quaternion();\nconst cpos = /* @__PURE__ */new Vector3();\nconst cquat = /* @__PURE__ */new Quaternion();\nconst scale = /* @__PURE__ */new Vector3();\nconst context = /* @__PURE__ */React.createContext(null);\nconst Clouds = /* @__PURE__ */React.forwardRef(({\n  children,\n  material = MeshLambertMaterial,\n  texture = CLOUD_URL,\n  range,\n  limit = 200,\n  frustumCulled,\n  ...props\n}, fref) => {\n  var _image$width, _image$height;\n  const CloudMaterial = React.useMemo(() => {\n    return class extends material {\n      constructor() {\n        super();\n        const opaque_fragment = parseInt(REVISION.replace(/\\D+/g, '')) >= 154 ? 'opaque_fragment' : 'output_fragment';\n        this.onBeforeCompile = shader => {\n          shader.vertexShader = `attribute float cloudOpacity;\n               varying float vOpacity;\n              ` + shader.vertexShader.replace('#include <fog_vertex>', `#include <fog_vertex>\n                 vOpacity = cloudOpacity;\n                `);\n          shader.fragmentShader = `varying float vOpacity;\n              ` + shader.fragmentShader.replace(`#include <${opaque_fragment}>`, `#include <${opaque_fragment}>\n                 gl_FragColor = vec4(outgoingLight, diffuseColor.a * vOpacity);\n                `);\n        };\n      }\n    };\n  }, [material]);\n  extend({\n    CloudMaterial\n  });\n  const instance = React.useRef(null);\n  const clouds = React.useRef([]);\n  const opacities = React.useMemo(() => new Float32Array(Array.from({\n    length: limit\n  }, () => 1)), [limit]);\n  const colors = React.useMemo(() => new Float32Array(Array.from({\n    length: limit\n  }, () => [1, 1, 1]).flat()), [limit]);\n  const cloudTexture = useTexture(texture);\n  let t = 0;\n  let index = 0;\n  let config;\n  const qat = new Quaternion();\n  const dir = new Vector3(0, 0, 1);\n  const pos = new Vector3();\n  useFrame((state, delta) => {\n    t = state.clock.elapsedTime;\n    parentMatrix.copy(instance.current.matrixWorld).invert();\n    state.camera.matrixWorld.decompose(cpos, cquat, scale);\n    for (index = 0; index < clouds.current.length; index++) {\n      config = clouds.current[index];\n      config.ref.current.matrixWorld.decompose(translation, rotation, scale);\n      translation.add(pos.copy(config.position).applyQuaternion(rotation).multiply(scale));\n      rotation.copy(cquat).multiply(qat.setFromAxisAngle(dir, config.rotation += delta * config.rotationFactor));\n      scale.multiplyScalar(config.volume + (1 + Math.sin(t * config.density * config.speed)) / 2 * config.growth);\n      config.matrix.compose(translation, rotation, scale).premultiply(parentMatrix);\n      config.dist = translation.distanceTo(cpos);\n    }\n\n    // Depth-sort. Instances have no specific draw order, w/o sorting z would be random\n    clouds.current.sort((a, b) => b.dist - a.dist);\n    for (index = 0; index < clouds.current.length; index++) {\n      config = clouds.current[index];\n      opacities[index] = config.opacity * (config.dist < config.fade - 1 ? config.dist / config.fade : 1);\n      instance.current.setMatrixAt(index, config.matrix);\n      instance.current.setColorAt(index, config.color);\n    }\n\n    // Update instance\n    instance.current.geometry.attributes.cloudOpacity.needsUpdate = true;\n    instance.current.instanceMatrix.needsUpdate = true;\n    if (instance.current.instanceColor) instance.current.instanceColor.needsUpdate = true;\n  });\n  React.useLayoutEffect(() => {\n    const count = Math.min(limit, range !== undefined ? range : limit, clouds.current.length);\n    instance.current.count = count;\n    setUpdateRange(instance.current.instanceMatrix, {\n      start: 0,\n      count: count * 16\n    });\n    if (instance.current.instanceColor) {\n      setUpdateRange(instance.current.instanceColor, {\n        start: 0,\n        count: count * 3\n      });\n    }\n    setUpdateRange(instance.current.geometry.attributes.cloudOpacity, {\n      start: 0,\n      count: count\n    });\n  });\n  let imageBounds = [(_image$width = cloudTexture.image.width) !== null && _image$width !== void 0 ? _image$width : 1, (_image$height = cloudTexture.image.height) !== null && _image$height !== void 0 ? _image$height : 1];\n  const max = Math.max(imageBounds[0], imageBounds[1]);\n  imageBounds = [imageBounds[0] / max, imageBounds[1] / max];\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: fref\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: clouds\n  }, children, /*#__PURE__*/React.createElement(\"instancedMesh\", {\n    matrixAutoUpdate: false,\n    ref: instance,\n    args: [null, null, limit],\n    frustumCulled: frustumCulled\n  }, /*#__PURE__*/React.createElement(\"instancedBufferAttribute\", {\n    usage: DynamicDrawUsage,\n    attach: \"instanceColor\",\n    args: [colors, 3]\n  }), /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: [...imageBounds]\n  }, /*#__PURE__*/React.createElement(\"instancedBufferAttribute\", {\n    usage: DynamicDrawUsage,\n    attach: \"attributes-cloudOpacity\",\n    args: [opacities, 1]\n  })), /*#__PURE__*/React.createElement(\"cloudMaterial\", {\n    key: material.name,\n    map: cloudTexture,\n    transparent: true,\n    depthWrite: false\n  }))));\n});\nconst CloudInstance = /* @__PURE__ */React.forwardRef(({\n  opacity = 1,\n  speed = 0,\n  bounds = [5, 1, 1],\n  segments = 20,\n  color = '#ffffff',\n  fade = 10,\n  volume = 6,\n  smallestVolume = 0.25,\n  distribute = null,\n  growth = 4,\n  concentrate = 'inside',\n  seed = Math.random(),\n  ...props\n}, fref) => {\n  function random() {\n    const x = Math.sin(seed++) * 10000;\n    return x - Math.floor(x);\n  }\n  const parent = React.useContext(context);\n  const ref = React.useRef(null);\n  const uuid = React.useId();\n  const clouds = React.useMemo(() => {\n    return [...new Array(segments)].map((_, index) => ({\n      segments,\n      bounds: new Vector3(1, 1, 1),\n      position: new Vector3(),\n      uuid,\n      index,\n      ref,\n      dist: 0,\n      matrix: new Matrix4(),\n      color: new Color(),\n      rotation: index * (Math.PI / segments)\n    }));\n  }, [segments, uuid]);\n  React.useLayoutEffect(() => {\n    clouds.forEach((cloud, index) => {\n      applyProps(cloud, {\n        volume,\n        color,\n        speed,\n        growth,\n        opacity,\n        fade,\n        bounds,\n        density: Math.max(0.5, random()),\n        rotationFactor: Math.max(0.2, 0.5 * random()) * speed\n      });\n      // Only distribute randomly if there are multiple segments\n\n      const distributed = distribute == null ? void 0 : distribute(cloud, index);\n      if (distributed || segments > 1) {\n        var _distributed$point;\n        cloud.position.copy(cloud.bounds).multiply((_distributed$point = distributed == null ? void 0 : distributed.point) !== null && _distributed$point !== void 0 ? _distributed$point : {\n          x: random() * 2 - 1,\n          y: random() * 2 - 1,\n          z: random() * 2 - 1\n        });\n      }\n      const xDiff = Math.abs(cloud.position.x);\n      const yDiff = Math.abs(cloud.position.y);\n      const zDiff = Math.abs(cloud.position.z);\n      const max = Math.max(xDiff, yDiff, zDiff);\n      cloud.length = 1;\n      if (xDiff === max) cloud.length -= xDiff / cloud.bounds.x;\n      if (yDiff === max) cloud.length -= yDiff / cloud.bounds.y;\n      if (zDiff === max) cloud.length -= zDiff / cloud.bounds.z;\n      cloud.volume = ((distributed == null ? void 0 : distributed.volume) !== undefined ? distributed.volume : Math.max(Math.max(0, smallestVolume), concentrate === 'random' ? random() : concentrate === 'inside' ? cloud.length : 1 - cloud.length)) * volume;\n    });\n  }, [concentrate, bounds, fade, color, opacity, growth, volume, seed, segments, speed]);\n  React.useLayoutEffect(() => {\n    const temp = clouds;\n    parent.current = [...parent.current, ...temp];\n    return () => {\n      parent.current = parent.current.filter(item => item.uuid !== uuid);\n    };\n  }, [clouds]);\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n});\nconst Cloud = /* @__PURE__ */React.forwardRef((props, fref) => {\n  const parent = React.useContext(context);\n  if (parent) return /*#__PURE__*/React.createElement(CloudInstance, _extends({\n    ref: fref\n  }, props));\n  return /*#__PURE__*/React.createElement(Clouds, null, /*#__PURE__*/React.createElement(CloudInstance, _extends({\n    ref: fref\n  }, props)));\n});\n\nexport { Cloud, CloudInstance, Clouds };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { version } from '../helpers/constants.js';\n\nclass SparklesImplMaterial extends THREE.ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        time: {\n          value: 0\n        },\n        pixelRatio: {\n          value: 1\n        }\n      },\n      vertexShader: /* glsl */`\n        uniform float pixelRatio;\n        uniform float time;\n        attribute float size;  \n        attribute float speed;  \n        attribute float opacity;\n        attribute vec3 noise;\n        attribute vec3 color;\n        varying vec3 vColor;\n        varying float vOpacity;\n\n        void main() {\n          vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;\n          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;\n          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;\n          vec4 viewPosition = viewMatrix * modelPosition;\n          vec4 projectionPostion = projectionMatrix * viewPosition;\n          gl_Position = projectionPostion;\n          gl_PointSize = size * 25. * pixelRatio;\n          gl_PointSize *= (1.0 / - viewPosition.z);\n          vColor = color;\n          vOpacity = opacity;\n        }\n      `,\n      fragmentShader: /* glsl */`\n        varying vec3 vColor;\n        varying float vOpacity;\n        void main() {\n          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n          float strength = 0.05 / distanceToCenter - 0.1;\n          gl_FragColor = vec4(vColor, strength * vOpacity);\n          #include <tonemapping_fragment>\n          #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n        }\n      `\n    });\n  }\n  get time() {\n    return this.uniforms.time.value;\n  }\n  set time(value) {\n    this.uniforms.time.value = value;\n  }\n  get pixelRatio() {\n    return this.uniforms.pixelRatio.value;\n  }\n  set pixelRatio(value) {\n    this.uniforms.pixelRatio.value = value;\n  }\n}\nconst isFloat32Array = def => def && def.constructor === Float32Array;\nconst expandColor = v => [v.r, v.g, v.b];\nconst isVector = v => v instanceof THREE.Vector2 || v instanceof THREE.Vector3 || v instanceof THREE.Vector4;\nconst normalizeVector = v => {\n  if (Array.isArray(v)) return v;else if (isVector(v)) return v.toArray();\n  return [v, v, v];\n};\nfunction usePropAsIsOrAsAttribute(count, prop, setDefault) {\n  return React.useMemo(() => {\n    if (prop !== undefined) {\n      if (isFloat32Array(prop)) {\n        return prop;\n      } else {\n        if (prop instanceof THREE.Color) {\n          const a = Array.from({\n            length: count * 3\n          }, () => expandColor(prop)).flat();\n          return Float32Array.from(a);\n        } else if (isVector(prop) || Array.isArray(prop)) {\n          const a = Array.from({\n            length: count * 3\n          }, () => normalizeVector(prop)).flat();\n          return Float32Array.from(a);\n        }\n        return Float32Array.from({\n          length: count\n        }, () => prop);\n      }\n    }\n    return Float32Array.from({\n      length: count\n    }, setDefault);\n  }, [prop]);\n}\nconst Sparkles = /* @__PURE__ */React.forwardRef(({\n  noise = 1,\n  count = 100,\n  speed = 1,\n  opacity = 1,\n  scale = 1,\n  size,\n  color,\n  children,\n  ...props\n}, forwardRef) => {\n  React.useMemo(() => extend({\n    SparklesImplMaterial\n  }), []);\n  const ref = React.useRef(null);\n  const dpr = useThree(state => state.viewport.dpr);\n  const _scale = normalizeVector(scale);\n  const positions = React.useMemo(() => Float32Array.from(Array.from({\n    length: count\n  }, () => _scale.map(THREE.MathUtils.randFloatSpread)).flat()), [count, ..._scale]);\n  const sizes = usePropAsIsOrAsAttribute(count, size, Math.random);\n  const opacities = usePropAsIsOrAsAttribute(count, opacity);\n  const speeds = usePropAsIsOrAsAttribute(count, speed);\n  const noises = usePropAsIsOrAsAttribute(count * 3, noise);\n  const colors = usePropAsIsOrAsAttribute(color === undefined ? count * 3 : count, !isFloat32Array(color) ? new THREE.Color(color) : color, () => 1);\n  useFrame(state => {\n    if (ref.current && ref.current.material) ref.current.material.time = state.clock.elapsedTime;\n  });\n  React.useImperativeHandle(forwardRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    key: `particle-${count}-${JSON.stringify(scale)}`\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-opacity\",\n    args: [opacities, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-speed\",\n    args: [speeds, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-noise\",\n    args: [noises, 3]\n  })), children ? children : /*#__PURE__*/React.createElement(\"sparklesImplMaterial\", {\n    transparent: true,\n    pixelRatio: dpr,\n    depthWrite: false\n  }));\n});\n\nexport { Sparkles };\n", "import * as React from 'react';\nimport { useTexture } from './Texture.js';\nimport { suspend } from 'suspend-react';\n\nfunction getFormatString(format) {\n  switch (format) {\n    case 64:\n      return '-64px';\n    case 128:\n      return '-128px';\n    case 256:\n      return '-256px';\n    case 512:\n      return '-512px';\n    default:\n      return '';\n  }\n}\nconst LIST_URL = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json';\nconst MATCAP_ROOT = 'https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d';\nfunction useMatcapTexture(id = 0, format = 1024, onLoad) {\n  const matcapList = suspend(() => fetch(LIST_URL).then(res => res.json()), ['matcapList']);\n  const DEFAULT_MATCAP = matcapList[0];\n  const numTot = React.useMemo(() => Object.keys(matcapList).length, []);\n  const fileHash = React.useMemo(() => {\n    if (typeof id === 'string') {\n      return id;\n    } else if (typeof id === 'number') {\n      return matcapList[id];\n    }\n    return null;\n  }, [id]);\n  const fileName = `${fileHash || DEFAULT_MATCAP}${getFormatString(format)}.png`;\n  const url = `${MATCAP_ROOT}/${format}/${fileName}`;\n  const matcapTexture = useTexture(url, onLoad);\n  return [matcapTexture, url, numTot];\n}\n\n//\n\nconst MatcapTexture = ({\n  children,\n  id,\n  format,\n  onLoad\n}) => {\n  const texture = useMatcapTexture(id, format, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n};\n\nexport { MatcapTexture, useMatcapTexture };\n", "import * as React from 'react';\nimport { useTexture } from './Texture.js';\nimport { RepeatWrapping, Vector2 } from 'three';\nimport { suspend } from 'suspend-react';\n\nconst NORMAL_ROOT = 'https://rawcdn.githack.com/pmndrs/drei-assets/7a3104997e1576f83472829815b00880d88b32fb';\nconst LIST_URL = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/normals/normals.json';\nfunction useNormalTexture(id = 0, settings = {}, onLoad) {\n  const {\n    repeat = [1, 1],\n    anisotropy = 1,\n    offset = [0, 0]\n  } = settings;\n  const normalsList = suspend(() => fetch(LIST_URL).then(res => res.json()), ['normalsList']);\n  const numTot = React.useMemo(() => Object.keys(normalsList).length, []);\n  const DEFAULT_NORMAL = normalsList[0];\n  const imageName = normalsList[id] || DEFAULT_NORMAL;\n  const url = `${NORMAL_ROOT}/normals/${imageName}`;\n  const normalTexture = useTexture(url, onLoad);\n  React.useLayoutEffect(() => {\n    if (!normalTexture) return;\n    normalTexture.wrapS = normalTexture.wrapT = RepeatWrapping;\n    normalTexture.repeat = new Vector2(repeat[0], repeat[1]);\n    normalTexture.offset = new Vector2(offset[0], offset[1]);\n    normalTexture.anisotropy = anisotropy;\n  }, [normalTexture, anisotropy, repeat, offset]);\n  return [normalTexture, url, numTot];\n}\n\n//\n\nconst NormalTexture = ({\n  children,\n  id,\n  onLoad,\n  ...settings\n}) => {\n  const ret = useNormalTexture(id, settings, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(ret));\n};\n\nexport { NormalTexture, useNormalTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend } from '@react-three/fiber';\nimport { WireframeMaterial, WireframeMaterialShaders, useWireframeUniforms, setWireframeOverride } from '../materials/WireframeMaterial.js';\n\nfunction isWithGeometry(object) {\n  return !!(object != null && object.geometry);\n}\nfunction isGeometry(object) {\n  return !!(object != null && object.isBufferGeometry);\n}\nfunction isRefObject(object) {\n  return !!(object != null && object.current);\n}\nfunction isRef(object) {\n  return (object == null ? void 0 : object.current) !== undefined;\n}\nfunction isWireframeGeometry(geometry) {\n  return geometry.type === 'WireframeGeometry';\n}\nfunction getUniforms() {\n  const u = {};\n  for (const key in WireframeMaterialShaders.uniforms) {\n    u[key] = {\n      value: WireframeMaterialShaders.uniforms[key]\n    };\n  }\n  return u;\n}\nfunction getBarycentricCoordinates(geometry, removeEdge) {\n  const position = geometry.getAttribute('position');\n  const count = position.count;\n  const barycentric = [];\n  for (let i = 0; i < count; i++) {\n    const even = i % 2 === 0;\n    const Q = removeEdge ? 1 : 0;\n    if (even) {\n      barycentric.push(0, 0, 1, 0, 1, 0, 1, 0, Q);\n    } else {\n      barycentric.push(0, 1, 0, 0, 0, 1, 1, 0, Q);\n    }\n  }\n  return new THREE.BufferAttribute(Float32Array.from(barycentric), 3);\n}\nfunction getInputGeometry(inputGeometry) {\n  const geo = isRefObject(inputGeometry) ? inputGeometry.current : inputGeometry;\n  if (!isGeometry(geo)) {\n    // Disallow WireframeGeometry\n    if (isWireframeGeometry(geo)) {\n      throw new Error('Wireframe: WireframeGeometry is not supported.');\n    }\n    const parent = geo.parent;\n    if (isWithGeometry(parent)) {\n      // Disallow WireframeGeometry\n      if (isWireframeGeometry(parent.geometry)) {\n        throw new Error('Wireframe: WireframeGeometry is not supported.');\n      }\n      return parent.geometry;\n    }\n  } else {\n    return geo;\n  }\n}\nfunction setBarycentricCoordinates(geometry, simplify) {\n  if (geometry.index) {\n    console.warn('Wireframe: Requires non-indexed geometry, converting to non-indexed geometry.');\n    const nonIndexedGeo = geometry.toNonIndexed();\n    geometry.copy(nonIndexedGeo);\n    geometry.setIndex(null);\n  }\n  const newBarycentric = getBarycentricCoordinates(geometry, simplify);\n  geometry.setAttribute('barycentric', newBarycentric);\n}\nfunction WireframeWithCustomGeo({\n  geometry: customGeometry,\n  simplify = false,\n  ...props\n}) {\n  extend({\n    MeshWireframeMaterial: WireframeMaterial\n  });\n  const [geometry, setGeometry] = React.useState(null);\n  React.useLayoutEffect(() => {\n    const geom = getInputGeometry(customGeometry);\n    if (!geom) {\n      throw new Error('Wireframe: geometry prop must be a BufferGeometry or a ref to a BufferGeometry.');\n    }\n    setBarycentricCoordinates(geom, simplify);\n    if (isRef(customGeometry)) {\n      setGeometry(geom);\n    }\n  }, [simplify, customGeometry]);\n  const drawnGeo = isRef(customGeometry) ? geometry : customGeometry;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, drawnGeo && /*#__PURE__*/React.createElement(\"mesh\", {\n    geometry: drawnGeo\n  }, /*#__PURE__*/React.createElement(\"meshWireframeMaterial\", _extends({\n    attach: \"material\",\n    transparent: true,\n    side: THREE.DoubleSide,\n    polygonOffset: true //\n    ,\n    polygonOffsetFactor: -4\n  }, props, {\n    extensions: {\n      derivatives: true,\n      fragDepth: false,\n      drawBuffers: false,\n      shaderTextureLOD: false\n    }\n  }))));\n}\nfunction WireframeWithoutCustomGeo({\n  simplify = false,\n  ...props\n}) {\n  const objectRef = React.useRef(null);\n  const uniforms = React.useMemo(() => getUniforms(), [WireframeMaterialShaders.uniforms]);\n  useWireframeUniforms(uniforms, props);\n  React.useLayoutEffect(() => {\n    const geom = getInputGeometry(objectRef);\n    if (!geom) {\n      throw new Error('Wireframe: Must be a child of a Mesh, Line or Points object or specify a geometry prop.');\n    }\n    const og = geom.clone();\n    setBarycentricCoordinates(geom, simplify);\n    return () => {\n      geom.copy(og);\n      og.dispose();\n    };\n  }, [simplify]);\n  React.useLayoutEffect(() => {\n    const parentMesh = objectRef.current.parent;\n    const og = parentMesh.material.clone();\n    setWireframeOverride(parentMesh.material, uniforms);\n    return () => {\n      parentMesh.material.dispose();\n      parentMesh.material = og;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"object3D\", {\n    ref: objectRef\n  });\n}\nfunction Wireframe({\n  geometry: customGeometry,\n  ...props\n}) {\n  if (customGeometry) {\n    return /*#__PURE__*/React.createElement(WireframeWithCustomGeo, _extends({\n      geometry: customGeometry\n    }, props));\n  }\n  return /*#__PURE__*/React.createElement(WireframeWithoutCustomGeo, props);\n}\n\nexport { Wireframe };\n", "import * as THREE from 'three';\nimport * as React from 'react';\nimport { shaderMaterial } from '../core/shaderMaterial.js';\n\nconst WireframeMaterialShaders = {\n  uniforms: {\n    strokeOpacity: 1,\n    fillOpacity: 0.25,\n    fillMix: 0,\n    thickness: 0.05,\n    colorBackfaces: false,\n    dashInvert: true,\n    dash: false,\n    dashRepeats: 4,\n    dashLength: 0.5,\n    squeeze: false,\n    squeezeMin: 0.2,\n    squeezeMax: 1,\n    stroke: /* @__PURE__ */new THREE.Color('#ff0000'),\n    backfaceStroke: /* @__PURE__ */new THREE.Color('#0000ff'),\n    fill: /* @__PURE__ */new THREE.Color('#00ff00')\n  },\n  vertex: /* glsl */`\n\t  attribute vec3 barycentric;\n\t\n\t\tvarying vec3 v_edges_Barycentric;\n\t\tvarying vec3 v_edges_Position;\n\n\t\tvoid initWireframe() {\n\t\t\tv_edges_Barycentric = barycentric;\n\t\t\tv_edges_Position = position.xyz;\n\t\t}\n\t  `,\n  fragment: /* glsl */`\n\t\t#ifndef PI\n\t  \t#define PI 3.1415926535897932384626433832795\n\t\t#endif\n  \n\t  varying vec3 v_edges_Barycentric;\n\t  varying vec3 v_edges_Position;\n  \n\t  uniform float strokeOpacity;\n\t  uniform float fillOpacity;\n\t  uniform float fillMix;\n\t  uniform float thickness;\n\t  uniform bool colorBackfaces;\n  \n\t  // Dash\n\t  uniform bool dashInvert;\n\t  uniform bool dash;\n\t  uniform bool dashOnly;\n\t  uniform float dashRepeats;\n\t  uniform float dashLength;\n  \n\t  // Squeeze\n\t  uniform bool squeeze;\n\t  uniform float squeezeMin;\n\t  uniform float squeezeMax;\n  \n\t  // Colors\n\t  uniform vec3 stroke;\n\t  uniform vec3 backfaceStroke;\n\t  uniform vec3 fill;\n  \n\t  // This is like\n\t  float wireframe_aastep(float threshold, float dist) {\n\t\t  float afwidth = fwidth(dist) * 0.5;\n\t\t  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\n\t  }\n  \n\t  float wireframe_map(float value, float min1, float max1, float min2, float max2) {\n\t\t  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n\t  }\n  \n\t  float getWireframe() {\n\t\t\tvec3 barycentric = v_edges_Barycentric;\n\t\t\n\t\t\t// Distance from center of each triangle to its edges.\n\t\t\tfloat d = min(min(barycentric.x, barycentric.y), barycentric.z);\n\n\t\t\t// for dashed rendering, we can use this to get the 0 .. 1 value of the line length\n\t\t\tfloat positionAlong = max(barycentric.x, barycentric.y);\n\t\t\tif (barycentric.y < barycentric.x && barycentric.y < barycentric.z) {\n\t\t\t\tpositionAlong = 1.0 - positionAlong;\n\t\t\t}\n\n\t\t\t// the thickness of the stroke\n\t\t\tfloat computedThickness = wireframe_map(thickness, 0.0, 1.0, 0.0, 0.34);\n\n\t\t\t// if we want to shrink the thickness toward the center of the line segment\n\t\t\tif (squeeze) {\n\t\t\t\tcomputedThickness *= mix(squeezeMin, squeezeMax, (1.0 - sin(positionAlong * PI)));\n\t\t\t}\n\n\t\t\t// Create dash pattern\n\t\t\tif (dash) {\n\t\t\t\t// here we offset the stroke position depending on whether it\n\t\t\t\t// should overlap or not\n\t\t\t\tfloat offset = 1.0 / dashRepeats * dashLength / 2.0;\n\t\t\t\tif (!dashInvert) {\n\t\t\t\t\toffset += 1.0 / dashRepeats / 2.0;\n\t\t\t\t}\n\n\t\t\t\t// if we should animate the dash or not\n\t\t\t\t// if (dashAnimate) {\n\t\t\t\t// \toffset += time * 0.22;\n\t\t\t\t// }\n\n\t\t\t\t// create the repeating dash pattern\n\t\t\t\tfloat pattern = fract((positionAlong + offset) * dashRepeats);\n\t\t\t\tcomputedThickness *= 1.0 - wireframe_aastep(dashLength, pattern);\n\t\t\t}\n\n\t\t\t// compute the anti-aliased stroke edge  \n\t\t\tfloat edge = 1.0 - wireframe_aastep(computedThickness, d);\n\n\t\t\treturn edge;\n\t  }\n\t  `\n};\nconst WireframeMaterial = /* @__PURE__ */shaderMaterial(WireframeMaterialShaders.uniforms, WireframeMaterialShaders.vertex + /* glsl */`\n  \tvoid main() {\n\t\tinitWireframe();\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n  `, WireframeMaterialShaders.fragment + /* glsl */`\n  void main () {\n\t\t// Compute color\n\n\t\tfloat edge = getWireframe();\n\t\tvec4 colorStroke = vec4(stroke, edge);\n\n\t\t#ifdef FLIP_SIDED\n\t\t\tcolorStroke.rgb = backfaceStroke;\n\t\t#endif\n    \n\t\tvec4 colorFill = vec4(fill, fillOpacity);\n\t\tvec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);\n\n\t\tgl_FragColor = outColor;\n\t}\n  `);\nfunction setWireframeOverride(material, uniforms) {\n  material.onBeforeCompile = shader => {\n    shader.uniforms = {\n      ...shader.uniforms,\n      ...uniforms\n    };\n    shader.vertexShader = shader.vertexShader.replace('void main() {', `\n\t\t  ${WireframeMaterialShaders.vertex}\n\t\t  void main() {\n\t\t\tinitWireframe();\n\t\t`);\n    shader.fragmentShader = shader.fragmentShader.replace('void main() {', `\n\t\t  ${WireframeMaterialShaders.fragment}\n\t\t  void main() {\n\t\t`);\n    shader.fragmentShader = shader.fragmentShader.replace('#include <color_fragment>', /* glsl */`\n\t\t  #include <color_fragment>\n\t\t\t  float edge = getWireframe();\n\t\t  vec4 colorStroke = vec4(stroke, edge);\n\t\t  #ifdef FLIP_SIDED\n\t\t\tcolorStroke.rgb = backfaceStroke;\n\t\t  #endif\n\t\t  vec4 colorFill = vec4(mix(diffuseColor.rgb, fill, fillMix), mix(diffuseColor.a, fillOpacity, fillMix));\n\t\t  vec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);\n\n\t\t  diffuseColor.rgb = outColor.rgb;\n\t\t  diffuseColor.a *= outColor.a;\n\t\t`);\n  };\n  material.side = THREE.DoubleSide;\n  material.transparent = true;\n}\nfunction useWireframeUniforms(uniforms, props) {\n  React.useEffect(() => {\n    var _props$fillOpacity;\n    return void (uniforms.fillOpacity.value = (_props$fillOpacity = props.fillOpacity) !== null && _props$fillOpacity !== void 0 ? _props$fillOpacity : uniforms.fillOpacity.value);\n  }, [props.fillOpacity]);\n  React.useEffect(() => {\n    var _props$fillMix;\n    return void (uniforms.fillMix.value = (_props$fillMix = props.fillMix) !== null && _props$fillMix !== void 0 ? _props$fillMix : uniforms.fillMix.value);\n  }, [props.fillMix]);\n  React.useEffect(() => {\n    var _props$strokeOpacity;\n    return void (uniforms.strokeOpacity.value = (_props$strokeOpacity = props.strokeOpacity) !== null && _props$strokeOpacity !== void 0 ? _props$strokeOpacity : uniforms.strokeOpacity.value);\n  }, [props.strokeOpacity]);\n  React.useEffect(() => {\n    var _props$thickness;\n    return void (uniforms.thickness.value = (_props$thickness = props.thickness) !== null && _props$thickness !== void 0 ? _props$thickness : uniforms.thickness.value);\n  }, [props.thickness]);\n  React.useEffect(() => void (uniforms.colorBackfaces.value = !!props.colorBackfaces), [props.colorBackfaces]);\n  React.useEffect(() => void (uniforms.dash.value = !!props.dash), [props.dash]);\n  React.useEffect(() => void (uniforms.dashInvert.value = !!props.dashInvert), [props.dashInvert]);\n  React.useEffect(() => {\n    var _props$dashRepeats;\n    return void (uniforms.dashRepeats.value = (_props$dashRepeats = props.dashRepeats) !== null && _props$dashRepeats !== void 0 ? _props$dashRepeats : uniforms.dashRepeats.value);\n  }, [props.dashRepeats]);\n  React.useEffect(() => {\n    var _props$dashLength;\n    return void (uniforms.dashLength.value = (_props$dashLength = props.dashLength) !== null && _props$dashLength !== void 0 ? _props$dashLength : uniforms.dashLength.value);\n  }, [props.dashLength]);\n  React.useEffect(() => void (uniforms.squeeze.value = !!props.squeeze), [props.squeeze]);\n  React.useEffect(() => {\n    var _props$squeezeMin;\n    return void (uniforms.squeezeMin.value = (_props$squeezeMin = props.squeezeMin) !== null && _props$squeezeMin !== void 0 ? _props$squeezeMin : uniforms.squeezeMin.value);\n  }, [props.squeezeMin]);\n  React.useEffect(() => {\n    var _props$squeezeMax;\n    return void (uniforms.squeezeMax.value = (_props$squeezeMax = props.squeezeMax) !== null && _props$squeezeMax !== void 0 ? _props$squeezeMax : uniforms.squeezeMax.value);\n  }, [props.squeezeMax]);\n  React.useEffect(() => void (uniforms.stroke.value = props.stroke ? new THREE.Color(props.stroke) : uniforms.stroke.value), [props.stroke]);\n  React.useEffect(() => void (uniforms.fill.value = props.fill ? new THREE.Color(props.fill) : uniforms.fill.value), [props.fill]);\n  React.useEffect(() => void (uniforms.backfaceStroke.value = props.backfaceStroke ? new THREE.Color(props.backfaceStroke) : uniforms.backfaceStroke.value), [props.backfaceStroke]);\n}\n\nexport { WireframeMaterial, WireframeMaterialShaders, setWireframeOverride, useWireframeUniforms };\n", "import { useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\n/**\n * Integration and compilation: Faraz Shaikh (https://twitter.com/CantBeFaraz)\n *\n * Based on:\n *  - https://gkjohnson.github.io/threejs-sandbox/screendoor-transparency/ by Garrett Johnson (https://github.com/gkjohnson)\n *\n * Note:\n *  - Must depreciate in favor of https://github.com/mrdoob/three.js/issues/10600 when it's ready.\n */\nfunction ShadowAlpha({\n  opacity,\n  alphaMap\n}) {\n  const depthMaterialRef = React.useRef(null);\n  const distanceMaterialRef = React.useRef(null);\n  const uShadowOpacity = React.useRef({\n    value: 1\n  });\n  const uAlphaMap = React.useRef({\n    value: null\n  });\n  const uHasAlphaMap = React.useRef({\n    value: false\n  });\n  React.useLayoutEffect(() => {\n    depthMaterialRef.current.onBeforeCompile = distanceMaterialRef.current.onBeforeCompile = shader => {\n      // Need to get the \"void main\" line dynamically because the lines for\n      // MeshDistanceMaterial and MeshDepthMaterial are different \n      const mainLineStart = shader.fragmentShader.indexOf('void main');\n      let mainLine = '';\n      let ch;\n      let i = mainLineStart;\n      while (ch !== '\\n' && i < mainLineStart + 100) {\n        ch = shader.fragmentShader.charAt(i);\n        mainLine += ch;\n        i++;\n      }\n      mainLine = mainLine.trim();\n      shader.vertexShader = shader.vertexShader.replace('void main() {', `\n        varying vec2 custom_vUv;\n\n        void main() {\n          custom_vUv = uv;\n          \n        `);\n      shader.fragmentShader = shader.fragmentShader.replace(mainLine, `\n          uniform float uShadowOpacity;\n          uniform sampler2D uAlphaMap;\n          uniform bool uHasAlphaMap;\n\n          varying vec2 custom_vUv;\n  \n          float bayerDither2x2( vec2 v ) {\n            return mod( 3.0 * v.y + 2.0 * v.x, 4.0 );\n          }\n    \n          float bayerDither4x4( vec2 v ) {\n            vec2 P1 = mod( v, 2.0 );\n            vec2 P2 = mod( floor( 0.5  * v ), 2.0 );\n            return 4.0 * bayerDither2x2( P1 ) + bayerDither2x2( P2 );\n          }\n  \n          void main() {\n            float alpha = \n              uHasAlphaMap ? \n                uShadowOpacity * texture2D(uAlphaMap, custom_vUv).x\n              : uShadowOpacity;\n\n            if( ( bayerDither4x4( floor( mod( gl_FragCoord.xy, 4.0 ) ) ) ) / 16.0 >= alpha ) discard;\n            \n          `);\n      shader.uniforms['uShadowOpacity'] = uShadowOpacity.current;\n      shader.uniforms['uAlphaMap'] = uAlphaMap.current;\n      shader.uniforms['uHasAlphaMap'] = uHasAlphaMap.current;\n    };\n  }, []);\n  useFrame(() => {\n    var _r3f;\n    const parent = (_r3f = depthMaterialRef.current.__r3f) == null || (_r3f = _r3f.parent) == null ? void 0 : _r3f.object;\n    if (parent) {\n      const parentMainMaterial = parent.material;\n      if (parentMainMaterial) {\n        uShadowOpacity.current.value = opacity !== null && opacity !== void 0 ? opacity : parentMainMaterial.opacity;\n        if (alphaMap === false) {\n          uAlphaMap.current.value = null;\n          uHasAlphaMap.current.value = false;\n        } else {\n          uAlphaMap.current.value = alphaMap || parentMainMaterial.alphaMap;\n          uHasAlphaMap.current.value = !!uAlphaMap.current.value;\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"meshDepthMaterial\", {\n    ref: depthMaterialRef,\n    attach: \"customDepthMaterial\",\n    depthPacking: THREE.RGBADepthPacking\n  }), /*#__PURE__*/React.createElement(\"meshDistanceMaterial\", {\n    ref: distanceMaterialRef,\n    attach: \"customDistanceMaterial\"\n  }));\n}\n\nexport { ShadowAlpha };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\n\nconst _inverseMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst _ray = /* @__PURE__ */new THREE.Ray();\nconst _sphere = /* @__PURE__ */new THREE.Sphere();\nconst _position = /* @__PURE__ */new THREE.Vector3();\nclass PositionPoint extends THREE.Group {\n  constructor() {\n    super();\n    this.size = 0;\n    this.color = new THREE.Color('white');\n    this.instance = {\n      current: undefined\n    };\n    this.instanceKey = {\n      current: undefined\n    };\n  }\n\n  // This will allow the virtual instance have bounds\n  get geometry() {\n    var _this$instance$curren;\n    return (_this$instance$curren = this.instance.current) == null ? void 0 : _this$instance$curren.geometry;\n  }\n  raycast(raycaster, intersects) {\n    var _raycaster$params$Poi, _raycaster$params$Poi2;\n    const parent = this.instance.current;\n    if (!parent || !parent.geometry) return;\n    const instanceId = parent.userData.instances.indexOf(this.instanceKey);\n    // If the instance wasn't found or exceeds the parents draw range, bail out\n    if (instanceId === -1 || instanceId > parent.geometry.drawRange.count) return;\n    const threshold = (_raycaster$params$Poi = (_raycaster$params$Poi2 = raycaster.params.Points) == null ? void 0 : _raycaster$params$Poi2.threshold) !== null && _raycaster$params$Poi !== void 0 ? _raycaster$params$Poi : 1;\n    _sphere.set(this.getWorldPosition(_position), threshold);\n    if (raycaster.ray.intersectsSphere(_sphere) === false) return;\n    _inverseMatrix.copy(parent.matrixWorld).invert();\n    _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n    const localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n    const localThresholdSq = localThreshold * localThreshold;\n    const rayPointDistanceSq = _ray.distanceSqToPoint(this.position);\n    if (rayPointDistanceSq < localThresholdSq) {\n      const intersectPoint = new THREE.Vector3();\n      _ray.closestPointToPoint(this.position, intersectPoint);\n      intersectPoint.applyMatrix4(this.matrixWorld);\n      const distance = raycaster.ray.origin.distanceTo(intersectPoint);\n      if (distance < raycaster.near || distance > raycaster.far) return;\n      intersects.push({\n        distance: distance,\n        distanceToRay: Math.sqrt(rayPointDistanceSq),\n        point: intersectPoint,\n        index: instanceId,\n        face: null,\n        object: this\n      });\n    }\n  }\n}\nlet i, positionRef;\nconst context = /* @__PURE__ */React.createContext(null);\nconst parentMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst position = /* @__PURE__ */new THREE.Vector3();\n\n/**\n * Instance implementation, relies on react + context to update the attributes based on the children of this component\n */\nconst PointsInstances = /* @__PURE__ */React.forwardRef(({\n  children,\n  range,\n  limit = 1000,\n  ...props\n}, ref) => {\n  const parentRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => parentRef.current, []);\n  const [refs, setRefs] = React.useState([]);\n  const [[positions, colors, sizes]] = React.useState(() => [new Float32Array(limit * 3), Float32Array.from({\n    length: limit * 3\n  }, () => 1), Float32Array.from({\n    length: limit\n  }, () => 1)]);\n  React.useEffect(() => {\n    // We might be a frame too late? \n    parentRef.current.geometry.attributes.position.needsUpdate = true;\n  });\n  useFrame(() => {\n    parentRef.current.updateMatrix();\n    parentRef.current.updateMatrixWorld();\n    parentMatrix.copy(parentRef.current.matrixWorld).invert();\n    parentRef.current.geometry.drawRange.count = Math.min(limit, range !== undefined ? range : limit, refs.length);\n    for (i = 0; i < refs.length; i++) {\n      positionRef = refs[i].current;\n      positionRef.getWorldPosition(position).applyMatrix4(parentMatrix);\n      position.toArray(positions, i * 3);\n      parentRef.current.geometry.attributes.position.needsUpdate = true;\n      positionRef.matrixWorldNeedsUpdate = true;\n      positionRef.color.toArray(colors, i * 3);\n      parentRef.current.geometry.attributes.color.needsUpdate = true;\n      sizes.set([positionRef.size], i);\n      parentRef.current.geometry.attributes.size.needsUpdate = true;\n    }\n  });\n  const api = React.useMemo(() => ({\n    getParent: () => parentRef,\n    subscribe: ref => {\n      setRefs(refs => [...refs, ref]);\n      return () => setRefs(refs => refs.filter(item => item.current !== ref.current));\n    }\n  }), []);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    userData: {\n      instances: refs\n    },\n    matrixAutoUpdate: false,\n    ref: parentRef,\n    raycast: () => null\n  }, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, 3],\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, 3],\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1],\n    usage: THREE.DynamicDrawUsage\n  })), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nconst Point = /* @__PURE__ */React.forwardRef(({\n  children,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    PositionPoint\n  }), []);\n  const group = React.useRef(null);\n  React.useImperativeHandle(ref, () => group.current, []);\n  const {\n    subscribe,\n    getParent\n  } = React.useContext(context);\n  React.useLayoutEffect(() => subscribe(group), []);\n  return /*#__PURE__*/React.createElement(\"positionPoint\", _extends({\n    instance: getParent(),\n    instanceKey: group,\n    ref: group\n  }, props), children);\n});\n\n/**\n * Buffer implementation, relies on complete buffers of the correct number, leaves it to the user to update them\n */\n\nconst PointsBuffer = /* @__PURE__ */React.forwardRef(({\n  children,\n  positions,\n  colors,\n  sizes,\n  stride = 3,\n  ...props\n}, forwardedRef) => {\n  const pointsRef = React.useRef(null);\n  React.useImperativeHandle(forwardedRef, () => pointsRef.current, []);\n  useFrame(() => {\n    const attr = pointsRef.current.geometry.attributes;\n    attr.position.needsUpdate = true;\n    if (colors) attr.color.needsUpdate = true;\n    if (sizes) attr.size.needsUpdate = true;\n  });\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    ref: pointsRef\n  }, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, stride],\n    usage: THREE.DynamicDrawUsage\n  }), colors && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, stride],\n    count: colors.length / stride,\n    usage: THREE.DynamicDrawUsage\n  }), sizes && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1],\n    count: sizes.length / stride,\n    usage: THREE.DynamicDrawUsage\n  })), children);\n});\nconst Points = /* @__PURE__ */React.forwardRef((props, forwardedRef) => {\n  if (props.positions instanceof Float32Array) {\n    return /*#__PURE__*/React.createElement(PointsBuffer, _extends({}, props, {\n      ref: forwardedRef\n    }));\n  } else return /*#__PURE__*/React.createElement(PointsInstances, _extends({}, props, {\n    ref: forwardedRef\n  }));\n});\n\nexport { Point, Points, PointsBuffer, PositionPoint };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { Line2, LineMaterial, LineSegmentsGeometry } from 'three-stdlib';\n\nconst context = /* @__PURE__ */React.createContext(null);\nconst Segments = /* @__PURE__ */React.forwardRef((props, forwardedRef) => {\n  React.useMemo(() => extend({\n    SegmentObject\n  }), []);\n  const {\n    limit = 1000,\n    lineWidth = 1.0,\n    children,\n    ...rest\n  } = props;\n  const [segments, setSegments] = React.useState([]);\n  const [line] = React.useState(() => new Line2());\n  const [material] = React.useState(() => new LineMaterial());\n  const [geometry] = React.useState(() => new LineSegmentsGeometry());\n  const [resolution] = React.useState(() => new THREE.Vector2(512, 512));\n  const [positions] = React.useState(() => Array(limit * 6).fill(0));\n  const [colors] = React.useState(() => Array(limit * 6).fill(0));\n  const api = React.useMemo(() => ({\n    subscribe: ref => {\n      setSegments(segments => [...segments, ref]);\n      return () => setSegments(segments => segments.filter(item => item.current !== ref.current));\n    }\n  }), []);\n  useFrame(() => {\n    for (let i = 0; i < limit; i++) {\n      var _segments$i;\n      const segment = (_segments$i = segments[i]) == null ? void 0 : _segments$i.current;\n      if (segment) {\n        positions[i * 6 + 0] = segment.start.x;\n        positions[i * 6 + 1] = segment.start.y;\n        positions[i * 6 + 2] = segment.start.z;\n        positions[i * 6 + 3] = segment.end.x;\n        positions[i * 6 + 4] = segment.end.y;\n        positions[i * 6 + 5] = segment.end.z;\n        colors[i * 6 + 0] = segment.color.r;\n        colors[i * 6 + 1] = segment.color.g;\n        colors[i * 6 + 2] = segment.color.b;\n        colors[i * 6 + 3] = segment.color.r;\n        colors[i * 6 + 4] = segment.color.g;\n        colors[i * 6 + 5] = segment.color.b;\n      }\n    }\n    geometry.setColors(colors);\n    geometry.setPositions(positions);\n    line.computeLineDistances();\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    object: line,\n    ref: forwardedRef\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: geometry,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: material,\n    attach: \"material\",\n    vertexColors: true,\n    resolution: resolution,\n    linewidth: lineWidth\n  }, rest)), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nclass SegmentObject {\n  constructor() {\n    this.color = new THREE.Color('white');\n    this.start = new THREE.Vector3(0, 0, 0);\n    this.end = new THREE.Vector3(0, 0, 0);\n  }\n}\nconst normPos = pos => pos instanceof THREE.Vector3 ? pos : new THREE.Vector3(...(typeof pos === 'number' ? [pos, pos, pos] : pos));\nconst Segment = /* @__PURE__ */React.forwardRef(({\n  color,\n  start,\n  end\n}, forwardedRef) => {\n  const api = React.useContext(context);\n  if (!api) throw 'Segment must used inside Segments component.';\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardedRef, () => ref.current, []);\n  React.useLayoutEffect(() => api.subscribe(ref), []);\n  return /*#__PURE__*/React.createElement(\"segmentObject\", {\n    ref: ref,\n    color: color,\n    start: normPos(start),\n    end: normPos(end)\n  });\n});\n\nexport { Segment, SegmentObject, Segments };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nconst Detailed = /* @__PURE__ */React.forwardRef(({\n  children,\n  hysteresis = 0,\n  distances,\n  ...props\n}, ref) => {\n  const lodRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => lodRef.current, []);\n  React.useLayoutEffect(() => {\n    const {\n      current: lod\n    } = lodRef;\n    lod.levels.length = 0;\n    lod.children.forEach((object, index) => lod.levels.push({\n      object,\n      hysteresis,\n      distance: distances[index]\n    }));\n  });\n  useFrame(state => {\n    var _lodRef$current;\n    return (_lodRef$current = lodRef.current) == null ? void 0 : _lodRef$current.update(state.camera);\n  });\n  return /*#__PURE__*/React.createElement(\"lOD\", _extends({\n    ref: lodRef\n  }, props), children);\n});\n\nexport { Detailed };\n", "import { WebGLCubeRenderTarget, CubeCamera } from 'three';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction Preload({\n  all,\n  scene,\n  camera\n}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const dCamera = useThree(({\n    camera\n  }) => camera);\n  const dScene = useThree(({\n    scene\n  }) => scene);\n\n  // Layout effect because it must run before React commits\n  React.useLayoutEffect(() => {\n    const invisible = [];\n    if (all) {\n      (scene || dScene).traverse(object => {\n        if (object.visible === false) {\n          invisible.push(object);\n          object.visible = true;\n        }\n      });\n    }\n    // Now compile the scene\n    gl.compile(scene || dScene, camera || dCamera);\n    // And for good measure, hit it with a cube camera\n    const cubeRenderTarget = new WebGLCubeRenderTarget(128);\n    const cubeCamera = new CubeCamera(0.01, 100000, cubeRenderTarget);\n    cubeCamera.update(gl, scene || dScene);\n    cubeRenderTarget.dispose();\n    // Flips these objects back\n    invisible.forEach(object => object.visible = false);\n  }, []);\n  return null;\n}\n\nexport { Preload };\n", "import { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction BakeShadows() {\n  const gl = useThree(state => state.gl);\n  useEffect(() => {\n    gl.shadowMap.autoUpdate = false;\n    gl.shadowMap.needsUpdate = true;\n    return () => {\n      gl.shadowMap.autoUpdate = gl.shadowMap.needsUpdate = true;\n    };\n  }, [gl.shadowMap]);\n  return null;\n}\n\nexport { BakeShadows };\n", "import { Matrix4, Ray, Sphere, Vector3 } from 'three';\n\nconst _inverseMatrix = /* @__PURE__ */new Matrix4();\nconst _ray = /* @__PURE__ */new Ray();\nconst _sphere = /* @__PURE__ */new Sphere();\nconst _vA = /* @__PURE__ */new Vector3();\nfunction meshBounds(raycaster, intersects) {\n  const geometry = this.geometry;\n  const material = this.material;\n  const matrixWorld = this.matrixWorld;\n  if (material === undefined) return;\n  // Checking boundingSphere distance to ray\n  if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n  _sphere.copy(geometry.boundingSphere);\n  _sphere.applyMatrix4(matrixWorld);\n  if (raycaster.ray.intersectsSphere(_sphere) === false) return;\n  _inverseMatrix.copy(matrixWorld).invert();\n  _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n  // Check boundingBox before continuing\n  if (geometry.boundingBox !== null && _ray.intersectBox(geometry.boundingBox, _vA) === null) return;\n  intersects.push({\n    distance: _vA.distanceTo(raycaster.ray.origin),\n    point: _vA.clone(),\n    object: this\n  });\n}\n\nexport { meshBounds };\n", "import * as React from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveDpr({\n  pixelated\n}) {\n  const gl = useThree(state => state.gl);\n  const active = useThree(state => state.internal.active);\n  const current = useThree(state => state.performance.current);\n  const initialDpr = useThree(state => state.viewport.initialDpr);\n  const setDpr = useThree(state => state.setDpr);\n  // Restore initial pixelratio on unmount\n  React.useEffect(() => {\n    const domElement = gl.domElement;\n    return () => {\n      if (active) setDpr(initialDpr);\n      if (pixelated && domElement) domElement.style.imageRendering = 'auto';\n    };\n  }, []);\n  // Set adaptive pixelratio\n  React.useEffect(() => {\n    setDpr(current * initialDpr);\n    if (pixelated && gl.domElement) gl.domElement.style.imageRendering = current === 1 ? 'auto' : 'pixelated';\n  }, [current]);\n  return null;\n}\n\nexport { AdaptiveDpr };\n", "import * as React from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveEvents() {\n  const get = useThree(state => state.get);\n  const setEvents = useThree(state => state.setEvents);\n  const current = useThree(state => state.performance.current);\n  React.useEffect(() => {\n    const enabled = get().events.enabled;\n    return () => setEvents({\n      enabled\n    });\n  }, []);\n  React.useEffect(() => setEvents({\n    enabled: current === 1\n  }), [current]);\n  return null;\n}\n\nexport { AdaptiveEvents };\n", "import * as React from 'react';\nimport { useState, useContext, useRef, useLayoutEffect, createContext } from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nconst context = /* @__PURE__ */createContext(null);\nfunction PerformanceMonitor({\n  iterations = 10,\n  ms = 250,\n  threshold = 0.75,\n  step = 0.1,\n  factor: _factor = 0.5,\n  flipflops = Infinity,\n  bounds = refreshrate => refreshrate > 100 ? [60, 100] : [40, 60],\n  onIncline,\n  onDecline,\n  onChange,\n  onFallback,\n  children\n}) {\n  const decimalPlacesRatio = Math.pow(10, 0);\n  const [api, _] = useState(() => ({\n    fps: 0,\n    index: 0,\n    factor: _factor,\n    flipped: 0,\n    refreshrate: 0,\n    fallback: false,\n    frames: [],\n    averages: [],\n    subscriptions: new Map(),\n    subscribe: ref => {\n      const key = Symbol();\n      api.subscriptions.set(key, ref.current);\n      return () => void api.subscriptions.delete(key);\n    }\n  }));\n  let lastFactor = 0;\n  useFrame(() => {\n    const {\n      frames,\n      averages\n    } = api;\n\n    // If the fallback has been reached do not continue running samples\n    if (api.fallback) return;\n    if (averages.length < iterations) {\n      frames.push(performance.now());\n      const msPassed = frames[frames.length - 1] - frames[0];\n      if (msPassed >= ms) {\n        api.fps = Math.round(frames.length / msPassed * 1000 * decimalPlacesRatio) / decimalPlacesRatio;\n        api.refreshrate = Math.max(api.refreshrate, api.fps);\n        averages[api.index++ % iterations] = api.fps;\n        if (averages.length === iterations) {\n          const [lower, upper] = bounds(api.refreshrate);\n          const upperBounds = averages.filter(value => value >= upper);\n          const lowerBounds = averages.filter(value => value < lower);\n          // Trigger incline when more than -threshold- avgs exceed the upper bound\n          if (upperBounds.length > iterations * threshold) {\n            api.factor = Math.min(1, api.factor + step);\n            api.flipped++;\n            if (onIncline) onIncline(api);\n            api.subscriptions.forEach(value => value.onIncline && value.onIncline(api));\n          }\n          // Trigger decline when more than -threshold- avgs are below the lower bound\n          if (lowerBounds.length > iterations * threshold) {\n            api.factor = Math.max(0, api.factor - step);\n            api.flipped++;\n            if (onDecline) onDecline(api);\n            api.subscriptions.forEach(value => value.onDecline && value.onDecline(api));\n          }\n          if (lastFactor !== api.factor) {\n            lastFactor = api.factor;\n            if (onChange) onChange(api);\n            api.subscriptions.forEach(value => value.onChange && value.onChange(api));\n          }\n          if (api.flipped > flipflops && !api.fallback) {\n            api.fallback = true;\n            if (onFallback) onFallback(api);\n            api.subscriptions.forEach(value => value.onFallback && value.onFallback(api));\n          }\n          api.averages = [];\n\n          // Resetting the refreshrate creates more problems than it solves atm\n          // api.refreshrate = 0\n        }\n        api.frames = [];\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children);\n}\nfunction usePerformanceMonitor({\n  onIncline,\n  onDecline,\n  onChange,\n  onFallback\n}) {\n  const api = useContext(context);\n  const ref = useRef({\n    onIncline,\n    onDecline,\n    onChange,\n    onFallback\n  });\n  useLayoutEffect(() => {\n    ref.current.onIncline = onIncline;\n    ref.current.onDecline = onDecline;\n    ref.current.onChange = onChange;\n    ref.current.onFallback = onFallback;\n  }, [onIncline, onDecline, onChange, onFallback]);\n  useLayoutEffect(() => api.subscribe(ref), [api]);\n}\n\nexport { PerformanceMonitor, usePerformanceMonitor };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nconst RenderTexture = /* @__PURE__ */React.forwardRef(({\n  children,\n  compute,\n  width,\n  height,\n  samples = 8,\n  renderPriority = 0,\n  eventPriority = 0,\n  frames = Infinity,\n  stencilBuffer = false,\n  depthBuffer = true,\n  generateMipmaps = false,\n  ...props\n}, forwardRef) => {\n  const {\n    size,\n    viewport\n  } = useThree();\n  const fbo = useFBO((width || size.width) * viewport.dpr, (height || size.height) * viewport.dpr, {\n    samples,\n    stencilBuffer,\n    depthBuffer,\n    generateMipmaps\n  });\n  const [vScene] = React.useState(() => new THREE.Scene());\n  const uvCompute = React.useCallback((event, state, previous) => {\n    var _fbo$texture, _previous$previousRoo;\n    // Since this is only a texture it does not have an easy way to obtain the parent, which we\n    // need to transform event coordinates to local coordinates. We use r3f internals to find the\n    // next Object3D.\n    let parent = (_fbo$texture = fbo.texture) == null || (_fbo$texture = _fbo$texture.__r3f.parent) == null ? void 0 : _fbo$texture.object;\n    while (parent && !(parent instanceof THREE.Object3D)) {\n      var _parent$__r3f$parent;\n      parent = (_parent$__r3f$parent = parent.__r3f.parent) == null ? void 0 : _parent$__r3f$parent.object;\n    }\n    if (!parent) return false;\n    // First we call the previous state-onion-layers compute, this is what makes it possible to nest portals\n    if (!previous.raycaster.camera) previous.events.compute(event, previous, (_previous$previousRoo = previous.previousRoot) == null ? void 0 : _previous$previousRoo.getState());\n    // We run a quick check against the parent, if it isn't hit there's no need to raycast at all\n    const [intersection] = previous.raycaster.intersectObject(parent);\n    if (!intersection) return false;\n    // We take that hits uv coords, set up this layers raycaster, et voil, we have raycasting on arbitrary surfaces\n    const uv = intersection.uv;\n    if (!uv) return false;\n    state.raycaster.setFromCamera(state.pointer.set(uv.x * 2 - 1, uv.y * 2 - 1), state.camera);\n  }, []);\n  React.useImperativeHandle(forwardRef, () => fbo.texture, [fbo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(Container, {\n    renderPriority: renderPriority,\n    frames: frames,\n    fbo: fbo\n  }, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  })), vScene, {\n    events: {\n      compute: compute || uvCompute,\n      priority: eventPriority\n    }\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: fbo.texture\n  }, props)));\n});\n\n// The container component has to be separate, it can not be inlined because \"useFrame(state\" when run inside createPortal will return\n// the portals own state which includes user-land overrides (custom cameras etc), but if it is executed in <RenderTexture>'s render function\n// it would return the default state.\nfunction Container({\n  frames,\n  renderPriority,\n  children,\n  fbo\n}) {\n  let count = 0;\n  let oldAutoClear;\n  let oldXrEnabled;\n  let oldRenderTarget;\n  let oldIsPresenting;\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      oldAutoClear = state.gl.autoClear;\n      oldXrEnabled = state.gl.xr.enabled;\n      oldRenderTarget = state.gl.getRenderTarget();\n      oldIsPresenting = state.gl.xr.isPresenting;\n      state.gl.autoClear = true;\n      state.gl.xr.enabled = false;\n      state.gl.xr.isPresenting = false;\n      state.gl.setRenderTarget(fbo);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(oldRenderTarget);\n      state.gl.autoClear = oldAutoClear;\n      state.gl.xr.enabled = oldXrEnabled;\n      state.gl.xr.isPresenting = oldIsPresenting;\n      count++;\n    }\n  }, renderPriority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n}\n\nexport { RenderTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\n\nconst RenderCubeTexture = /* @__PURE__ */React.forwardRef(({\n  children,\n  compute,\n  renderPriority = -1,\n  eventPriority = 0,\n  frames = Infinity,\n  stencilBuffer = false,\n  depthBuffer = true,\n  generateMipmaps = false,\n  resolution = 896,\n  near = 0.1,\n  far = 1000,\n  flip = false,\n  position,\n  rotation,\n  scale,\n  quaternion,\n  matrix,\n  matrixAutoUpdate,\n  ...props\n}, forwardRef) => {\n  const {\n    size,\n    viewport\n  } = useThree();\n  const camera = React.useRef(null);\n  const fbo = React.useMemo(() => {\n    const fbo = new THREE.WebGLCubeRenderTarget(Math.max((resolution || size.width) * viewport.dpr, (resolution || size.height) * viewport.dpr), {\n      stencilBuffer,\n      depthBuffer,\n      generateMipmaps\n    });\n    fbo.texture.isRenderTargetTexture = !flip;\n    fbo.texture.flipY = true;\n    fbo.texture.type = THREE.HalfFloatType;\n    return fbo;\n  }, [resolution, flip]);\n  React.useEffect(() => {\n    return () => fbo.dispose();\n  }, [fbo]);\n  const [vScene] = React.useState(() => new THREE.Scene());\n  React.useImperativeHandle(forwardRef, () => ({\n    scene: vScene,\n    fbo,\n    camera: camera.current\n  }), [fbo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(Container, {\n    renderPriority: renderPriority,\n    frames: frames,\n    camera: camera\n  }, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  })), vScene, {\n    events: {\n      compute,\n      priority: eventPriority\n    }\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: fbo.texture\n  }, props)), /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo],\n    position: position,\n    rotation: rotation,\n    scale: scale,\n    quaternion: quaternion,\n    matrix: matrix,\n    matrixAutoUpdate: matrixAutoUpdate\n  }));\n});\n\n// The container component has to be separate, it can not be inlined because \"useFrame(state\" when run inside createPortal will return\n// the portals own state which includes user-land overrides (custom cameras etc), but if it is executed in <RenderTexture>'s render function\n// it would return the default state.\nfunction Container({\n  frames,\n  renderPriority,\n  children,\n  camera\n}) {\n  let count = 0;\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(state.gl, state.scene);\n      count++;\n    }\n  }, renderPriority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n}\n\nexport { RenderCubeTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\n\nconst Mask = /* @__PURE__ */React.forwardRef(({\n  id = 1,\n  colorWrite = false,\n  depthWrite = false,\n  ...props\n}, fref) => {\n  const ref = React.useRef(null);\n  const spread = React.useMemo(() => ({\n    colorWrite,\n    depthWrite,\n    stencilWrite: true,\n    stencilRef: id,\n    stencilFunc: THREE.AlwaysStencilFunc,\n    stencilFail: THREE.ReplaceStencilOp,\n    stencilZFail: THREE.ReplaceStencilOp,\n    stencilZPass: THREE.ReplaceStencilOp\n  }), [id, colorWrite, depthWrite]);\n  React.useLayoutEffect(() => {\n    Object.assign(ref.current.material, spread);\n  });\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    renderOrder: -id\n  }, props));\n});\nfunction useMask(id, inverse = false) {\n  return {\n    stencilWrite: true,\n    stencilRef: id,\n    stencilFunc: inverse ? THREE.NotEqualStencilFunc : THREE.EqualStencilFunc,\n    stencilFail: THREE.KeepStencilOp,\n    stencilZFail: THREE.KeepStencilOp,\n    stencilZPass: THREE.KeepStencilOp\n  };\n}\n\nexport { Mask, useMask };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { RenderCubeTexture } from './RenderCubeTexture.js';\n\nfunction Fisheye({\n  renderPriority = 1,\n  zoom = 0,\n  segments = 64,\n  children,\n  resolution = 896,\n  ...props\n}) {\n  const sphere = React.useRef(null);\n  const cubeApi = React.useRef(null);\n\n  // This isn't more than a simple sphere and a fixed orthographc camera\n  // pointing at it. A virtual scene is portalled into the environment map\n  // of its material. The cube-camera filming that scene is being synced to\n  // the portals default camera with the <UpdateCubeCamera> component.\n\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const [orthoC] = React.useState(() => new THREE.OrthographicCamera());\n  React.useLayoutEffect(() => {\n    orthoC.position.set(0, 0, 100);\n    orthoC.zoom = 100;\n    orthoC.left = width / -2;\n    orthoC.right = width / 2;\n    orthoC.top = height / 2;\n    orthoC.bottom = height / -2;\n    orthoC.updateProjectionMatrix();\n  }, [width, height]);\n  const radius = Math.sqrt(width * width + height * height) / 100 * (0.5 + zoom / 2);\n  const normal = new THREE.Vector3();\n  const sph = new THREE.Sphere(new THREE.Vector3(), radius);\n  const normalMatrix = new THREE.Matrix3();\n  const compute = React.useCallback((event, state, prev) => {\n    // Raycast from the render camera to the sphere and get the surface normal\n    // of the point hit in world space of the sphere scene\n    // We have to set the raycaster using the orthocam and pointer\n    // to perform sphere interscetions.\n    state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n    state.raycaster.setFromCamera(state.pointer, orthoC);\n    if (!state.raycaster.ray.intersectSphere(sph, normal)) return;else normal.normalize();\n    // Get the matrix for transforming normals into world space\n    normalMatrix.getNormalMatrix(cubeApi.current.camera.matrixWorld);\n    // Get the ray\n    cubeApi.current.camera.getWorldPosition(state.raycaster.ray.origin);\n    state.raycaster.ray.direction.set(0, 0, 1).reflect(normal);\n    state.raycaster.ray.direction.x *= -1; // flip across X to accommodate the \"flip\" of the env map\n    state.raycaster.ray.direction.applyNormalMatrix(normalMatrix).multiplyScalar(-1);\n    return undefined;\n  }, []);\n  useFrame(state => {\n    // Take over rendering\n    if (renderPriority) state.gl.render(sphere.current, orthoC);\n  }, renderPriority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: sphere\n  }, props, {\n    scale: radius\n  }), /*#__PURE__*/React.createElement(\"sphereGeometry\", {\n    args: [1, segments, segments]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", null, /*#__PURE__*/React.createElement(RenderCubeTexture, {\n    compute: compute,\n    attach: \"envMap\",\n    flip: true,\n    resolution: resolution,\n    ref: cubeApi\n  }, children, /*#__PURE__*/React.createElement(UpdateCubeCamera, {\n    api: cubeApi\n  })))));\n}\nfunction UpdateCubeCamera({\n  api\n}) {\n  const t = new THREE.Vector3();\n  const r = new THREE.Quaternion();\n  const s = new THREE.Vector3();\n  const e = new THREE.Euler(0, Math.PI, 0);\n  useFrame(state => {\n    // Read out the cameras whereabouts, state.camera is the one *within* the portal\n    state.camera.matrixWorld.decompose(t, r, s);\n    // Apply its position and rotation, flip the Y axis\n    api.current.camera.position.copy(t);\n    api.current.camera.quaternion.setFromEuler(e).premultiply(r);\n  });\n  return null;\n}\n\nexport { Fisheye };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { useIntersect } from './useIntersect.js';\nimport { useFBO } from './Fbo.js';\nimport { RenderTexture } from './RenderTexture.js';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { FullScreenQuad } from 'three-stdlib';\nimport { version } from '../helpers/constants.js';\n\nconst PortalMaterialImpl = /* @__PURE__ */shaderMaterial({\n  blur: 0,\n  map: null,\n  sdf: null,\n  blend: 0,\n  size: 0,\n  resolution: /* @__PURE__ */new THREE.Vector2()\n}, `varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n     vUv = uv;\n   }`, `uniform sampler2D sdf;\n   uniform sampler2D map;\n   uniform float blur;\n   uniform float size;\n   uniform float time;\n   uniform vec2 resolution;\n   varying vec2 vUv;\n   #include <packing>\n   void main() {\n     vec2 uv = gl_FragCoord.xy / resolution.xy;\n     vec4 t = texture2D(map, uv);\n     float k = blur;\n     float d = texture2D(sdf, vUv).r/size;\n     float alpha = 1.0 - smoothstep(0.0, 1.0, clamp(d/k + 1.0, 0.0, 1.0));\n     gl_FragColor = vec4(t.rgb, blur == 0.0 ? t.a : t.a * alpha);\n     #include <tonemapping_fragment>\n     #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nconst MeshPortalMaterial = /* @__PURE__ */React.forwardRef(({\n  children,\n  events = undefined,\n  blur = 0,\n  eventPriority = 0,\n  renderPriority = 0,\n  worldUnits = false,\n  resolution = 512,\n  ...props\n}, fref) => {\n  extend({\n    PortalMaterialImpl\n  });\n  const ref = React.useRef(null);\n  const {\n    scene,\n    gl,\n    size,\n    viewport,\n    setEvents\n  } = useThree();\n  const maskRenderTarget = useFBO(resolution, resolution);\n  const [priority, setPriority] = React.useState(0);\n  useFrame(() => {\n    // If blend is > 0 then the portal is being entered, the render-priority must change\n    const p = ref.current.blend > 0 ? Math.max(1, renderPriority) : 0;\n    if (priority !== p) setPriority(p);\n  });\n  React.useEffect(() => {\n    if (events !== undefined) setEvents({\n      enabled: !events\n    });\n  }, [events]);\n  const [visible, setVisible] = React.useState(true);\n  // See if the parent mesh is in the camera frustum\n  const parent = useIntersect(setVisible);\n  React.useLayoutEffect(() => {\n    var _ref$current;\n    // Since the ref above is not tied to a mesh directly (we're inside a material),\n    // it has to be tied to the parent mesh here\n    parent.current = (_ref$current = ref.current) == null || (_ref$current = _ref$current.__r3f.parent) == null ? void 0 : _ref$current.object;\n  }, []);\n  React.useLayoutEffect(() => {\n    if (!parent.current) return;\n\n    // Apply the SDF mask only once\n    if (blur && ref.current.sdf === null) {\n      const tempMesh = new THREE.Mesh(parent.current.geometry, new THREE.MeshBasicMaterial());\n      const boundingBox = new THREE.Box3().setFromBufferAttribute(tempMesh.geometry.attributes.position);\n      const orthoCam = new THREE.OrthographicCamera(boundingBox.min.x * (1 + 2 / resolution), boundingBox.max.x * (1 + 2 / resolution), boundingBox.max.y * (1 + 2 / resolution), boundingBox.min.y * (1 + 2 / resolution), 0.1, 1000);\n      orthoCam.position.set(0, 0, 1);\n      orthoCam.lookAt(0, 0, 0);\n      gl.setRenderTarget(maskRenderTarget);\n      gl.render(tempMesh, orthoCam);\n      const sg = makeSDFGenerator(resolution, resolution, gl);\n      const sdf = sg(maskRenderTarget.texture);\n      const readSdf = new Float32Array(resolution * resolution);\n      gl.readRenderTargetPixels(sdf, 0, 0, resolution, resolution, readSdf);\n      // Get smallest value in sdf\n      let min = Infinity;\n      for (let i = 0; i < readSdf.length; i++) {\n        if (readSdf[i] < min) min = readSdf[i];\n      }\n      min = -min;\n      ref.current.size = min;\n      ref.current.sdf = sdf.texture;\n      gl.setRenderTarget(null);\n    }\n  }, [resolution, blur]);\n  React.useImperativeHandle(fref, () => ref.current);\n  const compute = React.useCallback((event, state, previous) => {\n    var _ref$current2;\n    if (!parent.current) return false;\n    state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n    state.raycaster.setFromCamera(state.pointer, state.camera);\n    if (((_ref$current2 = ref.current) == null ? void 0 : _ref$current2.blend) === 0) {\n      // We run a quick check against the parent, if it isn't hit there's no need to raycast at all\n      const [intersection] = state.raycaster.intersectObject(parent.current);\n      if (!intersection) {\n        // Cancel out the raycast camera if the parent mesh isn't hit\n        state.raycaster.camera = undefined;\n        return false;\n      }\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"portalMaterialImpl\", _extends({\n    ref: ref,\n    blur: blur,\n    blend: 0,\n    resolution: [size.width * viewport.dpr, size.height * viewport.dpr],\n    attach: \"material\"\n  }, props), /*#__PURE__*/React.createElement(RenderTexture, {\n    attach: \"map\",\n    frames: visible ? Infinity : 0,\n    eventPriority: eventPriority,\n    renderPriority: renderPriority,\n    compute: compute\n  }, children, /*#__PURE__*/React.createElement(ManagePortalScene, {\n    events: events,\n    rootScene: scene,\n    priority: priority,\n    material: ref,\n    worldUnits: worldUnits\n  })));\n});\nfunction ManagePortalScene({\n  events = undefined,\n  rootScene,\n  material,\n  priority,\n  worldUnits\n}) {\n  const scene = useThree(state => state.scene);\n  const setEvents = useThree(state => state.setEvents);\n  const buffer1 = useFBO();\n  const buffer2 = useFBO();\n  React.useLayoutEffect(() => {\n    scene.matrixAutoUpdate = false;\n  }, []);\n  React.useEffect(() => {\n    if (events !== undefined) setEvents({\n      enabled: events\n    });\n  }, [events]);\n  const [quad, blend] = React.useMemo(() => {\n    // This fullscreen-quad is used to blend the two textures\n    const blend = {\n      value: 0\n    };\n    const quad = new FullScreenQuad(new THREE.ShaderMaterial({\n      uniforms: {\n        a: {\n          value: buffer1.texture\n        },\n        b: {\n          value: buffer2.texture\n        },\n        blend\n      },\n      vertexShader: /*glsl*/`\n          varying vec2 vUv;\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n          }`,\n      fragmentShader: /*glsl*/`\n          uniform sampler2D a;\n          uniform sampler2D b;\n          uniform float blend;\n          varying vec2 vUv;\n          #include <packing>\n          void main() {\n            vec4 ta = texture2D(a, vUv);\n            vec4 tb = texture2D(b, vUv);\n            gl_FragColor = mix(tb, ta, blend);\n            #include <tonemapping_fragment>\n            #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n          }`\n    }));\n    return [quad, blend];\n  }, []);\n  useFrame(state => {\n    var _material$current;\n    let parent = material == null || (_material$current = material.current) == null || (_material$current = _material$current.__r3f.parent) == null ? void 0 : _material$current.object;\n    if (parent) {\n      // Move portal contents along with the parent if worldUnits is true\n      if (!worldUnits) {\n        var _material$current2;\n        // If the portal renders exclusively the original scene needs to be updated\n        if (priority && ((_material$current2 = material.current) == null ? void 0 : _material$current2.blend) === 1) parent.updateWorldMatrix(true, false);\n        scene.matrixWorld.copy(parent.matrixWorld);\n      } else scene.matrixWorld.identity();\n\n      // This bit is only necessary if the portal is blended, now it has a render-priority\n      // and will take over the render loop\n      if (priority) {\n        var _material$current3, _material$current4, _material$current5;\n        if (((_material$current3 = material.current) == null ? void 0 : _material$current3.blend) > 0 && ((_material$current4 = material.current) == null ? void 0 : _material$current4.blend) < 1) {\n          // If blend is ongoing (> 0 and < 1) then we need to render both the root scene\n          // and the portal scene, both will then be mixed in the quad from above\n          blend.value = material.current.blend;\n          state.gl.setRenderTarget(buffer1);\n          state.gl.render(scene, state.camera);\n          state.gl.setRenderTarget(buffer2);\n          state.gl.render(rootScene, state.camera);\n          state.gl.setRenderTarget(null);\n          quad.render(state.gl);\n        } else if (((_material$current5 = material.current) == null ? void 0 : _material$current5.blend) === 1) {\n          // However if blend is 1 we only need to render the portal scene\n          state.gl.render(scene, state.camera);\n        }\n      }\n    }\n  }, priority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n}\nconst makeSDFGenerator = (clientWidth, clientHeight, renderer) => {\n  let finalTarget = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.LinearMipmapLinearFilter,\n    magFilter: THREE.LinearFilter,\n    type: THREE.FloatType,\n    format: THREE.RedFormat,\n    generateMipmaps: true\n  });\n  let outsideRenderTarget = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter\n  });\n  let insideRenderTarget = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter\n  });\n  let outsideRenderTarget2 = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter\n  });\n  let insideRenderTarget2 = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter\n  });\n  let outsideRenderTargetFinal = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter,\n    type: THREE.FloatType,\n    format: THREE.RedFormat\n  });\n  let insideRenderTargetFinal = new THREE.WebGLRenderTarget(clientWidth, clientHeight, {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter,\n    type: THREE.FloatType,\n    format: THREE.RedFormat\n  });\n  const uvRender = new FullScreenQuad(new THREE.ShaderMaterial({\n    uniforms: {\n      tex: {\n        value: null\n      }\n    },\n    vertexShader: /*glsl*/`\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n    fragmentShader: /*glsl*/`\n        uniform sampler2D tex;\n        varying vec2 vUv;\n        #include <packing>\n        void main() {\n          gl_FragColor = pack2HalfToRGBA(vUv * (round(texture2D(tex, vUv).x)));\n        }`\n  }));\n  const uvRenderInside = new FullScreenQuad(new THREE.ShaderMaterial({\n    uniforms: {\n      tex: {\n        value: null\n      }\n    },\n    vertexShader: /*glsl*/`\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n    fragmentShader: /*glsl*/`\n        uniform sampler2D tex;\n        varying vec2 vUv;\n        #include <packing>\n        void main() {\n          gl_FragColor = pack2HalfToRGBA(vUv * (1.0 - round(texture2D(tex, vUv).x)));\n        }`\n  }));\n  const jumpFloodRender = new FullScreenQuad(new THREE.ShaderMaterial({\n    uniforms: {\n      tex: {\n        value: null\n      },\n      offset: {\n        value: 0.0\n      },\n      level: {\n        value: 0.0\n      },\n      maxSteps: {\n        value: 0.0\n      }\n    },\n    vertexShader: /*glsl*/`\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n    fragmentShader: /*glsl*/`\n        varying vec2 vUv;\n        uniform sampler2D tex;\n        uniform float offset;\n        uniform float level;\n        uniform float maxSteps;\n        #include <packing>\n        void main() {\n          float closestDist = 9999999.9;\n          vec2 closestPos = vec2(0.0);\n          for (float x = -1.0; x <= 1.0; x += 1.0) {\n            for (float y = -1.0; y <= 1.0; y += 1.0) {\n              vec2 voffset = vUv;\n              voffset += vec2(x, y) * vec2(${1 / clientWidth}, ${1 / clientHeight}) * offset;\n              vec2 pos = unpackRGBATo2Half(texture2D(tex, voffset));\n              float dist = distance(pos.xy, vUv);\n              if(pos.x != 0.0 && pos.y != 0.0 && dist < closestDist) {\n                closestDist = dist;\n                closestPos = pos;\n              }\n            }\n          }\n          gl_FragColor = pack2HalfToRGBA(closestPos);\n        }`\n  }));\n  const distanceFieldRender = new FullScreenQuad(new THREE.ShaderMaterial({\n    uniforms: {\n      tex: {\n        value: null\n      },\n      size: {\n        value: new THREE.Vector2(clientWidth, clientHeight)\n      }\n    },\n    vertexShader: /*glsl*/`\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n    fragmentShader: /*glsl*/`\n        varying vec2 vUv;\n        uniform sampler2D tex;\n        uniform vec2 size;\n        #include <packing>\n        void main() {\n          gl_FragColor = vec4(distance(size * unpackRGBATo2Half(texture2D(tex, vUv)), size * vUv), 0.0, 0.0, 0.0);\n        }`\n  }));\n  const compositeRender = new FullScreenQuad(new THREE.ShaderMaterial({\n    uniforms: {\n      inside: {\n        value: insideRenderTargetFinal.texture\n      },\n      outside: {\n        value: outsideRenderTargetFinal.texture\n      },\n      tex: {\n        value: null\n      }\n    },\n    vertexShader: /*glsl*/`\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n    fragmentShader: /*glsl*/`\n        varying vec2 vUv;\n        uniform sampler2D inside;\n        uniform sampler2D outside;\n        uniform sampler2D tex;\n        #include <packing>\n        void main() {\n          float i = texture2D(inside, vUv).x;\n          float o =texture2D(outside, vUv).x;\n          if (texture2D(tex, vUv).x == 0.0) {\n            gl_FragColor = vec4(o, 0.0, 0.0, 0.0);\n          } else {\n            gl_FragColor = vec4(-i, 0.0, 0.0, 0.0);\n          }\n        }`\n  }));\n  return image => {\n    let ft = finalTarget;\n    image.minFilter = THREE.NearestFilter;\n    image.magFilter = THREE.NearestFilter;\n    uvRender.material.uniforms.tex.value = image;\n    renderer.setRenderTarget(outsideRenderTarget);\n    uvRender.render(renderer);\n    const passes = Math.ceil(Math.log(Math.max(clientWidth, clientHeight)) / Math.log(2.0));\n    let lastTarget = outsideRenderTarget;\n    let target = null;\n    for (let i = 0; i < passes; i++) {\n      const offset = Math.pow(2, passes - i - 1);\n      target = lastTarget === outsideRenderTarget ? outsideRenderTarget2 : outsideRenderTarget;\n      jumpFloodRender.material.uniforms.level.value = i;\n      jumpFloodRender.material.uniforms.maxSteps.value = passes;\n      jumpFloodRender.material.uniforms.offset.value = offset;\n      jumpFloodRender.material.uniforms.tex.value = lastTarget.texture;\n      renderer.setRenderTarget(target);\n      jumpFloodRender.render(renderer);\n      lastTarget = target;\n    }\n    renderer.setRenderTarget(outsideRenderTargetFinal);\n    distanceFieldRender.material.uniforms.tex.value = target.texture;\n    distanceFieldRender.render(renderer);\n    uvRenderInside.material.uniforms.tex.value = image;\n    renderer.setRenderTarget(insideRenderTarget);\n    uvRenderInside.render(renderer);\n    lastTarget = insideRenderTarget;\n    for (let i = 0; i < passes; i++) {\n      const offset = Math.pow(2, passes - i - 1);\n      target = lastTarget === insideRenderTarget ? insideRenderTarget2 : insideRenderTarget;\n      jumpFloodRender.material.uniforms.level.value = i;\n      jumpFloodRender.material.uniforms.maxSteps.value = passes;\n      jumpFloodRender.material.uniforms.offset.value = offset;\n      jumpFloodRender.material.uniforms.tex.value = lastTarget.texture;\n      renderer.setRenderTarget(target);\n      jumpFloodRender.render(renderer);\n      lastTarget = target;\n    }\n    renderer.setRenderTarget(insideRenderTargetFinal);\n    distanceFieldRender.material.uniforms.tex.value = target.texture;\n    distanceFieldRender.render(renderer);\n    renderer.setRenderTarget(ft);\n    compositeRender.material.uniforms.tex.value = image;\n    compositeRender.render(renderer);\n    renderer.setRenderTarget(null);\n    return ft;\n  };\n};\n\nexport { MeshPortalMaterial };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { context, useThree, createPortal, useFrame } from '@react-three/fiber';\nimport tunnel from 'tunnel-rat';\n\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\nconst col = /* @__PURE__ */new THREE.Color();\nconst tracked = /* @__PURE__ */tunnel();\nfunction computeContainerPosition(canvasSize, trackRect) {\n  const {\n    right,\n    top,\n    left: trackLeft,\n    bottom: trackBottom,\n    width,\n    height\n  } = trackRect;\n  const isOffscreen = trackRect.bottom < 0 || top > canvasSize.height || right < 0 || trackRect.left > canvasSize.width;\n  const canvasBottom = canvasSize.top + canvasSize.height;\n  const bottom = canvasBottom - trackBottom;\n  const left = trackLeft - canvasSize.left;\n  return {\n    position: {\n      width,\n      height,\n      left,\n      top,\n      bottom,\n      right\n    },\n    isOffscreen\n  };\n}\nfunction prepareSkissor(state, {\n  left,\n  bottom,\n  width,\n  height\n}) {\n  let autoClear;\n  const aspect = width / height;\n  if (isOrthographicCamera(state.camera)) {\n    if (!state.camera.manual) {\n      if (state.camera.left !== width / -2 || state.camera.right !== width / 2 || state.camera.top !== height / 2 || state.camera.bottom !== height / -2) {\n        Object.assign(state.camera, {\n          left: width / -2,\n          right: width / 2,\n          top: height / 2,\n          bottom: height / -2\n        });\n        state.camera.updateProjectionMatrix();\n      }\n    } else {\n      state.camera.updateProjectionMatrix();\n    }\n  } else if (state.camera.aspect !== aspect) {\n    state.camera.aspect = aspect;\n    state.camera.updateProjectionMatrix();\n  }\n  autoClear = state.gl.autoClear;\n  state.gl.autoClear = false;\n  state.gl.setViewport(left, bottom, width, height);\n  state.gl.setScissor(left, bottom, width, height);\n  state.gl.setScissorTest(true);\n  return autoClear;\n}\nfunction finishSkissor(state, autoClear) {\n  // Restore the default state\n  state.gl.setScissorTest(false);\n  state.gl.autoClear = autoClear;\n}\nfunction clear(state) {\n  state.gl.getClearColor(col);\n  state.gl.setClearColor(col, state.gl.getClearAlpha());\n  state.gl.clear(true, true);\n}\nfunction Container({\n  visible = true,\n  canvasSize,\n  scene,\n  index,\n  children,\n  frames,\n  rect,\n  track\n}) {\n  const rootState = useThree();\n  const [isOffscreen, setOffscreen] = React.useState(false);\n  let frameCount = 0;\n  useFrame(state => {\n    if (frames === Infinity || frameCount <= frames) {\n      var _track$current;\n      if (track) rect.current = (_track$current = track.current) == null ? void 0 : _track$current.getBoundingClientRect();\n      frameCount++;\n    }\n    if (rect.current) {\n      const {\n        position,\n        isOffscreen: _isOffscreen\n      } = computeContainerPosition(canvasSize, rect.current);\n      if (isOffscreen !== _isOffscreen) setOffscreen(_isOffscreen);\n      if (visible && !isOffscreen && rect.current) {\n        const autoClear = prepareSkissor(state, position);\n        // When children are present render the portalled scene, otherwise the default scene\n        state.gl.render(children ? state.scene : scene, state.camera);\n        finishSkissor(state, autoClear);\n      }\n    }\n  }, index);\n  React.useLayoutEffect(() => {\n    const curRect = rect.current;\n    if (curRect && (!visible || !isOffscreen)) {\n      // If the view is not visible clear it once, but stop rendering afterwards!\n      const {\n        position\n      } = computeContainerPosition(canvasSize, curRect);\n      const autoClear = prepareSkissor(rootState, position);\n      clear(rootState);\n      finishSkissor(rootState, autoClear);\n    }\n  }, [visible, isOffscreen]);\n  React.useEffect(() => {\n    if (!track) return;\n    const curRect = rect.current;\n    // Connect the event layer to the tracking element\n    const old = rootState.get().events.connected;\n    rootState.setEvents({\n      connected: track.current\n    });\n    return () => {\n      if (curRect) {\n        const {\n          position\n        } = computeContainerPosition(canvasSize, curRect);\n        const autoClear = prepareSkissor(rootState, position);\n        clear(rootState);\n        finishSkissor(rootState, autoClear);\n      }\n      rootState.setEvents({\n        connected: old\n      });\n    };\n  }, [track]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  }));\n}\nconst CanvasView = /* @__PURE__ */React.forwardRef(({\n  track,\n  visible = true,\n  index = 1,\n  id,\n  style,\n  className,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  var _rect$current, _rect$current2, _rect$current3, _rect$current4;\n  const rect = React.useRef(null);\n  const {\n    size,\n    scene\n  } = useThree();\n  const [virtualScene] = React.useState(() => new THREE.Scene());\n  const [ready, toggle] = React.useReducer(() => true, false);\n  const compute = React.useCallback((event, state) => {\n    if (rect.current && track && track.current && event.target === track.current) {\n      const {\n        width,\n        height,\n        left,\n        top\n      } = rect.current;\n      const x = event.clientX - left;\n      const y = event.clientY - top;\n      state.pointer.set(x / width * 2 - 1, -(y / height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    }\n  }, [rect, track]);\n  React.useEffect(() => {\n    var _track$current2;\n    // We need the tracking elements bounds beforehand in order to inject it into the portal\n    if (track) rect.current = (_track$current2 = track.current) == null ? void 0 : _track$current2.getBoundingClientRect();\n    // And now we can proceed\n    toggle();\n  }, [track]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: fref\n  }, props), ready && createPortal(/*#__PURE__*/React.createElement(Container, {\n    visible: visible,\n    canvasSize: size,\n    frames: frames,\n    scene: scene,\n    track: track,\n    rect: rect,\n    index: index\n  }, children), virtualScene, {\n    events: {\n      compute,\n      priority: index\n    },\n    size: {\n      width: (_rect$current = rect.current) == null ? void 0 : _rect$current.width,\n      height: (_rect$current2 = rect.current) == null ? void 0 : _rect$current2.height,\n      // @ts-ignore\n      top: (_rect$current3 = rect.current) == null ? void 0 : _rect$current3.top,\n      // @ts-ignore\n      left: (_rect$current4 = rect.current) == null ? void 0 : _rect$current4.left\n    }\n  }));\n});\nconst HtmlView = /* @__PURE__ */React.forwardRef(({\n  as: El = 'div',\n  id,\n  visible,\n  className,\n  style,\n  index = 1,\n  track,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  const uuid = React.useId();\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fref, () => ref.current);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref,\n    id: id,\n    className: className,\n    style: style\n  }, props)), /*#__PURE__*/React.createElement(tracked.In, null, /*#__PURE__*/React.createElement(CanvasView, {\n    visible: visible,\n    key: uuid,\n    track: ref,\n    frames: frames,\n    index: index\n  }, children)));\n});\nconst View = /* @__PURE__ */(() => {\n  const _View = /*#__PURE__*/React.forwardRef((props, fref) => {\n    // If we're inside a canvas we should be able to access the context store\n    const store = React.useContext(context);\n    // If that's not the case we render a tunnel\n    if (!store) return /*#__PURE__*/React.createElement(HtmlView, _extends({\n      ref: fref\n    }, props));\n    // Otherwise a plain canvas-view\n    else return /*#__PURE__*/React.createElement(CanvasView, _extends({\n      ref: fref\n    }, props));\n  });\n  _View.Port = () => /*#__PURE__*/React.createElement(tracked.Out, null);\n  return _View;\n})();\n\nexport { View };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { AxisArrow } from './AxisArrow.js';\nimport { AxisRotator } from './AxisRotator.js';\nimport { PlaneSlider } from './PlaneSlider.js';\nimport { ScalingSphere } from './ScalingSphere.js';\nimport { context } from './context.js';\nimport { calculateScaleFactor } from '../../core/calculateScaleFactor.js';\n\nconst mL0 = /* @__PURE__ */new THREE.Matrix4();\nconst mW0 = /* @__PURE__ */new THREE.Matrix4();\nconst mP = /* @__PURE__ */new THREE.Matrix4();\nconst mPInv = /* @__PURE__ */new THREE.Matrix4();\nconst mW = /* @__PURE__ */new THREE.Matrix4();\nconst mL = /* @__PURE__ */new THREE.Matrix4();\nconst mL0Inv = /* @__PURE__ */new THREE.Matrix4();\nconst mdL = /* @__PURE__ */new THREE.Matrix4();\nconst mG = /* @__PURE__ */new THREE.Matrix4();\nconst bb = /* @__PURE__ */new THREE.Box3();\nconst bbObj = /* @__PURE__ */new THREE.Box3();\nconst vCenter = /* @__PURE__ */new THREE.Vector3();\nconst vSize = /* @__PURE__ */new THREE.Vector3();\nconst vAnchorOffset = /* @__PURE__ */new THREE.Vector3();\nconst vPosition = /* @__PURE__ */new THREE.Vector3();\nconst vScale = /* @__PURE__ */new THREE.Vector3();\nconst xDir = /* @__PURE__ */new THREE.Vector3(1, 0, 0);\nconst yDir = /* @__PURE__ */new THREE.Vector3(0, 1, 0);\nconst zDir = /* @__PURE__ */new THREE.Vector3(0, 0, 1);\nconst PivotControls = /* @__PURE__ */React.forwardRef(({\n  enabled = true,\n  matrix,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  autoTransform = true,\n  anchor,\n  disableAxes = false,\n  disableSliders = false,\n  disableRotations = false,\n  disableScaling = false,\n  activeAxes = [true, true, true],\n  offset = [0, 0, 0],\n  rotation = [0, 0, 0],\n  scale = 1,\n  lineWidth = 4,\n  fixed = false,\n  translationLimits,\n  rotationLimits,\n  scaleLimits,\n  depthTest = true,\n  axisColors = ['#ff2060', '#20df80', '#2080ff'],\n  hoveredColor = '#ffff40',\n  annotations = false,\n  annotationsClass,\n  opacity = 1,\n  visible = true,\n  userData,\n  children,\n  ...props\n}, fRef) => {\n  const invalidate = useThree(state => state.invalidate);\n  const parentRef = React.useRef(null);\n  const ref = React.useRef(null);\n  const gizmoRef = React.useRef(null);\n  const childrenRef = React.useRef(null);\n  const translation = React.useRef([0, 0, 0]);\n  const cameraScale = React.useRef(new THREE.Vector3(1, 1, 1));\n  const gizmoScale = React.useRef(new THREE.Vector3(1, 1, 1));\n  React.useLayoutEffect(() => {\n    if (!anchor) return;\n    childrenRef.current.updateWorldMatrix(true, true);\n    mPInv.copy(childrenRef.current.matrixWorld).invert();\n    bb.makeEmpty();\n    childrenRef.current.traverse(obj => {\n      if (!obj.geometry) return;\n      if (!obj.geometry.boundingBox) obj.geometry.computeBoundingBox();\n      mL.copy(obj.matrixWorld).premultiply(mPInv);\n      bbObj.copy(obj.geometry.boundingBox);\n      bbObj.applyMatrix4(mL);\n      bb.union(bbObj);\n    });\n    vCenter.copy(bb.max).add(bb.min).multiplyScalar(0.5);\n    vSize.copy(bb.max).sub(bb.min).multiplyScalar(0.5);\n    vAnchorOffset.copy(vSize).multiply(new THREE.Vector3(...anchor)).add(vCenter);\n    vPosition.set(...offset).add(vAnchorOffset);\n    gizmoRef.current.position.copy(vPosition);\n    invalidate();\n  });\n  const config = React.useMemo(() => ({\n    onDragStart: props => {\n      mL0.copy(ref.current.matrix);\n      mW0.copy(ref.current.matrixWorld);\n      onDragStart && onDragStart(props);\n      invalidate();\n    },\n    onDrag: mdW => {\n      mP.copy(parentRef.current.matrixWorld);\n      mPInv.copy(mP).invert();\n      // After applying the delta\n      mW.copy(mW0).premultiply(mdW);\n      mL.copy(mW).premultiply(mPInv);\n      mL0Inv.copy(mL0).invert();\n      mdL.copy(mL).multiply(mL0Inv);\n      if (autoTransform) {\n        ref.current.matrix.copy(mL);\n      }\n      onDrag && onDrag(mL, mdL, mW, mdW);\n      invalidate();\n    },\n    onDragEnd: () => {\n      if (onDragEnd) onDragEnd();\n      invalidate();\n    },\n    translation,\n    translationLimits,\n    rotationLimits,\n    axisColors,\n    hoveredColor,\n    opacity,\n    scale,\n    lineWidth,\n    fixed,\n    depthTest,\n    userData,\n    annotations,\n    annotationsClass\n  }), [onDragStart, onDrag, onDragEnd, translation, translationLimits, rotationLimits, scaleLimits, depthTest, scale, lineWidth, fixed, ...axisColors, hoveredColor, opacity, userData, autoTransform, annotations, annotationsClass]);\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (fixed) {\n      const sf = calculateScaleFactor(gizmoRef.current.getWorldPosition(vec), scale, state.camera, state.size);\n      cameraScale.current.setScalar(sf);\n    }\n    if (matrix && matrix instanceof THREE.Matrix4) {\n      ref.current.matrix = matrix;\n    }\n    // Update gizmo scale in accordance with matrix changes\n    // Without this, there might be noticable turbulences if scaling happens fast enough\n    ref.current.updateWorldMatrix(true, true);\n    mG.makeRotationFromEuler(gizmoRef.current.rotation).setPosition(gizmoRef.current.position).premultiply(ref.current.matrixWorld);\n    gizmoScale.current.setFromMatrixScale(mG);\n    vScale.copy(cameraScale.current).divide(gizmoScale.current);\n    if (Math.abs(gizmoRef.current.scale.x - vScale.x) > 1e-4 || Math.abs(gizmoRef.current.scale.y - vScale.y) > 1e-4 || Math.abs(gizmoRef.current.scale.z - vScale.z) > 1e-4) {\n      gizmoRef.current.scale.copy(vScale);\n      state.invalidate();\n    }\n  });\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: config\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: parentRef\n  }, /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    matrix: matrix,\n    matrixAutoUpdate: false\n  }, props), /*#__PURE__*/React.createElement(\"group\", {\n    visible: visible,\n    ref: gizmoRef,\n    position: offset,\n    rotation: rotation\n  }, enabled && /*#__PURE__*/React.createElement(React.Fragment, null, !disableAxes && activeAxes[0] && /*#__PURE__*/React.createElement(AxisArrow, {\n    axis: 0,\n    direction: xDir\n  }), !disableAxes && activeAxes[1] && /*#__PURE__*/React.createElement(AxisArrow, {\n    axis: 1,\n    direction: yDir\n  }), !disableAxes && activeAxes[2] && /*#__PURE__*/React.createElement(AxisArrow, {\n    axis: 2,\n    direction: zDir\n  }), !disableSliders && activeAxes[0] && activeAxes[1] && /*#__PURE__*/React.createElement(PlaneSlider, {\n    axis: 2,\n    dir1: xDir,\n    dir2: yDir\n  }), !disableSliders && activeAxes[0] && activeAxes[2] && /*#__PURE__*/React.createElement(PlaneSlider, {\n    axis: 1,\n    dir1: zDir,\n    dir2: xDir\n  }), !disableSliders && activeAxes[2] && activeAxes[1] && /*#__PURE__*/React.createElement(PlaneSlider, {\n    axis: 0,\n    dir1: yDir,\n    dir2: zDir\n  }), !disableRotations && activeAxes[0] && activeAxes[1] && /*#__PURE__*/React.createElement(AxisRotator, {\n    axis: 2,\n    dir1: xDir,\n    dir2: yDir\n  }), !disableRotations && activeAxes[0] && activeAxes[2] && /*#__PURE__*/React.createElement(AxisRotator, {\n    axis: 1,\n    dir1: zDir,\n    dir2: xDir\n  }), !disableRotations && activeAxes[2] && activeAxes[1] && /*#__PURE__*/React.createElement(AxisRotator, {\n    axis: 0,\n    dir1: yDir,\n    dir2: zDir\n  }), !disableScaling && activeAxes[0] && /*#__PURE__*/React.createElement(ScalingSphere, {\n    axis: 0,\n    direction: xDir\n  }), !disableScaling && activeAxes[1] && /*#__PURE__*/React.createElement(ScalingSphere, {\n    axis: 1,\n    direction: yDir\n  }), !disableScaling && activeAxes[2] && /*#__PURE__*/React.createElement(ScalingSphere, {\n    axis: 2,\n    direction: zDir\n  }))), /*#__PURE__*/React.createElement(\"group\", {\n    ref: childrenRef\n  }, children))));\n});\n\nexport { PivotControls };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst vec1 = /* @__PURE__ */new THREE.Vector3();\nconst vec2 = /* @__PURE__ */new THREE.Vector3();\nconst calculateOffset = (clickPoint, normal, rayStart, rayDir) => {\n  const e1 = normal.dot(normal);\n  const e2 = normal.dot(clickPoint) - normal.dot(rayStart);\n  const e3 = normal.dot(rayDir);\n  if (e3 === 0) {\n    return -e2 / e1;\n  }\n  vec1.copy(rayDir).multiplyScalar(e1 / e3).sub(normal);\n  vec2.copy(rayDir).multiplyScalar(e2 / e3).add(rayStart).sub(clickPoint);\n  const offset = -vec1.dot(vec2) / vec1.dot(vec1);\n  return offset;\n};\nconst upV = /* @__PURE__ */new THREE.Vector3(0, 1, 0);\nconst offsetMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst AxisArrow = ({\n  direction,\n  axis\n}) => {\n  const {\n    translation,\n    translationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context);\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const clickInfo = React.useRef(null);\n  const offset0 = React.useRef(0);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${translation.current[axis].toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    const rotation = new THREE.Matrix4().extractRotation(objRef.current.matrixWorld);\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const dir = direction.clone().applyMatrix4(rotation).normalize();\n    clickInfo.current = {\n      clickPoint,\n      dir\n    };\n    offset0.current = translation.current[axis];\n    onDragStart({\n      component: 'Arrow',\n      axis,\n      origin,\n      directions: [dir]\n    });\n    camControls && (camControls.enabled = false);\n    // @ts-ignore - setPointerCapture is not in the type definition\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, direction, camControls, onDragStart, translation, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        dir\n      } = clickInfo.current;\n      const [min, max] = (translationLimits == null ? void 0 : translationLimits[axis]) || [undefined, undefined];\n      let offset = calculateOffset(clickPoint, dir, e.ray.origin, e.ray.direction);\n      if (min !== undefined) {\n        offset = Math.max(offset, min - offset0.current);\n      }\n      if (max !== undefined) {\n        offset = Math.min(offset, max - offset0.current);\n      }\n      translation.current[axis] = offset0.current + offset;\n      if (annotations) {\n        divRef.current.innerText = `${translation.current[axis].toFixed(2)}`;\n      }\n      offsetMatrix.makeTranslation(dir.x * offset, dir.y * offset, dir.z * offset);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true);\n    // @ts-ignore - releasePointerCapture & PointerEvent#pointerId is not in the type definition\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const {\n    cylinderLength,\n    coneWidth,\n    coneLength,\n    matrixL\n  } = React.useMemo(() => {\n    const coneWidth = fixed ? lineWidth / scale * 1.6 : scale / 20;\n    const coneLength = fixed ? 0.2 : scale / 5;\n    const cylinderLength = fixed ? 1 - coneLength : scale - coneLength;\n    const quaternion = new THREE.Quaternion().setFromUnitVectors(upV, direction.clone().normalize());\n    const matrixL = new THREE.Matrix4().makeRotationFromQuaternion(quaternion);\n    return {\n      cylinderLength,\n      coneWidth,\n      coneLength,\n      matrixL\n    };\n  }, [direction, scale, lineWidth, fixed]);\n  const color_ = isHovered ? hoveredColor : axisColors[axis];\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    matrix: matrixL,\n    matrixAutoUpdate: false,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, -coneLength, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: false,\n    position: [0, (cylinderLength + coneLength) / 2.0, 0],\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"cylinderGeometry\", {\n    args: [coneWidth * 1.4, coneWidth * 1.4, cylinderLength + coneLength, 8, 1]\n  })), /*#__PURE__*/React.createElement(Line, {\n    transparent: true,\n    raycast: () => null,\n    depthTest: depthTest,\n    points: [0, 0, 0, 0, cylinderLength, 0],\n    lineWidth: lineWidth,\n    side: THREE.DoubleSide,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    renderOrder: 1,\n    polygonOffsetFactor: -10,\n    fog: false\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    raycast: () => null,\n    position: [0, cylinderLength + coneLength / 2.0, 0],\n    renderOrder: 500\n  }, /*#__PURE__*/React.createElement(\"coneGeometry\", {\n    args: [coneWidth, coneLength, 24, 1]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    fog: false\n  }))));\n};\n\nexport { AxisArrow, calculateOffset };\n", "import * as React from 'react';\n\nconst context = /* @__PURE__ */React.createContext(null);\n\nexport { context };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst clickDir = /* @__PURE__ */new THREE.Vector3();\nconst intersectionDir = /* @__PURE__ */new THREE.Vector3();\nconst toDegrees = radians => radians * 180 / Math.PI;\nconst toRadians = degrees => degrees * Math.PI / 180;\nconst calculateAngle = (clickPoint, intersectionPoint, origin, e1, e2) => {\n  clickDir.copy(clickPoint).sub(origin);\n  intersectionDir.copy(intersectionPoint).sub(origin);\n  const dote1e1 = e1.dot(e1);\n  const dote2e2 = e2.dot(e2);\n  const uClick = clickDir.dot(e1) / dote1e1;\n  const vClick = clickDir.dot(e2) / dote2e2;\n  const uIntersection = intersectionDir.dot(e1) / dote1e1;\n  const vIntersection = intersectionDir.dot(e2) / dote2e2;\n  const angleClick = Math.atan2(vClick, uClick);\n  const angleIntersection = Math.atan2(vIntersection, uIntersection);\n  return angleIntersection - angleClick;\n};\nconst fmod = (num, denom) => {\n  let k = Math.floor(num / denom);\n  k = k < 0 ? k + 1 : k;\n  return num - k * denom;\n};\nconst minimizeAngle = angle => {\n  let result = fmod(angle, 2 * Math.PI);\n  if (Math.abs(result) < 1e-6) {\n    return 0.0;\n  }\n  if (result < 0.0) {\n    result += 2 * Math.PI;\n  }\n  return result;\n};\nconst rotMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst posNew = /* @__PURE__ */new THREE.Vector3();\nconst ray = /* @__PURE__ */new THREE.Ray();\nconst intersection = /* @__PURE__ */new THREE.Vector3();\nconst AxisRotator = ({\n  dir1,\n  dir2,\n  axis\n}) => {\n  const {\n    rotationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context);\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const angle0 = React.useRef(0);\n  const angle = React.useRef(0);\n  const clickInfo = React.useRef(null);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${toDegrees(angle.current).toFixed(0)}`;\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    const e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    const normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    const plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint,\n      origin,\n      e1,\n      e2,\n      normal,\n      plane\n    };\n    onDragStart({\n      component: 'Rotator',\n      axis,\n      origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false);\n    // @ts-ignore\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        origin,\n        e1,\n        e2,\n        normal,\n        plane\n      } = clickInfo.current;\n      const [min, max] = (rotationLimits == null ? void 0 : rotationLimits[axis]) || [undefined, undefined];\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      let deltaAngle = calculateAngle(clickPoint, intersection, origin, e1, e2);\n      let degrees = toDegrees(deltaAngle);\n\n      // @ts-ignore\n      if (e.shiftKey) {\n        degrees = Math.round(degrees / 10) * 10;\n        deltaAngle = toRadians(degrees);\n      }\n      if (min !== undefined && max !== undefined && max - min < 2 * Math.PI) {\n        deltaAngle = minimizeAngle(deltaAngle);\n        deltaAngle = deltaAngle > Math.PI ? deltaAngle - 2 * Math.PI : deltaAngle;\n        deltaAngle = THREE.MathUtils.clamp(deltaAngle, min - angle0.current, max - angle0.current);\n        angle.current = angle0.current + deltaAngle;\n      } else {\n        angle.current = minimizeAngle(angle0.current + deltaAngle);\n        angle.current = angle.current > Math.PI ? angle.current - 2 * Math.PI : angle.current;\n      }\n      if (annotations) {\n        degrees = toDegrees(angle.current);\n        divRef.current.innerText = `${degrees.toFixed(0)}`;\n      }\n      rotMatrix.makeRotationAxis(normal, deltaAngle);\n      posNew.copy(origin).applyMatrix4(rotMatrix).sub(origin).negate();\n      rotMatrix.setPosition(posNew);\n      onDrag(rotMatrix);\n    }\n  }, [annotations, onDrag, isHovered, rotationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    angle0.current = angle.current;\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true);\n    // @ts-ignore\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const matrixL = React.useMemo(() => {\n    const dir1N = dir1.clone().normalize();\n    const dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  const r = fixed ? 0.65 : scale * 0.65;\n  const arc = React.useMemo(() => {\n    const segments = 32;\n    const points = [];\n    for (let j = 0; j <= segments; j++) {\n      const angle = j * (Math.PI / 2) / segments;\n      points.push(new THREE.Vector3(Math.cos(angle) * r, Math.sin(angle) * r, 0));\n    }\n    return points;\n  }, [r]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [r, r, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(Line, {\n    points: arc,\n    lineWidth: lineWidth * 4,\n    visible: false,\n    userData: userData\n  }), /*#__PURE__*/React.createElement(Line, {\n    transparent: true,\n    raycast: () => null,\n    depthTest: depthTest,\n    points: arc,\n    lineWidth: lineWidth,\n    side: THREE.DoubleSide,\n    color: isHovered ? hoveredColor : axisColors[axis],\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    fog: false\n  }));\n};\n\nexport { AxisRotator };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst decomposeIntoBasis = (e1, e2, offset) => {\n  const i1 = Math.abs(e1.x) >= Math.abs(e1.y) && Math.abs(e1.x) >= Math.abs(e1.z) ? 0 : Math.abs(e1.y) >= Math.abs(e1.x) && Math.abs(e1.y) >= Math.abs(e1.z) ? 1 : 2;\n  const e2DegrowthOrder = [0, 1, 2].sort((a, b) => Math.abs(e2.getComponent(b)) - Math.abs(e2.getComponent(a)));\n  const i2 = i1 === e2DegrowthOrder[0] ? e2DegrowthOrder[1] : e2DegrowthOrder[0];\n  const a1 = e1.getComponent(i1);\n  const a2 = e1.getComponent(i2);\n  const b1 = e2.getComponent(i1);\n  const b2 = e2.getComponent(i2);\n  const c1 = offset.getComponent(i1);\n  const c2 = offset.getComponent(i2);\n  const y = (c2 - c1 * (a2 / a1)) / (b2 - b1 * (a2 / a1));\n  const x = (c1 - y * b1) / a1;\n  return [x, y];\n};\nconst ray = /* @__PURE__ */new THREE.Ray();\nconst intersection = /* @__PURE__ */new THREE.Vector3();\nconst offsetMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst PlaneSlider = ({\n  dir1,\n  dir2,\n  axis\n}) => {\n  const {\n    translation,\n    translationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context);\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const clickInfo = React.useRef(null);\n  const offsetX0 = React.useRef(0);\n  const offsetY0 = React.useRef(0);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    const e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    const normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    const plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint,\n      e1,\n      e2,\n      plane\n    };\n    offsetX0.current = translation.current[(axis + 1) % 3];\n    offsetY0.current = translation.current[(axis + 2) % 3];\n    onDragStart({\n      component: 'Slider',\n      axis,\n      origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false);\n    // @ts-ignore\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        e1,\n        e2,\n        plane\n      } = clickInfo.current;\n      const [minX, maxX] = (translationLimits == null ? void 0 : translationLimits[(axis + 1) % 3]) || [undefined, undefined];\n      const [minY, maxY] = (translationLimits == null ? void 0 : translationLimits[(axis + 2) % 3]) || [undefined, undefined];\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      intersection.sub(clickPoint);\n      let [offsetX, offsetY] = decomposeIntoBasis(e1, e2, intersection);\n      /* let offsetY = (intersection.y - (intersection.x * e1.y) / e1.x) / (e2.y - (e2.x * e1.y) / e1.x)\n      let offsetX = (intersection.x - offsetY * e2.x) / e1.x */\n      if (minX !== undefined) {\n        offsetX = Math.max(offsetX, minX - offsetX0.current);\n      }\n      if (maxX !== undefined) {\n        offsetX = Math.min(offsetX, maxX - offsetX0.current);\n      }\n      if (minY !== undefined) {\n        offsetY = Math.max(offsetY, minY - offsetY0.current);\n      }\n      if (maxY !== undefined) {\n        offsetY = Math.min(offsetY, maxY - offsetY0.current);\n      }\n      translation.current[(axis + 1) % 3] = offsetX0.current + offsetX;\n      translation.current[(axis + 2) % 3] = offsetY0.current + offsetY;\n      if (annotations) {\n        divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      }\n      offsetMatrix.makeTranslation(offsetX * e1.x + offsetY * e2.x, offsetX * e1.y + offsetY * e2.y, offsetX * e1.z + offsetY * e2.z);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true);\n    // @ts-ignore\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const matrixL = React.useMemo(() => {\n    const dir1N = dir1.clone().normalize();\n    const dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  const pos1 = fixed ? 1 / 7 : scale / 7;\n  const length = fixed ? 0.225 : scale * 0.225;\n  const color = isHovered ? hoveredColor : axisColors[axis];\n  const points = React.useMemo(() => [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, length, 0), new THREE.Vector3(length, length, 0), new THREE.Vector3(length, 0, 0), new THREE.Vector3(0, 0, 0)], [length]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"group\", {\n    position: [pos1 * 1.7, pos1 * 1.7, 0]\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: true,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    scale: length,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    side: THREE.DoubleSide,\n    fog: false\n  })), /*#__PURE__*/React.createElement(Line, {\n    position: [-length / 2, -length / 2, 0],\n    transparent: true,\n    depthTest: depthTest,\n    points: points,\n    lineWidth: lineWidth,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    userData: userData,\n    fog: false\n  })));\n};\n\nexport { PlaneSlider };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\nimport { calculateScaleFactor } from '../../core/calculateScaleFactor.js';\n\nconst vec1 = /* @__PURE__ */new THREE.Vector3();\nconst vec2 = /* @__PURE__ */new THREE.Vector3();\nconst calculateOffset = (clickPoint, normal, rayStart, rayDir) => {\n  const e1 = normal.dot(normal);\n  const e2 = normal.dot(clickPoint) - normal.dot(rayStart);\n  const e3 = normal.dot(rayDir);\n  if (e3 === 0) {\n    return -e2 / e1;\n  }\n  vec1.copy(rayDir).multiplyScalar(e1 / e3).sub(normal);\n  vec2.copy(rayDir).multiplyScalar(e2 / e3).add(rayStart).sub(clickPoint);\n  const offset = -vec1.dot(vec2) / vec1.dot(vec1);\n  return offset;\n};\nconst upV = /* @__PURE__ */new THREE.Vector3(0, 1, 0);\nconst scaleV = /* @__PURE__ */new THREE.Vector3();\nconst scaleMatrix = /* @__PURE__ */new THREE.Matrix4();\nconst ScalingSphere = ({\n  direction,\n  axis\n}) => {\n  const {\n    scaleLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context);\n  const size = useThree(state => state.size);\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const meshRef = React.useRef(null);\n  const scale0 = React.useRef(1);\n  const scaleCur = React.useRef(1);\n  const clickInfo = React.useRef(null);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const position = fixed ? 1.2 : 1.2 * scale;\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${scaleCur.current.toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    const rotation = new THREE.Matrix4().extractRotation(objRef.current.matrixWorld);\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const dir = direction.clone().applyMatrix4(rotation).normalize();\n    const mPLG = objRef.current.matrixWorld.clone();\n    const mPLGInv = mPLG.clone().invert();\n    const offsetMultiplier = fixed ? 1 / calculateScaleFactor(objRef.current.getWorldPosition(vec1), scale, e.camera, size) : 1;\n    clickInfo.current = {\n      clickPoint,\n      dir,\n      mPLG,\n      mPLGInv,\n      offsetMultiplier\n    };\n    onDragStart({\n      component: 'Sphere',\n      axis,\n      origin,\n      directions: [dir]\n    });\n    camControls && (camControls.enabled = false);\n    // @ts-ignore - setPointerCapture is not in the type definition\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, direction, onDragStart, axis, fixed, scale, size]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        dir,\n        mPLG,\n        mPLGInv,\n        offsetMultiplier\n      } = clickInfo.current;\n      const [min, max] = (scaleLimits == null ? void 0 : scaleLimits[axis]) || [1e-5, undefined]; // always limit the minimal value, since setting it very low might break the transform\n\n      const offsetW = calculateOffset(clickPoint, dir, e.ray.origin, e.ray.direction);\n      const offsetL = offsetW * offsetMultiplier;\n      const offsetH = fixed ? offsetL : offsetL / scale;\n      let upscale = Math.pow(2, offsetH * 0.2);\n\n      // @ts-ignore\n      if (e.shiftKey) {\n        upscale = Math.round(upscale * 10) / 10;\n      }\n      upscale = Math.max(upscale, min / scale0.current);\n      if (max !== undefined) {\n        upscale = Math.min(upscale, max / scale0.current);\n      }\n      scaleCur.current = scale0.current * upscale;\n      meshRef.current.position.set(0, position + offsetL, 0);\n      if (annotations) {\n        divRef.current.innerText = `${scaleCur.current.toFixed(2)}`;\n      }\n      scaleV.set(1, 1, 1);\n      scaleV.setComponent(axis, upscale);\n      scaleMatrix.makeScale(scaleV.x, scaleV.y, scaleV.z).premultiply(mPLG).multiply(mPLGInv);\n      onDrag(scaleMatrix);\n    }\n  }, [annotations, position, onDrag, isHovered, scaleLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    scale0.current = scaleCur.current;\n    clickInfo.current = null;\n    meshRef.current.position.set(0, position, 0);\n    onDragEnd();\n    camControls && (camControls.enabled = true);\n    // @ts-ignore - releasePointerCapture & PointerEvent#pointerId is not in the type definition\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd, position]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const {\n    radius,\n    matrixL\n  } = React.useMemo(() => {\n    const radius = fixed ? lineWidth / scale * 1.8 : scale / 22.5;\n    const quaternion = new THREE.Quaternion().setFromUnitVectors(upV, direction.clone().normalize());\n    const matrixL = new THREE.Matrix4().makeRotationFromQuaternion(quaternion);\n    return {\n      radius,\n      matrixL\n    };\n  }, [direction, scale, lineWidth, fixed]);\n  const color = isHovered ? hoveredColor : axisColors[axis];\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    matrix: matrixL,\n    matrixAutoUpdate: false,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, position / 2, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: meshRef,\n    position: [0, position, 0],\n    renderOrder: 500,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"sphereGeometry\", {\n    args: [radius, 12, 12]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10\n  }))));\n};\n\nexport { ScalingSphere, calculateOffset };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef, useEffect } from 'react';\nimport { suspend, clear } from 'suspend-react';\nimport { VideoTexture } from '../core/VideoTexture.js';\n\n/**\n * Create a video texture from [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia)\n */\nconst ScreenVideoTexture = /* @__PURE__ */forwardRef(({\n  options = {\n    video: true\n  },\n  ...props\n}, fref) => {\n  const mediaStream = suspend(() => navigator.mediaDevices.getDisplayMedia(options), []);\n  useEffect(() => {\n    return () => {\n      mediaStream == null || mediaStream.getTracks().forEach(track => track.stop());\n      clear([]);\n    };\n  }, [mediaStream]);\n  return /*#__PURE__*/React.createElement(VideoTexture, _extends({\n    ref: fref\n  }, props, {\n    src: mediaStream\n  }));\n});\n\nexport { ScreenVideoTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef, useEffect } from 'react';\nimport { suspend, clear } from 'suspend-react';\nimport { VideoTexture } from '../core/VideoTexture.js';\n\n/**\n * Create a video texture from [`getUserMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)\n */\nconst WebcamVideoTexture = /* @__PURE__ */forwardRef(({\n  constraints = {\n    audio: false,\n    video: {\n      facingMode: 'user'\n    }\n  },\n  ...props\n}, fref) => {\n  const mediaStream = suspend(() => navigator.mediaDevices.getUserMedia(constraints), []);\n  useEffect(() => {\n    return () => {\n      mediaStream == null || mediaStream.getTracks().forEach(track => track.stop());\n      clear([]);\n    };\n  }, [mediaStream]);\n  return /*#__PURE__*/React.createElement(VideoTexture, _extends({\n    ref: fref\n  }, props, {\n    src: mediaStream\n  }));\n});\n\nexport { WebcamVideoTexture };\n", "import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { forwardRef, useRef, useState, useCallback, useMemo, useImperativeHandle, useEffect, Suspense, useContext, createContext } from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { easing } from 'maath';\nimport { VideoTexture } from '../core/VideoTexture.js';\nimport { WebcamVideoTexture } from './WebcamVideoTexture.js';\nimport { Facemesh } from './Facemesh.js';\nimport { useFaceLandmarker } from './FaceLandmarker.js';\n\nfunction mean(v1, v2) {\n  return v1.clone().add(v2).multiplyScalar(0.5);\n}\nfunction localToLocal(objSrc, v, objDst) {\n  // see: https://discourse.threejs.org/t/object3d-localtolocal/51564\n  const v_world = objSrc.localToWorld(v);\n  return objDst.worldToLocal(v_world);\n}\n\n//\n//\n//\n\nconst FaceControlsContext = /* @__PURE__ */createContext({});\n\n/**\n * The camera follows your face.\n *\n * Pre-requisite: wrap into a `FaceLandmarker` provider:\n *\n * ```jsx\n * <FaceLandmarker>...</FaceLandmarker>\n * ```\n */\n\nconst FaceControls = /* @__PURE__ */forwardRef(({\n  camera,\n  videoTexture = {\n    start: true\n  },\n  manualDetect = false,\n  faceLandmarkerResult,\n  manualUpdate = false,\n  makeDefault,\n  smoothTime = 0.25,\n  offset = true,\n  offsetScalar = 80,\n  eyes = false,\n  eyesAsOrigin = true,\n  depth = 0.15,\n  debug = false,\n  facemesh\n}, fref) => {\n  var _result$facialTransfo, _result$faceBlendshap;\n  const scene = useThree(state => state.scene);\n  const defaultCamera = useThree(state => state.camera);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const explCamera = camera || defaultCamera;\n  const facemeshApiRef = useRef(null);\n\n  //\n  // computeTarget()\n  //\n  // Compute `target` position and rotation for the camera (according to <Facemesh>)\n  //\n  //  1.  either following the 2 eyes\n  //  2.  or just the head mesh\n  //\n\n  const [target] = useState(() => new THREE.Object3D());\n  const [irisRightDirPos] = useState(() => new THREE.Vector3());\n  const [irisLeftDirPos] = useState(() => new THREE.Vector3());\n  const [irisRightLookAt] = useState(() => new THREE.Vector3());\n  const [irisLeftLookAt] = useState(() => new THREE.Vector3());\n  const computeTarget = useCallback(() => {\n    // same parent as the camera\n    target.parent = explCamera.parent;\n    const facemeshApi = facemeshApiRef.current;\n    if (facemeshApi) {\n      const {\n        outerRef,\n        eyeRightRef,\n        eyeLeftRef\n      } = facemeshApi;\n      if (eyeRightRef.current && eyeLeftRef.current) {\n        // 1. \n\n        const {\n          irisDirRef: irisRightDirRef\n        } = eyeRightRef.current;\n        const {\n          irisDirRef: irisLeftDirRef\n        } = eyeLeftRef.current;\n        if (irisRightDirRef.current && irisLeftDirRef.current && outerRef.current) {\n          //\n          // position: mean of irisRightDirPos,irisLeftDirPos\n          //\n          irisRightDirPos.copy(localToLocal(irisRightDirRef.current, new THREE.Vector3(0, 0, 0), outerRef.current));\n          irisLeftDirPos.copy(localToLocal(irisLeftDirRef.current, new THREE.Vector3(0, 0, 0), outerRef.current));\n          target.position.copy(localToLocal(outerRef.current, mean(irisRightDirPos, irisLeftDirPos), explCamera.parent || scene));\n\n          //\n          // lookAt: mean of irisRightLookAt,irisLeftLookAt\n          //\n          irisRightLookAt.copy(localToLocal(irisRightDirRef.current, new THREE.Vector3(0, 0, 1), outerRef.current));\n          irisLeftLookAt.copy(localToLocal(irisLeftDirRef.current, new THREE.Vector3(0, 0, 1), outerRef.current));\n          target.lookAt(outerRef.current.localToWorld(mean(irisRightLookAt, irisLeftLookAt)));\n        }\n      } else {\n        // 2. \n\n        if (outerRef.current) {\n          target.position.copy(localToLocal(outerRef.current, new THREE.Vector3(0, 0, 0), explCamera.parent || scene));\n          target.lookAt(outerRef.current.localToWorld(new THREE.Vector3(0, 0, 1)));\n        }\n      }\n    }\n    return target;\n  }, [explCamera, irisLeftDirPos, irisLeftLookAt, irisRightDirPos, irisRightLookAt, scene, target]);\n\n  //\n  // update()\n  //\n  // Updating the camera `current` position and rotation, following `target`\n  //\n\n  const [current] = useState(() => new THREE.Object3D());\n  const update = useCallback(function (delta, target) {\n    if (explCamera) {\n      var _target;\n      (_target = target) !== null && _target !== void 0 ? _target : target = computeTarget();\n      if (smoothTime > 0) {\n        // damping current\n        const eps = 1e-9;\n        easing.damp3(current.position, target.position, smoothTime, delta, undefined, undefined, eps);\n        easing.dampE(current.rotation, target.rotation, smoothTime, delta, undefined, undefined, eps);\n      } else {\n        // instant\n        current.position.copy(target.position);\n        current.rotation.copy(target.rotation);\n      }\n      explCamera.position.copy(current.position);\n      explCamera.rotation.copy(current.rotation);\n    }\n  }, [explCamera, computeTarget, smoothTime, current.position, current.rotation]);\n  useFrame((_, delta) => {\n    if (manualUpdate) return;\n    update(delta);\n  });\n\n  //\n  // onVideoFrame (only used if !manualDetect)\n  //\n\n  const videoTextureRef = useRef(null);\n  const [_faceLandmarkerResult, setFaceLandmarkerResult] = useState();\n  const faceLandmarker = useFaceLandmarker();\n  const onVideoFrame = useCallback((now, metadata) => {\n    const texture = videoTextureRef.current;\n    if (!texture) return;\n    const videoFrame = texture.source.data;\n    const result = faceLandmarker == null ? void 0 : faceLandmarker.detectForVideo(videoFrame, now);\n    setFaceLandmarkerResult(result);\n  }, [faceLandmarker]);\n\n  //\n  // Ref API\n  //\n\n  const api = useMemo(() => Object.assign(Object.create(THREE.EventDispatcher.prototype), {\n    computeTarget,\n    update,\n    facemeshApiRef\n  }), [computeTarget, update]);\n  useImperativeHandle(fref, () => api, [api]);\n\n  //\n  // makeDefault (`controls` global state)\n  //\n\n  useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls: api\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, api, get, set]);\n\n  //\n  //\n  //\n\n  const result = faceLandmarkerResult !== null && faceLandmarkerResult !== void 0 ? faceLandmarkerResult : _faceLandmarkerResult;\n  const points = result == null ? void 0 : result.faceLandmarks[0];\n  const facialTransformationMatrix = result == null || (_result$facialTransfo = result.facialTransformationMatrixes) == null ? void 0 : _result$facialTransfo[0];\n  const faceBlendshapes = result == null || (_result$faceBlendshap = result.faceBlendshapes) == null ? void 0 : _result$faceBlendshap[0];\n  const videoTextureProps = {\n    onVideoFrame,\n    ...videoTexture\n  };\n  return /*#__PURE__*/React.createElement(FaceControlsContext.Provider, {\n    value: api\n  }, !manualDetect && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null\n  }, 'src' in videoTextureProps ? /*#__PURE__*/React.createElement(VideoTexture, _extends({\n    ref: videoTextureRef\n  }, videoTextureProps)) : /*#__PURE__*/React.createElement(WebcamVideoTexture, _extends({\n    ref: videoTextureRef\n  }, videoTextureProps))), /*#__PURE__*/React.createElement(Facemesh, _extends({\n    ref: facemeshApiRef,\n    children: /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n      side: THREE.DoubleSide\n    })\n  }, facemesh, {\n    points: points,\n    depth: depth,\n    facialTransformationMatrix: facialTransformationMatrix,\n    faceBlendshapes: faceBlendshapes,\n    eyes: eyes,\n    eyesAsOrigin: eyesAsOrigin,\n    offset: offset,\n    offsetScalar: offsetScalar,\n    debug: debug,\n    \"rotation-z\": Math.PI,\n    visible: debug\n  })));\n});\nconst useFaceControls = () => useContext(FaceControlsContext);\n\nexport { FaceControls, useFaceControls };\n", "import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../core/Line.js';\n\n/* eslint react-hooks/exhaustive-deps: 1 */\nconst defaultLookAt = /* @__PURE__ */new THREE.Vector3(0, 0, -1);\nconst normal = /* @__PURE__ */function () {\n  const a = new THREE.Vector3();\n  const b = new THREE.Vector3();\n  const c = new THREE.Vector3();\n  const ab = new THREE.Vector3();\n  const ac = new THREE.Vector3();\n  return function (v1, v2, v3, v) {\n    a.copy(v1);\n    b.copy(v2);\n    c.copy(v3);\n    ab.copy(b).sub(a);\n    ac.copy(c).sub(a);\n    return v.crossVectors(ac, ab).normalize();\n  };\n}();\nfunction mean(v1, v2) {\n  return v1.clone().add(v2).multiplyScalar(0.5);\n}\nconst Facemesh = /* @__PURE__ */React.forwardRef(({\n  points = FacemeshDatas.SAMPLE_FACELANDMARKER_RESULT.faceLandmarks[0],\n  face,\n  facialTransformationMatrix,\n  faceBlendshapes,\n  offset,\n  offsetScalar = 80,\n  width,\n  height,\n  depth = 1,\n  verticalTri = [159, 386, 152],\n  origin,\n  eyes = true,\n  eyesAsOrigin = false,\n  debug = false,\n  children,\n  ...props\n}, fref) => {\n  var _meshRef$current3;\n  if (face) {\n    points = face.keypoints;\n    console.warn('Facemesh `face` prop is deprecated: use `points` instead');\n  }\n  const offsetRef = React.useRef(null);\n  const scaleRef = React.useRef(null);\n  const originRef = React.useRef(null);\n  const outerRef = React.useRef(null);\n  const meshRef = React.useRef(null);\n  const eyeRightRef = React.useRef(null);\n  const eyeLeftRef = React.useRef(null);\n  const [sightDir] = React.useState(() => new THREE.Vector3());\n  const [transform] = React.useState(() => new THREE.Object3D());\n  const [sightDirQuaternion] = React.useState(() => new THREE.Quaternion());\n  const [_origin] = React.useState(() => new THREE.Vector3());\n  const {\n    invalidate\n  } = useThree();\n  React.useEffect(() => {\n    var _meshRef$current;\n    (_meshRef$current = meshRef.current) == null || _meshRef$current.geometry.setIndex(FacemeshDatas.TRIANGULATION);\n  }, []);\n  const [bboxSize] = React.useState(() => new THREE.Vector3());\n  React.useEffect(() => {\n    var _meshRef$current2, _outerRef$current;\n    const faceGeometry = (_meshRef$current2 = meshRef.current) == null ? void 0 : _meshRef$current2.geometry;\n    if (!faceGeometry) return;\n    faceGeometry.setFromPoints(points);\n    faceGeometry.setDrawRange(0, FacemeshDatas.TRIANGULATION.length);\n\n    //\n    // A. compute sightDir vector\n    //\n    //  - either from `facialTransformationMatrix` if available\n    //  - or from `verticalTri`\n    //\n\n    if (facialTransformationMatrix) {\n      // from facialTransformationMatrix\n      transform.matrix.fromArray(facialTransformationMatrix.data);\n      transform.matrix.decompose(transform.position, transform.quaternion, transform.scale);\n\n      // Rotation: y and z axes are inverted\n      transform.rotation.y *= -1;\n      transform.rotation.z *= -1;\n      sightDirQuaternion.setFromEuler(transform.rotation);\n\n      // Offset: y and z axes are inverted\n      if (offset) {\n        var _offsetRef$current;\n        transform.position.y *= -1;\n        transform.position.z *= -1;\n        (_offsetRef$current = offsetRef.current) == null || _offsetRef$current.position.copy(transform.position.divideScalar(offsetScalar));\n      } else {\n        var _offsetRef$current2;\n        (_offsetRef$current2 = offsetRef.current) == null || _offsetRef$current2.position.set(0, 0, 0); // reset\n      }\n    } else {\n      // normal to verticalTri\n      normal(points[verticalTri[0]], points[verticalTri[1]], points[verticalTri[2]], sightDir);\n      sightDirQuaternion.setFromUnitVectors(defaultLookAt, sightDir);\n    }\n    const sightDirQuaternionInverse = sightDirQuaternion.clone().invert();\n\n    //\n    // B. geometry (straightened)\n    //\n\n    // 1. center (before rotate back)\n    faceGeometry.computeBoundingBox();\n    if (debug) invalidate(); // invalidate to force re-render for box3Helper (after .computeBoundingBox())\n    faceGeometry.center();\n\n    // 2. rotate back + rotate outerRef (once 1.)\n    faceGeometry.applyQuaternion(sightDirQuaternionInverse);\n    (_outerRef$current = outerRef.current) == null || _outerRef$current.setRotationFromQuaternion(sightDirQuaternion);\n\n    // 3.  eyes\n    if (eyes) {\n      if (!faceBlendshapes) {\n        console.warn('Facemesh `eyes` option only works if `faceBlendshapes` is provided: skipping.');\n      } else {\n        if (eyeRightRef.current && eyeLeftRef.current && originRef.current) {\n          if (eyesAsOrigin) {\n            // compute the middle of the 2 eyes as the `origin`\n            const eyeRightSphere = eyeRightRef.current._computeSphere(faceGeometry);\n            const eyeLeftSphere = eyeLeftRef.current._computeSphere(faceGeometry);\n            const eyesCenter = mean(eyeRightSphere.center, eyeLeftSphere.center);\n            origin = eyesCenter.negate(); // eslint-disable-line react-hooks/exhaustive-deps\n\n            eyeRightRef.current._update(faceGeometry, faceBlendshapes, eyeRightSphere);\n            eyeLeftRef.current._update(faceGeometry, faceBlendshapes, eyeLeftSphere);\n          } else {\n            eyeRightRef.current._update(faceGeometry, faceBlendshapes);\n            eyeLeftRef.current._update(faceGeometry, faceBlendshapes);\n          }\n        }\n      }\n    }\n\n    // 3. origin\n    if (originRef.current) {\n      if (origin !== undefined) {\n        if (typeof origin === 'number') {\n          const position = faceGeometry.getAttribute('position');\n          _origin.set(-position.getX(origin), -position.getY(origin), -position.getZ(origin));\n        } else if (origin.isVector3) {\n          _origin.copy(origin);\n        }\n      } else {\n        _origin.setScalar(0);\n      }\n      originRef.current.position.copy(_origin);\n    }\n\n    // 4. re-scale\n    if (scaleRef.current) {\n      let scale = 1;\n      if (width || height || depth) {\n        faceGeometry.boundingBox.getSize(bboxSize);\n        if (width) scale = width / bboxSize.x; // fit in width\n        if (height) scale = height / bboxSize.y; // fit in height\n        if (depth) scale = depth / bboxSize.z; // fit in depth\n      }\n      scaleRef.current.scale.setScalar(scale !== 1 ? scale : 1);\n    }\n    faceGeometry.computeVertexNormals();\n    faceGeometry.attributes.position.needsUpdate = true;\n  }, [points, facialTransformationMatrix, faceBlendshapes, transform, offset, offsetScalar, width, height, depth, verticalTri, origin, eyes, debug, invalidate, sightDir, sightDirQuaternion, bboxSize, _origin]);\n\n  //\n  // API\n  //\n\n  const api = React.useMemo(() => ({\n    outerRef,\n    meshRef,\n    eyeRightRef,\n    eyeLeftRef\n  }), []);\n  React.useImperativeHandle(fref, () => api, [api]);\n  const [meshBboxSize] = React.useState(() => new THREE.Vector3());\n  const bbox = (_meshRef$current3 = meshRef.current) == null ? void 0 : _meshRef$current3.geometry.boundingBox;\n  const one = (bbox == null ? void 0 : bbox.getSize(meshBboxSize).z) || 1;\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    ref: offsetRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: outerRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: scaleRef\n  }, debug ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"axesHelper\", {\n    args: [one]\n  }), /*#__PURE__*/React.createElement(Line, {\n    points: [[0, 0, 0], [0, 0, -one]],\n    color: 0x00ffff\n  })) : null, /*#__PURE__*/React.createElement(\"group\", {\n    ref: originRef\n  }, eyes && faceBlendshapes && /*#__PURE__*/React.createElement(\"group\", {\n    name: \"eyes\"\n  }, /*#__PURE__*/React.createElement(FacemeshEye, {\n    side: \"left\",\n    ref: eyeRightRef,\n    debug: debug\n  }), /*#__PURE__*/React.createElement(FacemeshEye, {\n    side: \"right\",\n    ref: eyeLeftRef,\n    debug: debug\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: meshRef,\n    name: \"face\"\n  }, children, debug ? /*#__PURE__*/React.createElement(React.Fragment, null, bbox && /*#__PURE__*/React.createElement(\"box3Helper\", {\n    args: [bbox]\n  })) : null))))));\n});\n\n//\n//  FacemeshEye\n//\n\nconst FacemeshEyeDefaults = {\n  contourLandmarks: {\n    right: [33, 133, 159, 145, 153],\n    left: [263, 362, 386, 374, 380]\n  },\n  blendshapes: {\n    right: [14, 16, 18, 12],\n    // lookIn,lookOut, lookUp,lookDown\n    left: [13, 15, 17, 11] // lookIn,lookOut, lookUp,lookDown\n  },\n  color: {\n    right: 'red',\n    left: '#00ff00'\n  },\n  fov: {\n    horizontal: 100,\n    vertical: 90\n  }\n};\nconst FacemeshEye = /* @__PURE__ */React.forwardRef(({\n  side,\n  debug = true\n}, fref) => {\n  const eyeMeshRef = React.useRef(null);\n  const irisDirRef = React.useRef(null);\n\n  //\n  // _computeSphere()\n  //\n  // Compute eye's sphere .position and .radius\n  //\n\n  const [sphere] = React.useState(() => new THREE.Sphere());\n  const _computeSphere = React.useCallback(faceGeometry => {\n    const position = faceGeometry.getAttribute('position');\n\n    // get some eye contour landmarks points (from geometry)\n    const eyeContourLandmarks = FacemeshEyeDefaults.contourLandmarks[side];\n    const eyeContourPoints = eyeContourLandmarks.map(i => new THREE.Vector3(position.getX(i), position.getY(i), position.getZ(i))); // prettier-ignore\n\n    // compute center (centroid from eyeContourPoints)\n    sphere.center.set(0, 0, 0);\n    eyeContourPoints.forEach(v => sphere.center.add(v));\n    sphere.center.divideScalar(eyeContourPoints.length);\n\n    // radius (eye half-width)\n    sphere.radius = eyeContourPoints[0].sub(eyeContourPoints[1]).length() / 2;\n    return sphere;\n  }, [sphere, side]);\n\n  //\n  // _update()\n  //\n  // Update:\n  //   - A. eye's mesh (according to sphere)\n  //   - B. iris direction (according to \"look*\" blendshapes)\n  //\n\n  const [rotation] = React.useState(() => new THREE.Euler());\n  const _update = React.useCallback((faceGeometry, faceBlendshapes, sphere) => {\n    // A.\n    if (eyeMeshRef.current) {\n      var _sphere;\n      (_sphere = sphere) !== null && _sphere !== void 0 ? _sphere : sphere = _computeSphere(faceGeometry); // compute sphere dims (if not passed)\n      eyeMeshRef.current.position.copy(sphere.center);\n      eyeMeshRef.current.scale.setScalar(sphere.radius);\n    }\n\n    // B.\n    if (faceBlendshapes && irisDirRef.current) {\n      const blendshapes = FacemeshEyeDefaults.blendshapes[side];\n      const lookIn = faceBlendshapes.categories[blendshapes[0]].score;\n      const lookOut = faceBlendshapes.categories[blendshapes[1]].score;\n      const lookUp = faceBlendshapes.categories[blendshapes[2]].score;\n      const lookDown = faceBlendshapes.categories[blendshapes[3]].score;\n      const hfov = FacemeshEyeDefaults.fov.horizontal * THREE.MathUtils.DEG2RAD;\n      const vfov = FacemeshEyeDefaults.fov.vertical * THREE.MathUtils.DEG2RAD;\n      const rx = hfov * 0.5 * (lookDown - lookUp);\n      const ry = vfov * 0.5 * (lookIn - lookOut) * (side === 'left' ? 1 : -1);\n      rotation.set(rx, ry, 0);\n      irisDirRef.current.setRotationFromEuler(rotation);\n    }\n  }, [_computeSphere, side, rotation]);\n\n  //\n  // API\n  //\n\n  const api = React.useMemo(() => ({\n    eyeMeshRef: eyeMeshRef,\n    irisDirRef: irisDirRef,\n    _computeSphere,\n    _update\n  }), [_computeSphere, _update]);\n  React.useImperativeHandle(fref, () => api, [api]);\n  const color = FacemeshEyeDefaults.color[side];\n  return /*#__PURE__*/React.createElement(\"group\", null, /*#__PURE__*/React.createElement(\"group\", {\n    ref: eyeMeshRef\n  }, debug && /*#__PURE__*/React.createElement(\"axesHelper\", null), /*#__PURE__*/React.createElement(\"group\", {\n    ref: irisDirRef\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, debug && /*#__PURE__*/React.createElement(Line, {\n    points: [[0, 0, 0], [0, 0, -2]],\n    lineWidth: 1,\n    color: color\n  })))));\n});\n\n//\n// Sample datas\n//\n\nconst FacemeshDatas = {\n  // Extracted from: https://github.com/tensorflow/tfjs-models/blob/a8f500809f5afe38feea27870c77e7ba03a6ece4/face-landmarks-detection/demos/shared/triangulation.js\n  // prettier-ignore\n  TRIANGULATION: [127, 34, 139, 11, 0, 37, 232, 231, 120, 72, 37, 39, 128, 121, 47, 232, 121, 128, 104, 69, 67, 175, 171, 148, 157, 154, 155, 118, 50, 101, 73, 39, 40, 9, 151, 108, 48, 115, 131, 194, 204, 211, 74, 40, 185, 80, 42, 183, 40, 92, 186, 230, 229, 118, 202, 212, 214, 83, 18, 17, 76, 61, 146, 160, 29, 30, 56, 157, 173, 106, 204, 194, 135, 214, 192, 203, 165, 98, 21, 71, 68, 51, 45, 4, 144, 24, 23, 77, 146, 91, 205, 50, 187, 201, 200, 18, 91, 106, 182, 90, 91, 181, 85, 84, 17, 206, 203, 36, 148, 171, 140, 92, 40, 39, 193, 189, 244, 159, 158, 28, 247, 246, 161, 236, 3, 196, 54, 68, 104, 193, 168, 8, 117, 228, 31, 189, 193, 55, 98, 97, 99, 126, 47, 100, 166, 79, 218, 155, 154, 26, 209, 49, 131, 135, 136, 150, 47, 126, 217, 223, 52, 53, 45, 51, 134, 211, 170, 140, 67, 69, 108, 43, 106, 91, 230, 119, 120, 226, 130, 247, 63, 53, 52, 238, 20, 242, 46, 70, 156, 78, 62, 96, 46, 53, 63, 143, 34, 227, 173, 155, 133, 123, 117, 111, 44, 125, 19, 236, 134, 51, 216, 206, 205, 154, 153, 22, 39, 37, 167, 200, 201, 208, 36, 142, 100, 57, 212, 202, 20, 60, 99, 28, 158, 157, 35, 226, 113, 160, 159, 27, 204, 202, 210, 113, 225, 46, 43, 202, 204, 62, 76, 77, 137, 123, 116, 41, 38, 72, 203, 129, 142, 64, 98, 240, 49, 102, 64, 41, 73, 74, 212, 216, 207, 42, 74, 184, 169, 170, 211, 170, 149, 176, 105, 66, 69, 122, 6, 168, 123, 147, 187, 96, 77, 90, 65, 55, 107, 89, 90, 180, 101, 100, 120, 63, 105, 104, 93, 137, 227, 15, 86, 85, 129, 102, 49, 14, 87, 86, 55, 8, 9, 100, 47, 121, 145, 23, 22, 88, 89, 179, 6, 122, 196, 88, 95, 96, 138, 172, 136, 215, 58, 172, 115, 48, 219, 42, 80, 81, 195, 3, 51, 43, 146, 61, 171, 175, 199, 81, 82, 38, 53, 46, 225, 144, 163, 110, 246, 33, 7, 52, 65, 66, 229, 228, 117, 34, 127, 234, 107, 108, 69, 109, 108, 151, 48, 64, 235, 62, 78, 191, 129, 209, 126, 111, 35, 143, 163, 161, 246, 117, 123, 50, 222, 65, 52, 19, 125, 141, 221, 55, 65, 3, 195, 197, 25, 7, 33, 220, 237, 44, 70, 71, 139, 122, 193, 245, 247, 130, 33, 71, 21, 162, 153, 158, 159, 170, 169, 150, 188, 174, 196, 216, 186, 92, 144, 160, 161, 2, 97, 167, 141, 125, 241, 164, 167, 37, 72, 38, 12, 145, 159, 160, 38, 82, 13, 63, 68, 71, 226, 35, 111, 158, 153, 154, 101, 50, 205, 206, 92, 165, 209, 198, 217, 165, 167, 97, 220, 115, 218, 133, 112, 243, 239, 238, 241, 214, 135, 169, 190, 173, 133, 171, 208, 32, 125, 44, 237, 86, 87, 178, 85, 86, 179, 84, 85, 180, 83, 84, 181, 201, 83, 182, 137, 93, 132, 76, 62, 183, 61, 76, 184, 57, 61, 185, 212, 57, 186, 214, 207, 187, 34, 143, 156, 79, 239, 237, 123, 137, 177, 44, 1, 4, 201, 194, 32, 64, 102, 129, 213, 215, 138, 59, 166, 219, 242, 99, 97, 2, 94, 141, 75, 59, 235, 24, 110, 228, 25, 130, 226, 23, 24, 229, 22, 23, 230, 26, 22, 231, 112, 26, 232, 189, 190, 243, 221, 56, 190, 28, 56, 221, 27, 28, 222, 29, 27, 223, 30, 29, 224, 247, 30, 225, 238, 79, 20, 166, 59, 75, 60, 75, 240, 147, 177, 215, 20, 79, 166, 187, 147, 213, 112, 233, 244, 233, 128, 245, 128, 114, 188, 114, 217, 174, 131, 115, 220, 217, 198, 236, 198, 131, 134, 177, 132, 58, 143, 35, 124, 110, 163, 7, 228, 110, 25, 356, 389, 368, 11, 302, 267, 452, 350, 349, 302, 303, 269, 357, 343, 277, 452, 453, 357, 333, 332, 297, 175, 152, 377, 384, 398, 382, 347, 348, 330, 303, 304, 270, 9, 336, 337, 278, 279, 360, 418, 262, 431, 304, 408, 409, 310, 415, 407, 270, 409, 410, 450, 348, 347, 422, 430, 434, 313, 314, 17, 306, 307, 375, 387, 388, 260, 286, 414, 398, 335, 406, 418, 364, 367, 416, 423, 358, 327, 251, 284, 298, 281, 5, 4, 373, 374, 253, 307, 320, 321, 425, 427, 411, 421, 313, 18, 321, 405, 406, 320, 404, 405, 315, 16, 17, 426, 425, 266, 377, 400, 369, 322, 391, 269, 417, 465, 464, 386, 257, 258, 466, 260, 388, 456, 399, 419, 284, 332, 333, 417, 285, 8, 346, 340, 261, 413, 441, 285, 327, 460, 328, 355, 371, 329, 392, 439, 438, 382, 341, 256, 429, 420, 360, 364, 394, 379, 277, 343, 437, 443, 444, 283, 275, 440, 363, 431, 262, 369, 297, 338, 337, 273, 375, 321, 450, 451, 349, 446, 342, 467, 293, 334, 282, 458, 461, 462, 276, 353, 383, 308, 324, 325, 276, 300, 293, 372, 345, 447, 382, 398, 362, 352, 345, 340, 274, 1, 19, 456, 248, 281, 436, 427, 425, 381, 256, 252, 269, 391, 393, 200, 199, 428, 266, 330, 329, 287, 273, 422, 250, 462, 328, 258, 286, 384, 265, 353, 342, 387, 259, 257, 424, 431, 430, 342, 353, 276, 273, 335, 424, 292, 325, 307, 366, 447, 345, 271, 303, 302, 423, 266, 371, 294, 455, 460, 279, 278, 294, 271, 272, 304, 432, 434, 427, 272, 407, 408, 394, 430, 431, 395, 369, 400, 334, 333, 299, 351, 417, 168, 352, 280, 411, 325, 319, 320, 295, 296, 336, 319, 403, 404, 330, 348, 349, 293, 298, 333, 323, 454, 447, 15, 16, 315, 358, 429, 279, 14, 15, 316, 285, 336, 9, 329, 349, 350, 374, 380, 252, 318, 402, 403, 6, 197, 419, 318, 319, 325, 367, 364, 365, 435, 367, 397, 344, 438, 439, 272, 271, 311, 195, 5, 281, 273, 287, 291, 396, 428, 199, 311, 271, 268, 283, 444, 445, 373, 254, 339, 263, 466, 249, 282, 334, 296, 449, 347, 346, 264, 447, 454, 336, 296, 299, 338, 10, 151, 278, 439, 455, 292, 407, 415, 358, 371, 355, 340, 345, 372, 390, 249, 466, 346, 347, 280, 442, 443, 282, 19, 94, 370, 441, 442, 295, 248, 419, 197, 263, 255, 359, 440, 275, 274, 300, 383, 368, 351, 412, 465, 263, 467, 466, 301, 368, 389, 380, 374, 386, 395, 378, 379, 412, 351, 419, 436, 426, 322, 373, 390, 388, 2, 164, 393, 370, 462, 461, 164, 0, 267, 302, 11, 12, 374, 373, 387, 268, 12, 13, 293, 300, 301, 446, 261, 340, 385, 384, 381, 330, 266, 425, 426, 423, 391, 429, 355, 437, 391, 327, 326, 440, 457, 438, 341, 382, 362, 459, 457, 461, 434, 430, 394, 414, 463, 362, 396, 369, 262, 354, 461, 457, 316, 403, 402, 315, 404, 403, 314, 405, 404, 313, 406, 405, 421, 418, 406, 366, 401, 361, 306, 408, 407, 291, 409, 408, 287, 410, 409, 432, 436, 410, 434, 416, 411, 264, 368, 383, 309, 438, 457, 352, 376, 401, 274, 275, 4, 421, 428, 262, 294, 327, 358, 433, 416, 367, 289, 455, 439, 462, 370, 326, 2, 326, 370, 305, 460, 455, 254, 449, 448, 255, 261, 446, 253, 450, 449, 252, 451, 450, 256, 452, 451, 341, 453, 452, 413, 464, 463, 441, 413, 414, 258, 442, 441, 257, 443, 442, 259, 444, 443, 260, 445, 444, 467, 342, 445, 459, 458, 250, 289, 392, 290, 290, 328, 460, 376, 433, 435, 250, 290, 392, 411, 416, 433, 341, 463, 464, 453, 464, 465, 357, 465, 412, 343, 412, 399, 360, 363, 440, 437, 399, 456, 420, 456, 363, 401, 435, 288, 372, 383, 353, 339, 255, 249, 448, 261, 255, 133, 243, 190, 133, 155, 112, 33, 246, 247, 33, 130, 25, 398, 384, 286, 362, 398, 414, 362, 463, 341, 263, 359, 467, 263, 249, 255, 466, 467, 260, 75, 60, 166, 238, 239, 79, 162, 127, 139, 72, 11, 37, 121, 232, 120, 73, 72, 39, 114, 128, 47, 233, 232, 128, 103, 104, 67, 152, 175, 148, 173, 157, 155, 119, 118, 101, 74, 73, 40, 107, 9, 108, 49, 48, 131, 32, 194, 211, 184, 74, 185, 191, 80, 183, 185, 40, 186, 119, 230, 118, 210, 202, 214, 84, 83, 17, 77, 76, 146, 161, 160, 30, 190, 56, 173, 182, 106, 194, 138, 135, 192, 129, 203, 98, 54, 21, 68, 5, 51, 4, 145, 144, 23, 90, 77, 91, 207, 205, 187, 83, 201, 18, 181, 91, 182, 180, 90, 181, 16, 85, 17, 205, 206, 36, 176, 148, 140, 165, 92, 39, 245, 193, 244, 27, 159, 28, 30, 247, 161, 174, 236, 196, 103, 54, 104, 55, 193, 8, 111, 117, 31, 221, 189, 55, 240, 98, 99, 142, 126, 100, 219, 166, 218, 112, 155, 26, 198, 209, 131, 169, 135, 150, 114, 47, 217, 224, 223, 53, 220, 45, 134, 32, 211, 140, 109, 67, 108, 146, 43, 91, 231, 230, 120, 113, 226, 247, 105, 63, 52, 241, 238, 242, 124, 46, 156, 95, 78, 96, 70, 46, 63, 116, 143, 227, 116, 123, 111, 1, 44, 19, 3, 236, 51, 207, 216, 205, 26, 154, 22, 165, 39, 167, 199, 200, 208, 101, 36, 100, 43, 57, 202, 242, 20, 99, 56, 28, 157, 124, 35, 113, 29, 160, 27, 211, 204, 210, 124, 113, 46, 106, 43, 204, 96, 62, 77, 227, 137, 116, 73, 41, 72, 36, 203, 142, 235, 64, 240, 48, 49, 64, 42, 41, 74, 214, 212, 207, 183, 42, 184, 210, 169, 211, 140, 170, 176, 104, 105, 69, 193, 122, 168, 50, 123, 187, 89, 96, 90, 66, 65, 107, 179, 89, 180, 119, 101, 120, 68, 63, 104, 234, 93, 227, 16, 15, 85, 209, 129, 49, 15, 14, 86, 107, 55, 9, 120, 100, 121, 153, 145, 22, 178, 88, 179, 197, 6, 196, 89, 88, 96, 135, 138, 136, 138, 215, 172, 218, 115, 219, 41, 42, 81, 5, 195, 51, 57, 43, 61, 208, 171, 199, 41, 81, 38, 224, 53, 225, 24, 144, 110, 105, 52, 66, 118, 229, 117, 227, 34, 234, 66, 107, 69, 10, 109, 151, 219, 48, 235, 183, 62, 191, 142, 129, 126, 116, 111, 143, 7, 163, 246, 118, 117, 50, 223, 222, 52, 94, 19, 141, 222, 221, 65, 196, 3, 197, 45, 220, 44, 156, 70, 139, 188, 122, 245, 139, 71, 162, 145, 153, 159, 149, 170, 150, 122, 188, 196, 206, 216, 92, 163, 144, 161, 164, 2, 167, 242, 141, 241, 0, 164, 37, 11, 72, 12, 144, 145, 160, 12, 38, 13, 70, 63, 71, 31, 226, 111, 157, 158, 154, 36, 101, 205, 203, 206, 165, 126, 209, 217, 98, 165, 97, 237, 220, 218, 237, 239, 241, 210, 214, 169, 140, 171, 32, 241, 125, 237, 179, 86, 178, 180, 85, 179, 181, 84, 180, 182, 83, 181, 194, 201, 182, 177, 137, 132, 184, 76, 183, 185, 61, 184, 186, 57, 185, 216, 212, 186, 192, 214, 187, 139, 34, 156, 218, 79, 237, 147, 123, 177, 45, 44, 4, 208, 201, 32, 98, 64, 129, 192, 213, 138, 235, 59, 219, 141, 242, 97, 97, 2, 141, 240, 75, 235, 229, 24, 228, 31, 25, 226, 230, 23, 229, 231, 22, 230, 232, 26, 231, 233, 112, 232, 244, 189, 243, 189, 221, 190, 222, 28, 221, 223, 27, 222, 224, 29, 223, 225, 30, 224, 113, 247, 225, 99, 60, 240, 213, 147, 215, 60, 20, 166, 192, 187, 213, 243, 112, 244, 244, 233, 245, 245, 128, 188, 188, 114, 174, 134, 131, 220, 174, 217, 236, 236, 198, 134, 215, 177, 58, 156, 143, 124, 25, 110, 7, 31, 228, 25, 264, 356, 368, 0, 11, 267, 451, 452, 349, 267, 302, 269, 350, 357, 277, 350, 452, 357, 299, 333, 297, 396, 175, 377, 381, 384, 382, 280, 347, 330, 269, 303, 270, 151, 9, 337, 344, 278, 360, 424, 418, 431, 270, 304, 409, 272, 310, 407, 322, 270, 410, 449, 450, 347, 432, 422, 434, 18, 313, 17, 291, 306, 375, 259, 387, 260, 424, 335, 418, 434, 364, 416, 391, 423, 327, 301, 251, 298, 275, 281, 4, 254, 373, 253, 375, 307, 321, 280, 425, 411, 200, 421, 18, 335, 321, 406, 321, 320, 405, 314, 315, 17, 423, 426, 266, 396, 377, 369, 270, 322, 269, 413, 417, 464, 385, 386, 258, 248, 456, 419, 298, 284, 333, 168, 417, 8, 448, 346, 261, 417, 413, 285, 326, 327, 328, 277, 355, 329, 309, 392, 438, 381, 382, 256, 279, 429, 360, 365, 364, 379, 355, 277, 437, 282, 443, 283, 281, 275, 363, 395, 431, 369, 299, 297, 337, 335, 273, 321, 348, 450, 349, 359, 446, 467, 283, 293, 282, 250, 458, 462, 300, 276, 383, 292, 308, 325, 283, 276, 293, 264, 372, 447, 346, 352, 340, 354, 274, 19, 363, 456, 281, 426, 436, 425, 380, 381, 252, 267, 269, 393, 421, 200, 428, 371, 266, 329, 432, 287, 422, 290, 250, 328, 385, 258, 384, 446, 265, 342, 386, 387, 257, 422, 424, 430, 445, 342, 276, 422, 273, 424, 306, 292, 307, 352, 366, 345, 268, 271, 302, 358, 423, 371, 327, 294, 460, 331, 279, 294, 303, 271, 304, 436, 432, 427, 304, 272, 408, 395, 394, 431, 378, 395, 400, 296, 334, 299, 6, 351, 168, 376, 352, 411, 307, 325, 320, 285, 295, 336, 320, 319, 404, 329, 330, 349, 334, 293, 333, 366, 323, 447, 316, 15, 315, 331, 358, 279, 317, 14, 316, 8, 285, 9, 277, 329, 350, 253, 374, 252, 319, 318, 403, 351, 6, 419, 324, 318, 325, 397, 367, 365, 288, 435, 397, 278, 344, 439, 310, 272, 311, 248, 195, 281, 375, 273, 291, 175, 396, 199, 312, 311, 268, 276, 283, 445, 390, 373, 339, 295, 282, 296, 448, 449, 346, 356, 264, 454, 337, 336, 299, 337, 338, 151, 294, 278, 455, 308, 292, 415, 429, 358, 355, 265, 340, 372, 388, 390, 466, 352, 346, 280, 295, 442, 282, 354, 19, 370, 285, 441, 295, 195, 248, 197, 457, 440, 274, 301, 300, 368, 417, 351, 465, 251, 301, 389, 385, 380, 386, 394, 395, 379, 399, 412, 419, 410, 436, 322, 387, 373, 388, 326, 2, 393, 354, 370, 461, 393, 164, 267, 268, 302, 12, 386, 374, 387, 312, 268, 13, 298, 293, 301, 265, 446, 340, 380, 385, 381, 280, 330, 425, 322, 426, 391, 420, 429, 437, 393, 391, 326, 344, 440, 438, 458, 459, 461, 364, 434, 394, 428, 396, 262, 274, 354, 457, 317, 316, 402, 316, 315, 403, 315, 314, 404, 314, 313, 405, 313, 421, 406, 323, 366, 361, 292, 306, 407, 306, 291, 408, 291, 287, 409, 287, 432, 410, 427, 434, 411, 372, 264, 383, 459, 309, 457, 366, 352, 401, 1, 274, 4, 418, 421, 262, 331, 294, 358, 435, 433, 367, 392, 289, 439, 328, 462, 326, 94, 2, 370, 289, 305, 455, 339, 254, 448, 359, 255, 446, 254, 253, 449, 253, 252, 450, 252, 256, 451, 256, 341, 452, 414, 413, 463, 286, 441, 414, 286, 258, 441, 258, 257, 442, 257, 259, 443, 259, 260, 444, 260, 467, 445, 309, 459, 250, 305, 289, 290, 305, 290, 460, 401, 376, 435, 309, 250, 392, 376, 411, 433, 453, 341, 464, 357, 453, 465, 343, 357, 412, 437, 343, 399, 344, 360, 440, 420, 437, 456, 360, 420, 363, 361, 401, 288, 265, 372, 353, 390, 339, 249, 339, 448, 255],\n  // My face as default (captured with a 640x480 webcam)\n  // prettier-ignore\n  SAMPLE_FACE: {\n    \"keypoints\": [{\n      \"x\": 356.2804412841797,\n      \"y\": 295.1960563659668,\n      \"z\": -23.786449432373047,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 354.8859405517578,\n      \"y\": 264.69520568847656,\n      \"z\": -36.718435287475586\n    }, {\n      \"x\": 355.2180862426758,\n      \"y\": 275.3360366821289,\n      \"z\": -21.183712482452393\n    }, {\n      \"x\": 347.349853515625,\n      \"y\": 242.4400234222412,\n      \"z\": -25.093655586242676\n    }, {\n      \"x\": 354.40135955810547,\n      \"y\": 256.67933464050293,\n      \"z\": -38.23572635650635\n    }, {\n      \"x\": 353.7689971923828,\n      \"y\": 247.54886627197266,\n      \"z\": -34.5475435256958\n    }, {\n      \"x\": 352.1288299560547,\n      \"y\": 227.34312057495117,\n      \"z\": -13.095386028289795\n    }, {\n      \"x\": 303.5013198852539,\n      \"y\": 234.67002868652344,\n      \"z\": 12.500141859054565,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 351.09378814697266,\n      \"y\": 211.87547206878662,\n      \"z\": -6.413471698760986\n    }, {\n      \"x\": 350.7115936279297,\n      \"y\": 202.1251630783081,\n      \"z\": -6.413471698760986\n    }, {\n      \"x\": 348.33667755126953,\n      \"y\": 168.7741756439209,\n      \"z\": 6.483500003814697,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 356.4806365966797,\n      \"y\": 299.2995357513428,\n      \"z\": -23.144519329071045\n    }, {\n      \"x\": 356.5511703491211,\n      \"y\": 302.66146659851074,\n      \"z\": -21.020312309265137\n    }, {\n      \"x\": 356.6239547729492,\n      \"y\": 304.1536331176758,\n      \"z\": -18.137459754943848,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 356.5807342529297,\n      \"y\": 305.1840591430664,\n      \"z\": -18.767719268798828,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 356.8241500854492,\n      \"y\": 308.25711250305176,\n      \"z\": -20.16829490661621\n    }, {\n      \"x\": 357.113037109375,\n      \"y\": 312.26277351379395,\n      \"z\": -22.10575819015503\n    }, {\n      \"x\": 357.34962463378906,\n      \"y\": 317.1123218536377,\n      \"z\": -21.837315559387207,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 357.6658630371094,\n      \"y\": 325.51036834716797,\n      \"z\": -16.27002477645874\n    }, {\n      \"x\": 355.0201416015625,\n      \"y\": 269.36279296875,\n      \"z\": -33.73054027557373\n    }, {\n      \"x\": 348.5237503051758,\n      \"y\": 270.33411026000977,\n      \"z\": -24.93025302886963\n    }, {\n      \"x\": 279.97331619262695,\n      \"y\": 213.24176788330078,\n      \"z\": 47.759642601013184,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 322.66529083251953,\n      \"y\": 238.5027265548706,\n      \"z\": 5.535193085670471\n    }, {\n      \"x\": 316.0983657836914,\n      \"y\": 239.94489669799805,\n      \"z\": 5.777376294136047\n    }, {\n      \"x\": 309.9431610107422,\n      \"y\": 240.24518966674805,\n      \"z\": 7.510589361190796\n    }, {\n      \"x\": 301.31994247436523,\n      \"y\": 237.86138534545898,\n      \"z\": 13.118728399276733\n    }, {\n      \"x\": 328.14266204833984,\n      \"y\": 235.80496788024902,\n      \"z\": 6.646900177001953\n    }, {\n      \"x\": 313.7326431274414,\n      \"y\": 222.11161136627197,\n      \"z\": 3.9887237548828125\n    }, {\n      \"x\": 320.45196533203125,\n      \"y\": 221.87729358673096,\n      \"z\": 4.601476192474365\n    }, {\n      \"x\": 307.35679626464844,\n      \"y\": 223.63793849945068,\n      \"z\": 5.932023525238037\n    }, {\n      \"x\": 303.0031204223633,\n      \"y\": 226.3743782043457,\n      \"z\": 8.479321002960205\n    }, {\n      \"x\": 296.80023193359375,\n      \"y\": 242.94299125671387,\n      \"z\": 15.931552648544312\n    }, {\n      \"x\": 332.2352981567383,\n      \"y\": 340.77341079711914,\n      \"z\": -10.165848731994629\n    }, {\n      \"x\": 301.38587951660156,\n      \"y\": 233.46447944641113,\n      \"z\": 14.764405488967896,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 279.0147018432617,\n      \"y\": 244.37155723571777,\n      \"z\": 45.77549457550049\n    }, {\n      \"x\": 289.60548400878906,\n      \"y\": 239.1807460784912,\n      \"z\": 23.191204071044922\n    }, {\n      \"x\": 320.32257080078125,\n      \"y\": 267.1292781829834,\n      \"z\": -4.954537749290466\n    }, {\n      \"x\": 347.64583587646484,\n      \"y\": 294.4955062866211,\n      \"z\": -23.062820434570312,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 349.28138732910156,\n      \"y\": 303.1095886230469,\n      \"z\": -20.238323211669922\n    }, {\n      \"x\": 338.9453125,\n      \"y\": 298.19186210632324,\n      \"z\": -19.456336498260498,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 333.36788177490234,\n      \"y\": 302.6706790924072,\n      \"z\": -14.776077270507812,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 342.89188385009766,\n      \"y\": 304.3561363220215,\n      \"z\": -17.752301692962646\n    }, {\n      \"x\": 337.7375030517578,\n      \"y\": 306.0098361968994,\n      \"z\": -13.410515785217285\n    }, {\n      \"x\": 325.6159210205078,\n      \"y\": 316.22995376586914,\n      \"z\": -6.681914925575256\n    }, {\n      \"x\": 349.0104675292969,\n      \"y\": 264.9818515777588,\n      \"z\": -36.274919509887695\n    }, {\n      \"x\": 347.7138900756836,\n      \"y\": 257.5664806365967,\n      \"z\": -37.67549514770508\n    }, {\n      \"x\": 291.79357528686523,\n      \"y\": 218.88171672821045,\n      \"z\": 11.578094959259033,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 332.2689437866211,\n      \"y\": 247.56946563720703,\n      \"z\": -3.3730539679527283\n    }, {\n      \"x\": 332.0074462890625,\n      \"y\": 267.1201229095459,\n      \"z\": -19.969879388809204\n    }, {\n      \"x\": 331.27952575683594,\n      \"y\": 263.6967658996582,\n      \"z\": -17.47218608856201\n    }, {\n      \"x\": 301.04373931884766,\n      \"y\": 269.56552505493164,\n      \"z\": 3.61815482378006\n    }, {\n      \"x\": 347.4863815307617,\n      \"y\": 249.0706443786621,\n      \"z\": -32.633421421051025\n    }, {\n      \"x\": 307.26118087768555,\n      \"y\": 208.2646894454956,\n      \"z\": 1.1591226607561111,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 297.91919708251953,\n      \"y\": 212.22604751586914,\n      \"z\": 5.914516448974609,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 285.1651382446289,\n      \"y\": 197.98450469970703,\n      \"z\": 36.391637325286865,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 337.04097747802734,\n      \"y\": 211.25229835510254,\n      \"z\": -4.548954665660858\n    }, {\n      \"x\": 326.5912628173828,\n      \"y\": 223.16698551177979,\n      \"z\": 6.670243740081787\n    }, {\n      \"x\": 320.05664825439453,\n      \"y\": 309.5834255218506,\n      \"z\": -4.055835008621216\n    }, {\n      \"x\": 289.6866226196289,\n      \"y\": 314.617395401001,\n      \"z\": 53.875489234924316,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 337.4256896972656,\n      \"y\": 270.8755302429199,\n      \"z\": -17.67060160636902\n    }, {\n      \"x\": 343.69922637939453,\n      \"y\": 273.0000400543213,\n      \"z\": -18.756048679351807\n    }, {\n      \"x\": 327.4242401123047,\n      \"y\": 309.22399520874023,\n      \"z\": -4.703601002693176,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 330.37220001220703,\n      \"y\": 308.3323001861572,\n      \"z\": -6.442649960517883\n    }, {\n      \"x\": 293.87027740478516,\n      \"y\": 207.7961826324463,\n      \"z\": 9.821539521217346,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 332.11437225341797,\n      \"y\": 271.22812271118164,\n      \"z\": -16.64351224899292\n    }, {\n      \"x\": 320.1197814941406,\n      \"y\": 207.40366458892822,\n      \"z\": -2.48164564371109,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 318.59575271606445,\n      \"y\": 201.07443809509277,\n      \"z\": -3.110446035861969,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 310.72303771972656,\n      \"y\": 175.75075149536133,\n      \"z\": 13.328815698623657,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 289.67578887939453,\n      \"y\": 202.29835510253906,\n      \"z\": 21.370456218719482\n    }, {\n      \"x\": 315.30879974365234,\n      \"y\": 187.35260009765625,\n      \"z\": 5.0304025411605835\n    }, {\n      \"x\": 287.8936767578125,\n      \"y\": 216.54793739318848,\n      \"z\": 17.81065821647644,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 283.9391899108887,\n      \"y\": 215.01142501831055,\n      \"z\": 32.04984903335571\n    }, {\n      \"x\": 348.35330963134766,\n      \"y\": 299.4155788421631,\n      \"z\": -22.47924566268921\n    }, {\n      \"x\": 341.1790466308594,\n      \"y\": 301.8221855163574,\n      \"z\": -18.977805376052856\n    }, {\n      \"x\": 335.69713592529297,\n      \"y\": 304.4266891479492,\n      \"z\": -14.682706594467163\n    }, {\n      \"x\": 339.4615173339844,\n      \"y\": 272.3654365539551,\n      \"z\": -16.38674020767212\n    }, {\n      \"x\": 328.99600982666016,\n      \"y\": 308.86685371398926,\n      \"z\": -5.616893768310547\n    }, {\n      \"x\": 332.00313568115234,\n      \"y\": 309.1875743865967,\n      \"z\": -10.335084199905396\n    }, {\n      \"x\": 331.0068130493164,\n      \"y\": 307.9274368286133,\n      \"z\": -6.681914925575256,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 341.13792419433594,\n      \"y\": 266.4876937866211,\n      \"z\": -26.56425952911377\n    }, {\n      \"x\": 339.02950286865234,\n      \"y\": 305.6663703918457,\n      \"z\": -12.33674168586731,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 344.22935485839844,\n      \"y\": 304.9452781677246,\n      \"z\": -15.161235332489014,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 350.1844024658203,\n      \"y\": 304.374303817749,\n      \"z\": -17.5305438041687,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 348.52630615234375,\n      \"y\": 325.9562301635742,\n      \"z\": -16.164982318878174\n    }, {\n      \"x\": 348.6581802368164,\n      \"y\": 317.1624183654785,\n      \"z\": -21.510512828826904,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 348.9766311645508,\n      \"y\": 312.1923065185547,\n      \"z\": -21.708929538726807\n    }, {\n      \"x\": 349.2427444458008,\n      \"y\": 308.0660820007324,\n      \"z\": -19.643079042434692\n    }, {\n      \"x\": 349.67491149902344,\n      \"y\": 305.42747497558594,\n      \"z\": -18.16080331802368,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 337.95589447021484,\n      \"y\": 306.6535949707031,\n      \"z\": -12.803598642349243,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 337.06878662109375,\n      \"y\": 307.63169288635254,\n      \"z\": -14.274203777313232\n    }, {\n      \"x\": 335.77449798583984,\n      \"y\": 309.8449516296387,\n      \"z\": -15.698124170303345\n    }, {\n      \"x\": 334.6099090576172,\n      \"y\": 312.7997016906738,\n      \"z\": -14.764405488967896,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 327.2330856323242,\n      \"y\": 293.80866050720215,\n      \"z\": -11.864047050476074\n    }, {\n      \"x\": 280.97679138183594,\n      \"y\": 279.79928970336914,\n      \"z\": 68.90834331512451,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 355.13843536376953,\n      \"y\": 271.7875671386719,\n      \"z\": -25.350427627563477\n    }, {\n      \"x\": 334.7235870361328,\n      \"y\": 307.4656391143799,\n      \"z\": -9.302158951759338,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 333.5293960571289,\n      \"y\": 307.89782524108887,\n      \"z\": -10.200862884521484\n    }, {\n      \"x\": 346.29688262939453,\n      \"y\": 276.4256286621094,\n      \"z\": -19.748122692108154\n    }, {\n      \"x\": 335.16246795654297,\n      \"y\": 276.22097969055176,\n      \"z\": -12.313398122787476\n    }, {\n      \"x\": 345.09132385253906,\n      \"y\": 274.7082996368408,\n      \"z\": -19.304605722427368\n    }, {\n      \"x\": 325.4267883300781,\n      \"y\": 252.95130729675293,\n      \"z\": -1.6661019623279572\n    }, {\n      \"x\": 315.347843170166,\n      \"y\": 259.05200958251953,\n      \"z\": -0.25604281574487686\n    }, {\n      \"x\": 330.44933319091797,\n      \"y\": 267.7570152282715,\n      \"z\": -14.017432928085327\n    }, {\n      \"x\": 294.96768951416016,\n      \"y\": 185.26001930236816,\n      \"z\": 23.903164863586426,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 299.63531494140625,\n      \"y\": 192.7913761138916,\n      \"z\": 12.640198469161987\n    }, {\n      \"x\": 304.5452117919922,\n      \"y\": 202.4142837524414,\n      \"z\": 3.244667649269104,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 331.6915512084961,\n      \"y\": 320.0467872619629,\n      \"z\": -10.632705688476562\n    }, {\n      \"x\": 334.5911407470703,\n      \"y\": 201.27566814422607,\n      \"z\": -6.133356094360352,\n      \"name\": \"rightEyebrow\"\n    }, {\n      \"x\": 331.4815902709961,\n      \"y\": 185.44180870056152,\n      \"z\": 0.6627205014228821\n    }, {\n      \"x\": 328.05816650390625,\n      \"y\": 170.8385467529297,\n      \"z\": 7.358860373497009,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 304.49764251708984,\n      \"y\": 239.76297855377197,\n      \"z\": 10.387605428695679\n    }, {\n      \"x\": 290.6382179260254,\n      \"y\": 248.85257720947266,\n      \"z\": 19.03616428375244\n    }, {\n      \"x\": 331.5682601928711,\n      \"y\": 233.20727348327637,\n      \"z\": 7.837390303611755\n    }, {\n      \"x\": 295.5115509033203,\n      \"y\": 228.9834451675415,\n      \"z\": 14.41426157951355\n    }, {\n      \"x\": 336.94332122802734,\n      \"y\": 241.8259334564209,\n      \"z\": -5.27842104434967\n    }, {\n      \"x\": 336.2792205810547,\n      \"y\": 262.7049922943115,\n      \"z\": -26.12074375152588\n    }, {\n      \"x\": 284.4102478027344,\n      \"y\": 255.3262710571289,\n      \"z\": 25.467140674591064\n    }, {\n      \"x\": 295.1420593261719,\n      \"y\": 253.02655220031738,\n      \"z\": 12.430112361907959\n    }, {\n      \"x\": 303.5196113586426,\n      \"y\": 254.20703887939453,\n      \"z\": 6.139191389083862\n    }, {\n      \"x\": 315.73450088500977,\n      \"y\": 251.64799690246582,\n      \"z\": 3.3788898587226868\n    }, {\n      \"x\": 324.69661712646484,\n      \"y\": 247.56494522094727,\n      \"z\": 2.3328344523906708\n    }, {\n      \"x\": 331.57970428466797,\n      \"y\": 243.02241325378418,\n      \"z\": 1.1423448473215103\n    }, {\n      \"x\": 345.6210708618164,\n      \"y\": 229.9976634979248,\n      \"z\": -10.825285911560059\n    }, {\n      \"x\": 286.26644134521484,\n      \"y\": 270.37991523742676,\n      \"z\": 21.708929538726807\n    }, {\n      \"x\": 290.2525520324707,\n      \"y\": 228.4921360015869,\n      \"z\": 17.71728754043579\n    }, {\n      \"x\": 351.65367126464844,\n      \"y\": 269.3400764465332,\n      \"z\": -33.450424671173096\n    }, {\n      \"x\": 333.1378936767578,\n      \"y\": 253.88388633728027,\n      \"z\": -7.230473756790161\n    }, {\n      \"x\": 277.8318977355957,\n      \"y\": 246.95331573486328,\n      \"z\": 68.20805549621582,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 336.6680908203125,\n      \"y\": 238.10003757476807,\n      \"z\": 0.7688578963279724\n    }, {\n      \"x\": 329.95800018310547,\n      \"y\": 269.18323516845703,\n      \"z\": -7.207130789756775\n    }, {\n      \"x\": 299.17491912841797,\n      \"y\": 234.13324356079102,\n      \"z\": 15.95489501953125\n    }, {\n      \"x\": 335.61729431152344,\n      \"y\": 258.71752738952637,\n      \"z\": -23.016133308410645\n    }, {\n      \"x\": 284.1079330444336,\n      \"y\": 297.0343494415283,\n      \"z\": 63.25934886932373,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 331.44542694091797,\n      \"y\": 230.6892442703247,\n      \"z\": 9.92658257484436,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 341.41536712646484,\n      \"y\": 253.01264762878418,\n      \"z\": -29.038610458374023\n    }, {\n      \"x\": 303.5472869873047,\n      \"y\": 327.5896739959717,\n      \"z\": 16.725212335586548\n    }, {\n      \"x\": 304.7756576538086,\n      \"y\": 337.4389457702637,\n      \"z\": 27.38126277923584,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 280.80501556396484,\n      \"y\": 275.32050132751465,\n      \"z\": 45.0752067565918\n    }, {\n      \"x\": 295.43582916259766,\n      \"y\": 318.4501647949219,\n      \"z\": 26.2608003616333\n    }, {\n      \"x\": 281.4303207397461,\n      \"y\": 228.7355661392212,\n      \"z\": 40.94350814819336\n    }, {\n      \"x\": 331.2549591064453,\n      \"y\": 349.4216537475586,\n      \"z\": -7.376367449760437\n    }, {\n      \"x\": 352.4247741699219,\n      \"y\": 271.7330074310303,\n      \"z\": -24.953596591949463\n    }, {\n      \"x\": 327.5672912597656,\n      \"y\": 260.41900634765625,\n      \"z\": -5.456410646438599\n    }, {\n      \"x\": 284.5432472229004,\n      \"y\": 241.7647933959961,\n      \"z\": 29.668869972229004\n    }, {\n      \"x\": 310,\n      \"y\": 235.66174507141113,\n      \"z\": 8.502663969993591,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 315.7071113586426,\n      \"y\": 235.7572603225708,\n      \"z\": 6.938687562942505,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 330.41088104248047,\n      \"y\": 311.04143142700195,\n      \"z\": -9.325502514839172,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 288.5377502441406,\n      \"y\": 285.31983375549316,\n      \"z\": 21.837315559387207\n    }, {\n      \"x\": 344.55039978027344,\n      \"y\": 359.4300842285156,\n      \"z\": -6.705257892608643,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 323.41880798339844,\n      \"y\": 351.67362213134766,\n      \"z\": 7.802375555038452,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 314.64088439941406,\n      \"y\": 346.11894607543945,\n      \"z\": 16.36339783668518,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 349.4945526123047,\n      \"y\": 184.8434829711914,\n      \"z\": -0.21847527474164963\n    }, {\n      \"x\": 359.24694061279297,\n      \"y\": 359.8348903656006,\n      \"z\": -8.403456211090088,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 321.26182556152344,\n      \"y\": 234.64492321014404,\n      \"z\": 6.90950870513916,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 326.318359375,\n      \"y\": 232.90250301361084,\n      \"z\": 8.029969334602356,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 329.6211624145508,\n      \"y\": 231.6195774078369,\n      \"z\": 9.722331762313843,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 285.9398078918457,\n      \"y\": 228.2351303100586,\n      \"z\": 24.650139808654785\n    }, {\n      \"x\": 325.79288482666016,\n      \"y\": 227.88007736206055,\n      \"z\": 7.469738721847534,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 320.1699447631836,\n      \"y\": 227.5934886932373,\n      \"z\": 6.168370842933655,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 314.85408782958984,\n      \"y\": 227.85282611846924,\n      \"z\": 6.2675780057907104,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 309.3084907531738,\n      \"y\": 229.1516876220703,\n      \"z\": 7.7031683921813965,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 305.5621337890625,\n      \"y\": 230.92366218566895,\n      \"z\": 9.722331762313843,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 277.8681945800781,\n      \"y\": 228.5354232788086,\n      \"z\": 59.71122741699219,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 306.1444664001465,\n      \"y\": 235.1954698562622,\n      \"z\": 10.603528022766113,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 355.4478454589844,\n      \"y\": 281.96210861206055,\n      \"z\": -20.565123558044434\n    }, {\n      \"x\": 333.02661895751953,\n      \"y\": 288.0105400085449,\n      \"z\": -14.72939133644104\n    }, {\n      \"x\": 337.15728759765625,\n      \"y\": 269.2059516906738,\n      \"z\": -19.8414945602417\n    }, {\n      \"x\": 345.9898376464844,\n      \"y\": 283.5453128814697,\n      \"z\": -20.4834246635437\n    }, {\n      \"x\": 351.48963928222656,\n      \"y\": 219.98916149139404,\n      \"z\": -7.0378947257995605\n    }, {\n      \"x\": 312.39574432373047,\n      \"y\": 336.50628089904785,\n      \"z\": 8.671900033950806\n    }, {\n      \"x\": 321.32152557373047,\n      \"y\": 343.1755256652832,\n      \"z\": 0.9067271649837494\n    }, {\n      \"x\": 343.78379821777344,\n      \"y\": 353.2975959777832,\n      \"z\": -14.355905055999756\n    }, {\n      \"x\": 296.8791389465332,\n      \"y\": 327.91497230529785,\n      \"z\": 41.01353645324707,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 329.6939468383789,\n      \"y\": 229.27897453308105,\n      \"z\": 8.934508562088013,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 341.6905212402344,\n      \"y\": 241.4073657989502,\n      \"z\": -14.589333534240723\n    }, {\n      \"x\": 359.03079986572266,\n      \"y\": 353.48859786987305,\n      \"z\": -15.803166627883911\n    }, {\n      \"x\": 333.1861877441406,\n      \"y\": 356.43213272094727,\n      \"z\": -1.0234417766332626,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 283.97483825683594,\n      \"y\": 291.4318656921387,\n      \"z\": 41.94725513458252\n    }, {\n      \"x\": 343.33770751953125,\n      \"y\": 305.830135345459,\n      \"z\": -15.756480693817139,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 342.40283966064453,\n      \"y\": 307.7453899383545,\n      \"z\": -17.4021577835083\n    }, {\n      \"x\": 341.53621673583984,\n      \"y\": 311.0595703125,\n      \"z\": -19.047834873199463\n    }, {\n      \"x\": 340.9107208251953,\n      \"y\": 315.4837703704834,\n      \"z\": -18.5576331615448,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 339.1478729248047,\n      \"y\": 323.42233657836914,\n      \"z\": -14.367576837539673\n    }, {\n      \"x\": 333.3201599121094,\n      \"y\": 307.4406337738037,\n      \"z\": -9.617288708686829\n    }, {\n      \"x\": 331.2411117553711,\n      \"y\": 306.9811820983887,\n      \"z\": -9.669809937477112\n    }, {\n      \"x\": 329.23255920410156,\n      \"y\": 306.0508346557617,\n      \"z\": -9.582273960113525,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 322.4586486816406,\n      \"y\": 301.33323669433594,\n      \"z\": -7.720675468444824\n    }, {\n      \"x\": 297.1712112426758,\n      \"y\": 286.9552803039551,\n      \"z\": 8.240055441856384\n    }, {\n      \"x\": 341.3060760498047,\n      \"y\": 235.4432201385498,\n      \"z\": -7.504753470420837\n    }, {\n      \"x\": 336.9318389892578,\n      \"y\": 224.3451976776123,\n      \"z\": 5.829898118972778\n    }, {\n      \"x\": 332.65323638916016,\n      \"y\": 226.70403957366943,\n      \"z\": 8.105834126472473\n    }, {\n      \"x\": 334.67357635498047,\n      \"y\": 306.4397621154785,\n      \"z\": -8.981193900108337,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 297.4601936340332,\n      \"y\": 306.29210472106934,\n      \"z\": 15.476365089416504\n    }, {\n      \"x\": 342.9119110107422,\n      \"y\": 222.37077713012695,\n      \"z\": -2.754466235637665\n    }, {\n      \"x\": 335.4629898071289,\n      \"y\": 332.20250129699707,\n      \"z\": -11.823196411132812\n    }, {\n      \"x\": 353.2412338256836,\n      \"y\": 240.56339263916016,\n      \"z\": -27.147831916809082\n    }, {\n      \"x\": 346.3080596923828,\n      \"y\": 236.41446590423584,\n      \"z\": -18.452589511871338\n    }, {\n      \"x\": 352.6475143432617,\n      \"y\": 234.1420555114746,\n      \"z\": -19.748122692108154\n    }, {\n      \"x\": 337.3209762573242,\n      \"y\": 253.39937210083008,\n      \"z\": -16.024924516677856\n    }, {\n      \"x\": 358.6122131347656,\n      \"y\": 344.90861892700195,\n      \"z\": -18.592647314071655\n    }, {\n      \"x\": 358.1117248535156,\n      \"y\": 334.64990615844727,\n      \"z\": -17.49552845954895\n    }, {\n      \"x\": 346.4450454711914,\n      \"y\": 335.0321102142334,\n      \"z\": -16.32838249206543\n    }, {\n      \"x\": 319.17640686035156,\n      \"y\": 320.2833938598633,\n      \"z\": -3.276764452457428\n    }, {\n      \"x\": 325.2540588378906,\n      \"y\": 276.2369728088379,\n      \"z\": -6.460157036781311\n    }, {\n      \"x\": 326.7214584350586,\n      \"y\": 327.3939514160156,\n      \"z\": -7.417217493057251\n    }, {\n      \"x\": 310.7190132141113,\n      \"y\": 277.2265148162842,\n      \"z\": -3.5452082753181458\n    }, {\n      \"x\": 319.78355407714844,\n      \"y\": 284.8238182067871,\n      \"z\": -6.4543211460113525\n    }, {\n      \"x\": 305.773983001709,\n      \"y\": 290.83580017089844,\n      \"z\": 0.06907138042151928\n    }, {\n      \"x\": 344.4001770019531,\n      \"y\": 344.85408782958984,\n      \"z\": -16.946970224380493\n    }, {\n      \"x\": 333.1879425048828,\n      \"y\": 258.74256134033203,\n      \"z\": -11.90489649772644\n    }, {\n      \"x\": 313.80598068237305,\n      \"y\": 327.08919525146484,\n      \"z\": 2.2277912497520447\n    }, {\n      \"x\": 322.9637908935547,\n      \"y\": 334.6819496154785,\n      \"z\": -3.3643004298210144\n    }, {\n      \"x\": 313.4055519104004,\n      \"y\": 311.2166690826416,\n      \"z\": -1.1175429821014404\n    }, {\n      \"x\": 291.0865783691406,\n      \"y\": 298.2831001281738,\n      \"z\": 22.467575073242188\n    }, {\n      \"x\": 305.6580924987793,\n      \"y\": 313.3707904815674,\n      \"z\": 5.561453700065613\n    }, {\n      \"x\": 288.23760986328125,\n      \"y\": 305.9941864013672,\n      \"z\": 36.765122413635254\n    }, {\n      \"x\": 315.10692596435547,\n      \"y\": 296.26991271972656,\n      \"z\": -4.604393839836121\n    }, {\n      \"x\": 337.50518798828125,\n      \"y\": 247.5944423675537,\n      \"z\": -10.597691535949707\n    }, {\n      \"x\": 338.8450622558594,\n      \"y\": 265.47778129577637,\n      \"z\": -27.778091430664062\n    }, {\n      \"x\": 334.25254821777344,\n      \"y\": 269.0671920776367,\n      \"z\": -20.938611030578613\n    }, {\n      \"x\": 341.64512634277344,\n      \"y\": 259.6387195587158,\n      \"z\": -32.189905643463135\n    }, {\n      \"x\": 331.44081115722656,\n      \"y\": 219.0976095199585,\n      \"z\": 4.207563698291779\n    }, {\n      \"x\": 320.56339263916016,\n      \"y\": 216.49658203125,\n      \"z\": 2.930997312068939\n    }, {\n      \"x\": 311.21912002563477,\n      \"y\": 216.57853603363037,\n      \"z\": 2.9674705862998962\n    }, {\n      \"x\": 303.46256256103516,\n      \"y\": 218.54614734649658,\n      \"z\": 5.357203483581543\n    }, {\n      \"x\": 297.99999237060547,\n      \"y\": 222.505202293396,\n      \"z\": 9.325502514839172\n    }, {\n      \"x\": 294.93839263916016,\n      \"y\": 236.39654159545898,\n      \"z\": 18.534289598464966\n    }, {\n      \"x\": 278.87489318847656,\n      \"y\": 259.7095584869385,\n      \"z\": 45.68212032318115\n    }, {\n      \"x\": 300.3782653808594,\n      \"y\": 245.38593292236328,\n      \"z\": 12.278382778167725\n    }, {\n      \"x\": 307.06348419189453,\n      \"y\": 246.36857986450195,\n      \"z\": 8.164191246032715\n    }, {\n      \"x\": 315.5229187011719,\n      \"y\": 245.3949737548828,\n      \"z\": 5.503097176551819\n    }, {\n      \"x\": 323.71395111083984,\n      \"y\": 242.75178909301758,\n      \"z\": 4.6335723996162415\n    }, {\n      \"x\": 330.2785873413086,\n      \"y\": 239.34658527374268,\n      \"z\": 4.937030673027039\n    }, {\n      \"x\": 334.6982192993164,\n      \"y\": 236.0460376739502,\n      \"z\": 4.823233783245087\n    }, {\n      \"x\": 279.3412208557129,\n      \"y\": 263.5196113586426,\n      \"z\": 70.91583728790283,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 334.65972900390625,\n      \"y\": 271.6648578643799,\n      \"z\": -17.775644063949585\n    }, {\n      \"x\": 342.05677032470703,\n      \"y\": 246.99846267700195,\n      \"z\": -20.84523916244507\n    }, {\n      \"x\": 344.0357971191406,\n      \"y\": 264.5701503753662,\n      \"z\": -32.936880588531494\n    }, {\n      \"x\": 348.25531005859375,\n      \"y\": 268.6645030975342,\n      \"z\": -30.695960521697998\n    }, {\n      \"x\": 344.12227630615234,\n      \"y\": 266.34212493896484,\n      \"z\": -29.808926582336426\n    }, {\n      \"x\": 337.12318420410156,\n      \"y\": 274.2556858062744,\n      \"z\": -15.768152475357056\n    }, {\n      \"x\": 349.49047088623047,\n      \"y\": 269.071683883667,\n      \"z\": -32.51670837402344\n    }, {\n      \"x\": 350.1683044433594,\n      \"y\": 271.4691352844238,\n      \"z\": -24.93025302886963\n    }, {\n      \"x\": 333.9634704589844,\n      \"y\": 230.56639194488525,\n      \"z\": 8.89949381351471\n    }, {\n      \"x\": 338.2147979736328,\n      \"y\": 231.4807891845703,\n      \"z\": 4.6715047955513\n    }, {\n      \"x\": 340.4712677001953,\n      \"y\": 231.74463272094727,\n      \"z\": -0.34996166825294495\n    }, {\n      \"x\": 303.28975677490234,\n      \"y\": 232.24980354309082,\n      \"z\": 11.916568279266357,\n      \"name\": \"rightEye\"\n    }, {\n      \"x\": 299.4649124145508,\n      \"y\": 229.53842639923096,\n      \"z\": 12.325069904327393\n    }, {\n      \"x\": 359.09618377685547,\n      \"y\": 241.77349090576172,\n      \"z\": -24.650139808654785\n    }, {\n      \"x\": 399.46216583251953,\n      \"y\": 229.89503860473633,\n      \"z\": 15.919880867004395,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 361.38919830322266,\n      \"y\": 269.6129894256592,\n      \"z\": -24.510080814361572\n    }, {\n      \"x\": 416.9973373413086,\n      \"y\": 206.0895538330078,\n      \"z\": 53.26857566833496,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 381.32179260253906,\n      \"y\": 235.5476474761963,\n      \"z\": 7.6214683055877686\n    }, {\n      \"x\": 387.8068542480469,\n      \"y\": 236.25958442687988,\n      \"z\": 8.345099091529846\n    }, {\n      \"x\": 393.95751953125,\n      \"y\": 235.8660364151001,\n      \"z\": 10.475142002105713\n    }, {\n      \"x\": 401.84600830078125,\n      \"y\": 232.77019500732422,\n      \"z\": 16.760226488113403\n    }, {\n      \"x\": 375.70568084716797,\n      \"y\": 233.48456382751465,\n      \"z\": 8.234220147132874\n    }, {\n      \"x\": 388.17752838134766,\n      \"y\": 218.94717693328857,\n      \"z\": 6.810300946235657\n    }, {\n      \"x\": 381.64928436279297,\n      \"y\": 219.2656660079956,\n      \"z\": 6.711093783378601\n    }, {\n      \"x\": 394.4760513305664,\n      \"y\": 219.66821193695068,\n      \"z\": 9.173773527145386\n    }, {\n      \"x\": 398.8843536376953,\n      \"y\": 221.8837022781372,\n      \"z\": 12.03328251838684\n    }, {\n      \"x\": 406.5454864501953,\n      \"y\": 237.12156772613525,\n      \"z\": 19.7131085395813\n    }, {\n      \"x\": 383.87447357177734,\n      \"y\": 337.6932907104492,\n      \"z\": -8.631049990653992\n    }, {\n      \"x\": 401.2682342529297,\n      \"y\": 228.5916566848755,\n      \"z\": 18.359217643737793,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 422.0449447631836,\n      \"y\": 236.73934936523438,\n      \"z\": 51.16771221160889\n    }, {\n      \"x\": 412.69153594970703,\n      \"y\": 232.80198097229004,\n      \"z\": 27.52131938934326\n    }, {\n      \"x\": 387.3497772216797,\n      \"y\": 263.298397064209,\n      \"z\": -2.8609684109687805\n    }, {\n      \"x\": 364.5124053955078,\n      \"y\": 293.39221000671387,\n      \"z\": -22.397546768188477,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 363.62987518310547,\n      \"y\": 302.1291446685791,\n      \"z\": -19.643079042434692\n    }, {\n      \"x\": 373.2334518432617,\n      \"y\": 295.8647060394287,\n      \"z\": -18.125789165496826,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 378.83365631103516,\n      \"y\": 299.5177745819092,\n      \"z\": -13.153743743896484,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 369.91477966308594,\n      \"y\": 302.5704002380371,\n      \"z\": -16.65518283843994\n    }, {\n      \"x\": 374.9167251586914,\n      \"y\": 303.5416603088379,\n      \"z\": -11.963253021240234\n    }, {\n      \"x\": 387.58888244628906,\n      \"y\": 312.2716999053955,\n      \"z\": -4.680258631706238\n    }, {\n      \"x\": 360.6635284423828,\n      \"y\": 264.31986808776855,\n      \"z\": -35.94811677932739\n    }, {\n      \"x\": 361.04564666748047,\n      \"y\": 256.8225860595703,\n      \"z\": -37.278664112091064\n    }, {\n      \"x\": 408.3855438232422,\n      \"y\": 213.52088928222656,\n      \"z\": 15.756480693817139,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 373.2946014404297,\n      \"y\": 245.38101196289062,\n      \"z\": -1.9316278398036957\n    }, {\n      \"x\": 376.83860778808594,\n      \"y\": 264.3721103668213,\n      \"z\": -18.510947227478027\n    }, {\n      \"x\": 376.9546127319336,\n      \"y\": 261.0010528564453,\n      \"z\": -15.989909172058105\n    }, {\n      \"x\": 406.1498260498047,\n      \"y\": 263.5030174255371,\n      \"z\": 7.072908878326416\n    }, {\n      \"x\": 360.07205963134766,\n      \"y\": 248.3631706237793,\n      \"z\": -32.16656446456909\n    }, {\n      \"x\": 393.11119079589844,\n      \"y\": 205.10473251342773,\n      \"z\": 3.7786373496055603,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 402.12791442871094,\n      \"y\": 207.89000988006592,\n      \"z\": 9.383859634399414,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 410.8693313598633,\n      \"y\": 191.6182279586792,\n      \"z\": 41.27030849456787,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 364.9509811401367,\n      \"y\": 210.40483474731445,\n      \"z\": -3.758212625980377\n    }, {\n      \"x\": 375.94444274902344,\n      \"y\": 221.1331844329834,\n      \"z\": 8.368442058563232\n    }, {\n      \"x\": 392.1904754638672,\n      \"y\": 305.0360298156738,\n      \"z\": -1.752179116010666\n    }, {\n      \"x\": 419.50225830078125,\n      \"y\": 307.25592613220215,\n      \"z\": 58.96425247192383,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 372.0027160644531,\n      \"y\": 268.7212657928467,\n      \"z\": -16.631840467453003\n    }, {\n      \"x\": 366.1614227294922,\n      \"y\": 271.6237449645996,\n      \"z\": -18.219159841537476\n    }, {\n      \"x\": 385.00938415527344,\n      \"y\": 305.3863334655762,\n      \"z\": -2.567722797393799\n    }, {\n      \"x\": 381.99771881103516,\n      \"y\": 304.9723720550537,\n      \"z\": -4.575215280056\n    }, {\n      \"x\": 405.078125,\n      \"y\": 203.21216583251953,\n      \"z\": 13.713973760604858,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 377.13207244873047,\n      \"y\": 268.4710121154785,\n      \"z\": -15.266278982162476\n    }, {\n      \"x\": 380.9713363647461,\n      \"y\": 205.36980628967285,\n      \"z\": -0.7250899076461792,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 381.7788314819336,\n      \"y\": 198.9268398284912,\n      \"z\": -1.184653863310814,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 385.5204772949219,\n      \"y\": 172.1484375,\n      \"z\": 16.04826807975769,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 407.94189453125,\n      \"y\": 196.76236152648926,\n      \"z\": 25.723915100097656\n    }, {\n      \"x\": 383.03890228271484,\n      \"y\": 184.5157527923584,\n      \"z\": 7.393874526023865\n    }, {\n      \"x\": 411.61781311035156,\n      \"y\": 210.79241752624512,\n      \"z\": 22.315845489501953,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 414.30870056152344,\n      \"y\": 208.4643030166626,\n      \"z\": 37.021894454956055\n    }, {\n      \"x\": 364.28722381591797,\n      \"y\": 298.35777282714844,\n      \"z\": -21.86065673828125\n    }, {\n      \"x\": 371.3682556152344,\n      \"y\": 299.78848457336426,\n      \"z\": -17.834001779556274\n    }, {\n      \"x\": 376.88201904296875,\n      \"y\": 301.6696071624756,\n      \"z\": -13.153743743896484\n    }, {\n      \"x\": 370.2193832397461,\n      \"y\": 270.49095153808594,\n      \"z\": -15.569736957550049\n    }, {\n      \"x\": 383.5081100463867,\n      \"y\": 305.2726364135742,\n      \"z\": -3.673594295978546\n    }, {\n      \"x\": 380.73760986328125,\n      \"y\": 305.96869468688965,\n      \"z\": -8.660228252410889\n    }, {\n      \"x\": 381.2334442138672,\n      \"y\": 304.63574409484863,\n      \"z\": -4.820316135883331,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 368.1698989868164,\n      \"y\": 264.8884963989258,\n      \"z\": -25.653886795043945\n    }, {\n      \"x\": 373.5087203979492,\n      \"y\": 303.4233856201172,\n      \"z\": -10.95950722694397,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 368.4544372558594,\n      \"y\": 303.29601287841797,\n      \"z\": -14.169161319732666,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 362.76554107666016,\n      \"y\": 303.5735607147217,\n      \"z\": -16.911956071853638,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 366.60980224609375,\n      \"y\": 324.8870658874512,\n      \"z\": -15.616422891616821\n    }, {\n      \"x\": 365.7067108154297,\n      \"y\": 315.95678329467773,\n      \"z\": -20.903596878051758,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 365.0083923339844,\n      \"y\": 311.2232208251953,\n      \"z\": -21.066999435424805\n    }, {\n      \"x\": 364.1508102416992,\n      \"y\": 307.0583438873291,\n      \"z\": -18.907777070999146\n    }, {\n      \"x\": 363.37512969970703,\n      \"y\": 304.5721435546875,\n      \"z\": -17.42550015449524,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 374.580078125,\n      \"y\": 304.3059539794922,\n      \"z\": -11.40302300453186,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 375.55362701416016,\n      \"y\": 305.0998020172119,\n      \"z\": -12.861957550048828\n    }, {\n      \"x\": 377.2437286376953,\n      \"y\": 307.1674346923828,\n      \"z\": -14.215847253799438\n    }, {\n      \"x\": 378.68587493896484,\n      \"y\": 309.9015712738037,\n      \"z\": -13.223772048950195,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 383.8992691040039,\n      \"y\": 290.29629707336426,\n      \"z\": -9.97326910495758\n    }, {\n      \"x\": 423.3871841430664,\n      \"y\": 271.91688537597656,\n      \"z\": 74.37058925628662,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 377.68043518066406,\n      \"y\": 304.62209701538086,\n      \"z\": -7.603961229324341,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 379.00428771972656,\n      \"y\": 304.9314594268799,\n      \"z\": -8.57852816581726\n    }, {\n      \"x\": 364.00279998779297,\n      \"y\": 275.2813911437988,\n      \"z\": -19.25792098045349\n    }, {\n      \"x\": 374.68231201171875,\n      \"y\": 273.82555961608887,\n      \"z\": -11.28047227859497\n    }, {\n      \"x\": 365.0354766845703,\n      \"y\": 273.4548568725586,\n      \"z\": -18.791062831878662\n    }, {\n      \"x\": 380.61901092529297,\n      \"y\": 249.8848056793213,\n      \"z\": 0.15501167625188828\n    }, {\n      \"x\": 391.14158630371094,\n      \"y\": 254.7934627532959,\n      \"z\": 2.0906515419483185\n    }, {\n      \"x\": 378.1761169433594,\n      \"y\": 264.9612236022949,\n      \"z\": -12.605184316635132\n    }, {\n      \"x\": 400.9540557861328,\n      \"y\": 179.99592304229736,\n      \"z\": 27.82477855682373,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 398.0038833618164,\n      \"y\": 188.50656509399414,\n      \"z\": 16.094952821731567\n    }, {\n      \"x\": 394.8717498779297,\n      \"y\": 199.0359592437744,\n      \"z\": 6.226727366447449,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 382.10926055908203,\n      \"y\": 316.83926582336426,\n      \"z\": -8.946179747581482\n    }, {\n      \"x\": 366.51588439941406,\n      \"y\": 200.32583713531494,\n      \"z\": -5.24632453918457,\n      \"name\": \"leftEyebrow\"\n    }, {\n      \"x\": 367.4893569946289,\n      \"y\": 183.87210845947266,\n      \"z\": 1.9039081037044525\n    }, {\n      \"x\": 368.6243438720703,\n      \"y\": 168.8127565383911,\n      \"z\": 8.736093044281006,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 398.96175384521484,\n      \"y\": 234.9675178527832,\n      \"z\": 13.713973760604858\n    }, {\n      \"x\": 412.9645538330078,\n      \"y\": 242.23042488098145,\n      \"z\": 23.272905349731445\n    }, {\n      \"x\": 372.05257415771484,\n      \"y\": 231.41919136047363,\n      \"z\": 9.226294755935669\n    }, {\n      \"x\": 406.0722351074219,\n      \"y\": 223.58965873718262,\n      \"z\": 18.370890617370605\n    }, {\n      \"x\": 368.27442169189453,\n      \"y\": 240.2039337158203,\n      \"z\": -4.166713654994965\n    }, {\n      \"x\": 372.3575210571289,\n      \"y\": 260.66442489624023,\n      \"z\": -24.976940155029297\n    }, {\n      \"x\": 419.2244338989258,\n      \"y\": 247.9079246520996,\n      \"z\": 30.299127101898193\n    }, {\n      \"x\": 409.43885803222656,\n      \"y\": 246.60913467407227,\n      \"z\": 16.398411989212036\n    }, {\n      \"x\": 401.69139862060547,\n      \"y\": 248.76328468322754,\n      \"z\": 9.395531415939331\n    }, {\n      \"x\": 389.7608184814453,\n      \"y\": 247.56915092468262,\n      \"z\": 5.841569304466248\n    }, {\n      \"x\": 380.5461883544922,\n      \"y\": 244.55984115600586,\n      \"z\": 4.263003468513489\n    }, {\n      \"x\": 373.25817108154297,\n      \"y\": 240.80214500427246,\n      \"z\": 2.5356262922286987\n    }, {\n      \"x\": 358.77086639404297,\n      \"y\": 229.35615062713623,\n      \"z\": -10.387605428695679\n    }, {\n      \"x\": 419.5793914794922,\n      \"y\": 262.8478717803955,\n      \"z\": 26.5175724029541\n    }, {\n      \"x\": 410.8808898925781,\n      \"y\": 222.51372814178467,\n      \"z\": 22.199130058288574\n    }, {\n      \"x\": 358.45714569091797,\n      \"y\": 268.91467094421387,\n      \"z\": -33.17030906677246\n    }, {\n      \"x\": 373.4129333496094,\n      \"y\": 251.6385841369629,\n      \"z\": -5.771540403366089\n    }, {\n      \"x\": 422.5408172607422,\n      \"y\": 239.23919677734375,\n      \"z\": 74.04378890991211,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 367.8171920776367,\n      \"y\": 236.58040523529053,\n      \"z\": 1.820748895406723\n    }, {\n      \"x\": 378.51959228515625,\n      \"y\": 266.2532329559326,\n      \"z\": -5.74819803237915\n    }, {\n      \"x\": 403.3472442626953,\n      \"y\": 229.05112266540527,\n      \"z\": 19.689764976501465\n    }, {\n      \"x\": 372.34840393066406,\n      \"y\": 256.6451168060303,\n      \"z\": -21.872329711914062\n    }, {\n      \"x\": 422.54566192626953,\n      \"y\": 289.1587829589844,\n      \"z\": 68.67491245269775,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 371.9297409057617,\n      \"y\": 228.90116214752197,\n      \"z\": 11.432201862335205,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 366.21360778808594,\n      \"y\": 251.6158962249756,\n      \"z\": -28.19826364517212\n    }, {\n      \"x\": 409.1571807861328,\n      \"y\": 321.3156223297119,\n      \"z\": 20.2266526222229\n    }, {\n      \"x\": 408.52943420410156,\n      \"y\": 331.44238471984863,\n      \"z\": 31.09278917312622,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 424.2788314819336,\n      \"y\": 267.1992301940918,\n      \"z\": 50.467424392700195\n    }, {\n      \"x\": 415.60352325439453,\n      \"y\": 311.6528606414795,\n      \"z\": 30.579242706298828\n    }, {\n      \"x\": 418.12793731689453,\n      \"y\": 221.59927368164062,\n      \"z\": 46.26569747924805\n    }, {\n      \"x\": 385.68286895751953,\n      \"y\": 346.0184955596924,\n      \"z\": -5.70151150226593\n    }, {\n      \"x\": 357.82936096191406,\n      \"y\": 271.3758373260498,\n      \"z\": -24.836881160736084\n    }, {\n      \"x\": 379.588623046875,\n      \"y\": 257.5071716308594,\n      \"z\": -3.755294680595398\n    }, {\n      \"x\": 417.4592590332031,\n      \"y\": 234.71948146820068,\n      \"z\": 34.5475435256958\n    }, {\n      \"x\": 393.4684371948242,\n      \"y\": 231.58967971801758,\n      \"z\": 11.408859491348267,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 387.8864288330078,\n      \"y\": 232.14245796203613,\n      \"z\": 9.51808214187622,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 382.4981689453125,\n      \"y\": 307.5654888153076,\n      \"z\": -7.522260546684265,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 419.00169372558594,\n      \"y\": 277.8332805633545,\n      \"z\": 26.424202919006348\n    }, {\n      \"x\": 373.62953186035156,\n      \"y\": 357.6375102996826,\n      \"z\": -5.75986921787262,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 392.8708267211914,\n      \"y\": 347.72446632385254,\n      \"z\": 10.154176950454712,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 400.3953552246094,\n      \"y\": 341.0005187988281,\n      \"z\": 19.39797878265381,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 382.25440979003906,\n      \"y\": 231.66935920715332,\n      \"z\": 8.998700976371765,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 377.14550018310547,\n      \"y\": 230.4228687286377,\n      \"z\": 9.804032444953918,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 373.8358688354492,\n      \"y\": 229.64950561523438,\n      \"z\": 11.292144060134888,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 414.5794677734375,\n      \"y\": 221.67891025543213,\n      \"z\": 29.412097930908203\n    }, {\n      \"x\": 377.00672149658203,\n      \"y\": 225.66201210021973,\n      \"z\": 9.360517263412476,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 382.29530334472656,\n      \"y\": 224.8431158065796,\n      \"z\": 8.32175612449646,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 387.5133514404297,\n      \"y\": 224.49507236480713,\n      \"z\": 8.917000889778137,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 393.15906524658203,\n      \"y\": 225.24795055389404,\n      \"z\": 10.737749338150024,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 397.05554962158203,\n      \"y\": 226.55359268188477,\n      \"z\": 13.002015352249146,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 420.5299377441406,\n      \"y\": 221.014666557312,\n      \"z\": 65.40690422058105,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 397.06920623779297,\n      \"y\": 230.6661558151245,\n      \"z\": 13.807345628738403,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 377.94647216796875,\n      \"y\": 285.1647090911865,\n      \"z\": -13.305472135543823\n    }, {\n      \"x\": 372.1118927001953,\n      \"y\": 267.1267318725586,\n      \"z\": -18.83774757385254\n    }, {\n      \"x\": 364.9968719482422,\n      \"y\": 282.24411964416504,\n      \"z\": -19.818150997161865\n    }, {\n      \"x\": 401.973876953125,\n      \"y\": 331.20131492614746,\n      \"z\": 11.566424369812012\n    }, {\n      \"x\": 394.3083190917969,\n      \"y\": 338.86693954467773,\n      \"z\": 3.142542541027069\n    }, {\n      \"x\": 373.9820861816406,\n      \"y\": 351.4504623413086,\n      \"z\": -13.50388765335083\n    }, {\n      \"x\": 414.3888854980469,\n      \"y\": 321.24735832214355,\n      \"z\": 45.51872253417969,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 373.44234466552734,\n      \"y\": 227.33163356781006,\n      \"z\": 10.626870393753052,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 364.0731430053711,\n      \"y\": 240.31539916992188,\n      \"z\": -13.807345628738403\n    }, {\n      \"x\": 384.2658233642578,\n      \"y\": 353.3793067932129,\n      \"z\": 0.7385850697755814,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 423.20526123046875,\n      \"y\": 283.5176181793213,\n      \"z\": 47.152724266052246\n    }, {\n      \"x\": 369.42798614501953,\n      \"y\": 304.0898895263672,\n      \"z\": -14.647691249847412,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 370.63812255859375,\n      \"y\": 305.90051651000977,\n      \"z\": -16.211668252944946\n    }, {\n      \"x\": 371.91192626953125,\n      \"y\": 309.0167713165283,\n      \"z\": -17.84567356109619\n    }, {\n      \"x\": 373.0583953857422,\n      \"y\": 313.3545398712158,\n      \"z\": -17.378815412521362,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 375.39905548095703,\n      \"y\": 321.09289169311523,\n      \"z\": -13.118728399276733\n    }, {\n      \"x\": 379.2567825317383,\n      \"y\": 304.3582534790039,\n      \"z\": -7.924926280975342\n    }, {\n      \"x\": 381.18797302246094,\n      \"y\": 303.7031364440918,\n      \"z\": -7.843226194381714\n    }, {\n      \"x\": 383.0918502807617,\n      \"y\": 302.4884605407715,\n      \"z\": -7.6506465673446655,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 389.09461975097656,\n      \"y\": 297.1475315093994,\n      \"z\": -5.5497825145721436\n    }, {\n      \"x\": 411.6408920288086,\n      \"y\": 280.24898529052734,\n      \"z\": 12.02161192893982\n    }, {\n      \"x\": 363.3110809326172,\n      \"y\": 234.27620887756348,\n      \"z\": -6.775286793708801\n    }, {\n      \"x\": 366.0474395751953,\n      \"y\": 223.29872131347656,\n      \"z\": 6.827808618545532\n    }, {\n      \"x\": 370.34427642822266,\n      \"y\": 225.1457118988037,\n      \"z\": 9.558931589126587\n    }, {\n      \"x\": 377.5371551513672,\n      \"y\": 303.60079765319824,\n      \"z\": -7.358860373497009,\n      \"name\": \"lips\"\n    }, {\n      \"x\": 412.9557800292969,\n      \"y\": 299.53579902648926,\n      \"z\": 19.39797878265381\n    }, {\n      \"x\": 360.0810241699219,\n      \"y\": 221.72012329101562,\n      \"z\": -2.153385728597641\n    }, {\n      \"x\": 379.82784271240234,\n      \"y\": 329.47723388671875,\n      \"z\": -10.48097848892212\n    }, {\n      \"x\": 359.08477783203125,\n      \"y\": 235.7911491394043,\n      \"z\": -18.079102039337158\n    }, {\n      \"x\": 369.6688461303711,\n      \"y\": 251.5407943725586,\n      \"z\": -14.962821006774902\n    }, {\n      \"x\": 369.5555114746094,\n      \"y\": 333.5307312011719,\n      \"z\": -15.67478060722351\n    }, {\n      \"x\": 394.0193176269531,\n      \"y\": 315.6973171234131,\n      \"z\": -0.9920747578144073\n    }, {\n      \"x\": 383.78997802734375,\n      \"y\": 272.7268695831299,\n      \"z\": -4.689012169837952\n    }, {\n      \"x\": 387.67765045166016,\n      \"y\": 323.6722755432129,\n      \"z\": -5.640236139297485\n    }, {\n      \"x\": 397.8769302368164,\n      \"y\": 272.1331214904785,\n      \"z\": -0.9395531564950943\n    }, {\n      \"x\": 389.87476348876953,\n      \"y\": 280.5630111694336,\n      \"z\": -4.29218202829361\n    }, {\n      \"x\": 403.83888244628906,\n      \"y\": 285.1167869567871,\n      \"z\": 3.0229100584983826\n    }, {\n      \"x\": 372.5467300415039,\n      \"y\": 343.1070327758789,\n      \"z\": -16.153310537338257\n    }, {\n      \"x\": 374.1112518310547,\n      \"y\": 256.3721466064453,\n      \"z\": -10.574349164962769\n    }, {\n      \"x\": 399.73785400390625,\n      \"y\": 321.77515983581543,\n      \"z\": 4.849494695663452\n    }, {\n      \"x\": 392.03365325927734,\n      \"y\": 330.56447982788086,\n      \"z\": -1.3407598435878754\n    }, {\n      \"x\": 398.59134674072266,\n      \"y\": 305.93902587890625,\n      \"z\": 1.517290621995926\n    }, {\n      \"x\": 417.95997619628906,\n      \"y\": 290.9716987609863,\n      \"z\": 26.89105987548828\n    }, {\n      \"x\": 406.04541778564453,\n      \"y\": 307.35154151916504,\n      \"z\": 8.666064143180847\n    }, {\n      \"x\": 420.75328826904297,\n      \"y\": 298.40752601623535,\n      \"z\": 41.78385257720947\n    }, {\n      \"x\": 395.4522705078125,\n      \"y\": 291.4153575897217,\n      \"z\": -2.1752697229385376\n    }, {\n      \"x\": 368.6452102661133,\n      \"y\": 245.8882999420166,\n      \"z\": -9.453888535499573\n    }, {\n      \"x\": 370.34900665283203,\n      \"y\": 263.56690406799316,\n      \"z\": -26.75100326538086\n    }, {\n      \"x\": 374.98477935791016,\n      \"y\": 266.6126346588135,\n      \"z\": -19.77146625518799\n    }, {\n      \"x\": 366.99840545654297,\n      \"y\": 258.12140464782715,\n      \"z\": -31.372904777526855\n    }, {\n      \"x\": 371.00616455078125,\n      \"y\": 217.63479709625244,\n      \"z\": 5.60522198677063\n    }, {\n      \"x\": 381.30577087402344,\n      \"y\": 214.14087295532227,\n      \"z\": 4.983716309070587\n    }, {\n      \"x\": 390.1496124267578,\n      \"y\": 213.38221549987793,\n      \"z\": 5.593550801277161\n    }, {\n      \"x\": 397.7696990966797,\n      \"y\": 214.3659782409668,\n      \"z\": 8.57852816581726\n    }, {\n      \"x\": 403.1652069091797,\n      \"y\": 217.65509605407715,\n      \"z\": 13.013685941696167\n    }, {\n      \"x\": 407.3551940917969,\n      \"y\": 230.72525024414062,\n      \"z\": 22.444231510162354\n    }, {\n      \"x\": 424.0876770019531,\n      \"y\": 251.7839241027832,\n      \"z\": 51.16771221160889\n    }, {\n      \"x\": 403.50196838378906,\n      \"y\": 239.88757610321045,\n      \"z\": 15.803166627883911\n    }, {\n      \"x\": 397.31719970703125,\n      \"y\": 241.49806022644043,\n      \"z\": 11.233787536621094\n    }, {\n      \"x\": 388.99425506591797,\n      \"y\": 241.4366912841797,\n      \"z\": 7.948269248008728\n    }, {\n      \"x\": 380.7804489135742,\n      \"y\": 239.78078842163086,\n      \"z\": 6.600214838981628\n    }, {\n      \"x\": 374.01336669921875,\n      \"y\": 237.11946487426758,\n      \"z\": 6.349278092384338\n    }, {\n      \"x\": 369.39125061035156,\n      \"y\": 234.35351371765137,\n      \"z\": 5.987462401390076\n    }, {\n      \"x\": 422.9730987548828,\n      \"y\": 255.76455116271973,\n      \"z\": 76.61150932312012,\n      \"name\": \"faceOval\"\n    }, {\n      \"x\": 374.73915100097656,\n      \"y\": 269.24214363098145,\n      \"z\": -16.608498096466064\n    }, {\n      \"x\": 364.61681365966797,\n      \"y\": 245.71088790893555,\n      \"z\": -20.02823829650879\n    }, {\n      \"x\": 365.3834533691406,\n      \"y\": 263.34174156188965,\n      \"z\": -32.32996463775635\n    }, {\n      \"x\": 361.58252716064453,\n      \"y\": 267.8273677825928,\n      \"z\": -30.345816612243652\n    }, {\n      \"x\": 365.37208557128906,\n      \"y\": 265.0249671936035,\n      \"z\": -29.178667068481445\n    }, {\n      \"x\": 372.72605895996094,\n      \"y\": 272.05135345458984,\n      \"z\": -14.834434986114502\n    }, {\n      \"x\": 360.48614501953125,\n      \"y\": 268.34827423095703,\n      \"z\": -32.189905643463135\n    }, {\n      \"x\": 359.9516296386719,\n      \"y\": 270.8049201965332,\n      \"z\": -24.650139808654785\n    }, {\n      \"x\": 369.5049285888672,\n      \"y\": 229.01945114135742,\n      \"z\": 10.107489824295044\n    }, {\n      \"x\": 365.5447769165039,\n      \"y\": 230.24096488952637,\n      \"z\": 5.593550801277161\n    }, {\n      \"x\": 363.50669860839844,\n      \"y\": 230.6208372116089,\n      \"z\": 0.43622106313705444\n    }, {\n      \"x\": 399.3529510498047,\n      \"y\": 227.65677452087402,\n      \"z\": 15.35965085029602,\n      \"name\": \"leftEye\"\n    }, {\n      \"x\": 402.5693130493164,\n      \"y\": 224.60190296173096,\n      \"z\": 15.931552648544312\n    }],\n    \"box\": {\n      \"xMin\": 277.8318977355957,\n      \"yMin\": 168.7741756439209,\n      \"xMax\": 424.2788314819336,\n      \"yMax\": 359.8348903656006,\n      \"width\": 146.4469337463379,\n      \"height\": 191.0607147216797\n    }\n  },\n  // Tasks-vision: https://developers.google.com/mediapipe/solutions/vision/face_landmarker/web_js\n  // prettier-ignore\n  SAMPLE_FACELANDMARKER_RESULT: {\n    \"faceLandmarks\": [[{\n      \"x\": 0.5760777592658997,\n      \"y\": 0.8639070391654968,\n      \"z\": -0.030997956171631813\n    }, {\n      \"x\": 0.572094738483429,\n      \"y\": 0.7886289358139038,\n      \"z\": -0.07189624011516571\n    }, {\n      \"x\": 0.5723551511764526,\n      \"y\": 0.8075382709503174,\n      \"z\": -0.03578168898820877\n    }, {\n      \"x\": 0.5548420548439026,\n      \"y\": 0.7188365459442139,\n      \"z\": -0.057787876576185226\n    }, {\n      \"x\": 0.5706077814102173,\n      \"y\": 0.7674974799156189,\n      \"z\": -0.07740399986505508\n    }, {\n      \"x\": 0.5681378245353699,\n      \"y\": 0.7387768030166626,\n      \"z\": -0.07356284558773041\n    }, {\n      \"x\": 0.5621535181999207,\n      \"y\": 0.6681165099143982,\n      \"z\": -0.04189874976873398\n    }, {\n      \"x\": 0.46613582968711853,\n      \"y\": 0.6679812073707581,\n      \"z\": 0.011289681307971478\n    }, {\n      \"x\": 0.5579932928085327,\n      \"y\": 0.6174106597900391,\n      \"z\": -0.03502821549773216\n    }, {\n      \"x\": 0.5563451647758484,\n      \"y\": 0.5905600190162659,\n      \"z\": -0.03928658738732338\n    }, {\n      \"x\": 0.5487832427024841,\n      \"y\": 0.4900572597980499,\n      \"z\": -0.029898937791585922\n    }, {\n      \"x\": 0.5765544176101685,\n      \"y\": 0.8692144751548767,\n      \"z\": -0.02831427752971649\n    }, {\n      \"x\": 0.5771114230155945,\n      \"y\": 0.873644232749939,\n      \"z\": -0.02345779910683632\n    }, {\n      \"x\": 0.5771905779838562,\n      \"y\": 0.877016007900238,\n      \"z\": -0.016658689826726913\n    }, {\n      \"x\": 0.5778058767318726,\n      \"y\": 0.8770116567611694,\n      \"z\": -0.014505492523312569\n    }, {\n      \"x\": 0.5783766508102417,\n      \"y\": 0.8835000991821289,\n      \"z\": -0.015996402129530907\n    }, {\n      \"x\": 0.5792440176010132,\n      \"y\": 0.8913810849189758,\n      \"z\": -0.01924579218029976\n    }, {\n      \"x\": 0.5796768069267273,\n      \"y\": 0.8996334671974182,\n      \"z\": -0.018261712044477463\n    }, {\n      \"x\": 0.5817288160324097,\n      \"y\": 0.9255813956260681,\n      \"z\": -0.007126849144697189\n    }, {\n      \"x\": 0.5726592540740967,\n      \"y\": 0.7992473244667053,\n      \"z\": -0.0643521398305893\n    }, {\n      \"x\": 0.5579419136047363,\n      \"y\": 0.7996989488601685,\n      \"z\": -0.04566684365272522\n    }, {\n      \"x\": 0.4216199815273285,\n      \"y\": 0.5958762764930725,\n      \"z\": 0.06776496022939682\n    }, {\n      \"x\": 0.5052269697189331,\n      \"y\": 0.6796539425849915,\n      \"z\": -0.0010737782577052712\n    }, {\n      \"x\": 0.49243026971817017,\n      \"y\": 0.6838865876197815,\n      \"z\": -0.0005227324436418712\n    }, {\n      \"x\": 0.4796970784664154,\n      \"y\": 0.6856290102005005,\n      \"z\": 0.002684245817363262\n    }, {\n      \"x\": 0.4618356227874756,\n      \"y\": 0.6764569878578186,\n      \"z\": 0.013439622707664967\n    }, {\n      \"x\": 0.5160380601882935,\n      \"y\": 0.6737282276153564,\n      \"z\": -0.000017607348127057776\n    }, {\n      \"x\": 0.48070961236953735,\n      \"y\": 0.6255870461463928,\n      \"z\": -0.008339674212038517\n    }, {\n      \"x\": 0.49719780683517456,\n      \"y\": 0.6256808042526245,\n      \"z\": -0.008027955889701843\n    }, {\n      \"x\": 0.46674346923828125,\n      \"y\": 0.6317623853683472,\n      \"z\": -0.004460199736058712\n    }, {\n      \"x\": 0.4582492709159851,\n      \"y\": 0.641118049621582,\n      \"z\": 0.0011905613355338573\n    }, {\n      \"x\": 0.45408669114112854,\n      \"y\": 0.6911458969116211,\n      \"z\": 0.020514748990535736\n    }, {\n      \"x\": 0.535312294960022,\n      \"y\": 0.9619986414909363,\n      \"z\": 0.012499462813138962\n    }, {\n      \"x\": 0.4608460068702698,\n      \"y\": 0.6628725528717041,\n      \"z\": 0.01517564244568348\n    }, {\n      \"x\": 0.4206731915473938,\n      \"y\": 0.6828458309173584,\n      \"z\": 0.07848648726940155\n    }, {\n      \"x\": 0.4390624463558197,\n      \"y\": 0.6796106696128845,\n      \"z\": 0.03283142298460007\n    }, {\n      \"x\": 0.5029968619346619,\n      \"y\": 0.7701570391654968,\n      \"z\": -0.009734481573104858\n    }, {\n      \"x\": 0.5595027208328247,\n      \"y\": 0.8607323169708252,\n      \"z\": -0.030043255537748337\n    }, {\n      \"x\": 0.5621269941329956,\n      \"y\": 0.8738374710083008,\n      \"z\": -0.021709579974412918\n    }, {\n      \"x\": 0.5451499819755554,\n      \"y\": 0.865527331829071,\n      \"z\": -0.022014077752828598\n    }, {\n      \"x\": 0.5351184010505676,\n      \"y\": 0.8705098032951355,\n      \"z\": -0.011602800339460373\n    }, {\n      \"x\": 0.5495014190673828,\n      \"y\": 0.8744956254959106,\n      \"z\": -0.016490943729877472\n    }, {\n      \"x\": 0.5395170450210571,\n      \"y\": 0.8759440779685974,\n      \"z\": -0.007333362940698862\n    }, {\n      \"x\": 0.5183624029159546,\n      \"y\": 0.8959754705429077,\n      \"z\": 0.010520773939788342\n    }, {\n      \"x\": 0.5604349374771118,\n      \"y\": 0.7895449995994568,\n      \"z\": -0.07082037627696991\n    }, {\n      \"x\": 0.557381272315979,\n      \"y\": 0.7687489986419678,\n      \"z\": -0.07590588927268982\n    }, {\n      \"x\": 0.4432901442050934,\n      \"y\": 0.6308897733688354,\n      \"z\": 0.0027153254486620426\n    }, {\n      \"x\": 0.5258325338363647,\n      \"y\": 0.7151225805282593,\n      \"z\": -0.014676518738269806\n    }, {\n      \"x\": 0.5271827578544617,\n      \"y\": 0.7833116054534912,\n      \"z\": -0.037643320858478546\n    }, {\n      \"x\": 0.5257382988929749,\n      \"y\": 0.7717816233634949,\n      \"z\": -0.03401920944452286\n    }, {\n      \"x\": 0.46516409516334534,\n      \"y\": 0.7705106735229492,\n      \"z\": 0.0065747760236263275\n    }, {\n      \"x\": 0.5558893084526062,\n      \"y\": 0.7420997619628906,\n      \"z\": -0.0694495290517807\n    }, {\n      \"x\": 0.4720408320426941,\n      \"y\": 0.6066038608551025,\n      \"z\": -0.021204356104135513\n    }, {\n      \"x\": 0.45432573556900024,\n      \"y\": 0.6158540844917297,\n      \"z\": -0.011054684408009052\n    }, {\n      \"x\": 0.4305151402950287,\n      \"y\": 0.5608053803443909,\n      \"z\": 0.0396830290555954\n    }, {\n      \"x\": 0.5310865640640259,\n      \"y\": 0.6157484650611877,\n      \"z\": -0.03081176057457924\n    }, {\n      \"x\": 0.5114666223526001,\n      \"y\": 0.6329749226570129,\n      \"z\": -0.00335998204536736\n    }, {\n      \"x\": 0.506435751914978,\n      \"y\": 0.8786543607711792,\n      \"z\": 0.012980876490473747\n    }, {\n      \"x\": 0.4480472207069397,\n      \"y\": 0.8640613555908203,\n      \"z\": 0.12569651007652283\n    }, {\n      \"x\": 0.5372058153152466,\n      \"y\": 0.7942581176757812,\n      \"z\": -0.03168361634016037\n    }, {\n      \"x\": 0.5488379597663879,\n      \"y\": 0.8001630306243896,\n      \"z\": -0.03280917927622795\n    }, {\n      \"x\": 0.5213388204574585,\n      \"y\": 0.8794381618499756,\n      \"z\": 0.011892606504261494\n    }, {\n      \"x\": 0.5242055654525757,\n      \"y\": 0.8789222240447998,\n      \"z\": 0.008370225317776203\n    }, {\n      \"x\": 0.4477175176143646,\n      \"y\": 0.6039950251579285,\n      \"z\": -0.0050799972377717495\n    }, {\n      \"x\": 0.526964008808136,\n      \"y\": 0.7916748523712158,\n      \"z\": -0.02968614175915718\n    }, {\n      \"x\": 0.4971255660057068,\n      \"y\": 0.6050706505775452,\n      \"z\": -0.028175678104162216\n    }, {\n      \"x\": 0.4938119053840637,\n      \"y\": 0.5882453918457031,\n      \"z\": -0.03210941329598427\n    }, {\n      \"x\": 0.4757143557071686,\n      \"y\": 0.5094879865646362,\n      \"z\": -0.01300730835646391\n    }, {\n      \"x\": 0.43947282433509827,\n      \"y\": 0.5816648006439209,\n      \"z\": 0.01415177434682846\n    }, {\n      \"x\": 0.485664039850235,\n      \"y\": 0.5477864146232605,\n      \"z\": -0.023685332387685776\n    }, {\n      \"x\": 0.43635931611061096,\n      \"y\": 0.6226438283920288,\n      \"z\": 0.013606148771941662\n    }, {\n      \"x\": 0.42910251021385193,\n      \"y\": 0.6102726459503174,\n      \"z\": 0.03926564007997513\n    }, {\n      \"x\": 0.5605402588844299,\n      \"y\": 0.8680099248886108,\n      \"z\": -0.027318159118294716\n    }, {\n      \"x\": 0.5474816560745239,\n      \"y\": 0.8702861070632935,\n      \"z\": -0.019686367362737656\n    }, {\n      \"x\": 0.5373021364212036,\n      \"y\": 0.8728838562965393,\n      \"z\": -0.010484928265213966\n    }, {\n      \"x\": 0.540735125541687,\n      \"y\": 0.7979167103767395,\n      \"z\": -0.029073253273963928\n    }, {\n      \"x\": 0.5228585004806519,\n      \"y\": 0.87913578748703,\n      \"z\": 0.009915109723806381\n    }, {\n      \"x\": 0.530497670173645,\n      \"y\": 0.8815253973007202,\n      \"z\": 0.0020524784922599792\n    }, {\n      \"x\": 0.5259912610054016,\n      \"y\": 0.8790552616119385,\n      \"z\": 0.007895970717072487\n    }, {\n      \"x\": 0.5433906316757202,\n      \"y\": 0.7882310748100281,\n      \"z\": -0.05121905356645584\n    }, {\n      \"x\": 0.541388213634491,\n      \"y\": 0.8777219653129578,\n      \"z\": -0.00466804439201951\n    }, {\n      \"x\": 0.5515822172164917,\n      \"y\": 0.8767023086547852,\n      \"z\": -0.010475946590304375\n    }, {\n      \"x\": 0.5637003779411316,\n      \"y\": 0.877059817314148,\n      \"z\": -0.015273625031113625\n    }, {\n      \"x\": 0.5640299320220947,\n      \"y\": 0.9263423085212708,\n      \"z\": -0.00658724969252944\n    }, {\n      \"x\": 0.5642300248146057,\n      \"y\": 0.8993074893951416,\n      \"z\": -0.017653480172157288\n    }, {\n      \"x\": 0.5637336373329163,\n      \"y\": 0.8910360932350159,\n      \"z\": -0.01852807030081749\n    }, {\n      \"x\": 0.5637134313583374,\n      \"y\": 0.8837276697158813,\n      \"z\": -0.01482592523097992\n    }, {\n      \"x\": 0.564205527305603,\n      \"y\": 0.8768964409828186,\n      \"z\": -0.01331155002117157\n    }, {\n      \"x\": 0.5419867634773254,\n      \"y\": 0.8778373599052429,\n      \"z\": -0.0037720394320786\n    }, {\n      \"x\": 0.5404468774795532,\n      \"y\": 0.880696177482605,\n      \"z\": -0.005610354244709015\n    }, {\n      \"x\": 0.5392338633537292,\n      \"y\": 0.8845721483230591,\n      \"z\": -0.007352025713771582\n    }, {\n      \"x\": 0.538469672203064,\n      \"y\": 0.8891173601150513,\n      \"z\": -0.005154991988092661\n    }, {\n      \"x\": 0.5189250111579895,\n      \"y\": 0.8452741503715515,\n      \"z\": -0.009755070321261883\n    }, {\n      \"x\": 0.4258975088596344,\n      \"y\": 0.7662280797958374,\n      \"z\": 0.1387351155281067\n    }, {\n      \"x\": 0.5725725293159485,\n      \"y\": 0.8041572570800781,\n      \"z\": -0.04583907872438431\n    }, {\n      \"x\": 0.5342061519622803,\n      \"y\": 0.8785833120346069,\n      \"z\": 0.002659974154084921\n    }, {\n      \"x\": 0.5324031114578247,\n      \"y\": 0.8804071545600891,\n      \"z\": 0.0017832003068178892\n    }, {\n      \"x\": 0.5538818836212158,\n      \"y\": 0.8078407645225525,\n      \"z\": -0.03254539892077446\n    }, {\n      \"x\": 0.5325431823730469,\n      \"y\": 0.8026832938194275,\n      \"z\": -0.019140373915433884\n    }, {\n      \"x\": 0.5514076948165894,\n      \"y\": 0.8043903112411499,\n      \"z\": -0.03313535451889038\n    }, {\n      \"x\": 0.5131856203079224,\n      \"y\": 0.7284771800041199,\n      \"z\": -0.009399853646755219\n    }, {\n      \"x\": 0.49331504106521606,\n      \"y\": 0.7443980574607849,\n      \"z\": -0.005225230939686298\n    }, {\n      \"x\": 0.5239617824554443,\n      \"y\": 0.7807451486587524,\n      \"z\": -0.025881027802824974\n    }, {\n      \"x\": 0.4473606050014496,\n      \"y\": 0.5315827131271362,\n      \"z\": 0.011164786294102669\n    }, {\n      \"x\": 0.45718759298324585,\n      \"y\": 0.5604941248893738,\n      \"z\": -0.005943301599472761\n    }, {\n      \"x\": 0.4670005738735199,\n      \"y\": 0.5909327268600464,\n      \"z\": -0.019681761041283607\n    }, {\n      \"x\": 0.5311570167541504,\n      \"y\": 0.9076261520385742,\n      \"z\": 0.00389476353302598\n    }, {\n      \"x\": 0.5249923467636108,\n      \"y\": 0.5893563628196716,\n      \"z\": -0.037981919944286346\n    }, {\n      \"x\": 0.5166932344436646,\n      \"y\": 0.5429551005363464,\n      \"z\": -0.03319704160094261\n    }, {\n      \"x\": 0.5085030198097229,\n      \"y\": 0.49676206707954407,\n      \"z\": -0.02691275253891945\n    }, {\n      \"x\": 0.4687720239162445,\n      \"y\": 0.6834565997123718,\n      \"z\": 0.008113506250083447\n    }, {\n      \"x\": 0.4426414966583252,\n      \"y\": 0.7069531679153442,\n      \"z\": 0.028577271848917007\n    }, {\n      \"x\": 0.5230373740196228,\n      \"y\": 0.6675713658332825,\n      \"z\": 0.001773772411979735\n    }, {\n      \"x\": 0.4481240212917328,\n      \"y\": 0.6527872085571289,\n      \"z\": 0.012414850294589996\n    }, {\n      \"x\": 0.5339856743812561,\n      \"y\": 0.7012367844581604,\n      \"z\": -0.020220188423991203\n    }, {\n      \"x\": 0.5347223281860352,\n      \"y\": 0.7761190533638,\n      \"z\": -0.05141595005989075\n    }, {\n      \"x\": 0.4315067231655121,\n      \"y\": 0.7211957573890686,\n      \"z\": 0.04381405934691429\n    }, {\n      \"x\": 0.45203351974487305,\n      \"y\": 0.7206180095672607,\n      \"z\": 0.017288070172071457\n    }, {\n      \"x\": 0.46892452239990234,\n      \"y\": 0.7265436053276062,\n      \"z\": 0.005602988880127668\n    }, {\n      \"x\": 0.49314674735069275,\n      \"y\": 0.7202282547950745,\n      \"z\": -0.0006408205372281373\n    }, {\n      \"x\": 0.5104925632476807,\n      \"y\": 0.7091827392578125,\n      \"z\": -0.00362918758764863\n    }, {\n      \"x\": 0.5232142210006714,\n      \"y\": 0.698553740978241,\n      \"z\": -0.00787867046892643\n    }, {\n      \"x\": 0.5497883558273315,\n      \"y\": 0.6743605136871338,\n      \"z\": -0.036349106580019\n    }, {\n      \"x\": 0.43658503890037537,\n      \"y\": 0.7627100348472595,\n      \"z\": 0.042555369436740875\n    }, {\n      \"x\": 0.4397648870944977,\n      \"y\": 0.6528646349906921,\n      \"z\": 0.017956094816327095\n    }, {\n      \"x\": 0.5653332471847534,\n      \"y\": 0.7992802858352661,\n      \"z\": -0.06365057826042175\n    }, {\n      \"x\": 0.5285563468933105,\n      \"y\": 0.736810564994812,\n      \"z\": -0.018836988136172295\n    }, {\n      \"x\": 0.4180678725242615,\n      \"y\": 0.6792560815811157,\n      \"z\": 0.12284679710865021\n    }, {\n      \"x\": 0.5328429937362671,\n      \"y\": 0.6865872144699097,\n      \"z\": -0.010484723374247551\n    }, {\n      \"x\": 0.5230283141136169,\n      \"y\": 0.7809416055679321,\n      \"z\": -0.011922398582100868\n    }, {\n      \"x\": 0.4551771283149719,\n      \"y\": 0.6650775074958801,\n      \"z\": 0.01774493046104908\n    }, {\n      \"x\": 0.5337203741073608,\n      \"y\": 0.7618928551673889,\n      \"z\": -0.04697106033563614\n    }, {\n      \"x\": 0.43463975191116333,\n      \"y\": 0.8133478164672852,\n      \"z\": 0.1354849934577942\n    }, {\n      \"x\": 0.5225707292556763,\n      \"y\": 0.6605283617973328,\n      \"z\": 0.004980515688657761\n    }, {\n      \"x\": 0.5441933870315552,\n      \"y\": 0.7497199773788452,\n      \"z\": -0.06091512367129326\n    }, {\n      \"x\": 0.4774007797241211,\n      \"y\": 0.9159183502197266,\n      \"z\": 0.059622734785079956\n    }, {\n      \"x\": 0.48068761825561523,\n      \"y\": 0.9364941716194153,\n      \"z\": 0.08404944837093353\n    }, {\n      \"x\": 0.4268292486667633,\n      \"y\": 0.7657528519630432,\n      \"z\": 0.09051097184419632\n    }, {\n      \"x\": 0.46051913499832153,\n      \"y\": 0.8880485892295837,\n      \"z\": 0.0738474428653717\n    }, {\n      \"x\": 0.4243420660495758,\n      \"y\": 0.6434382200241089,\n      \"z\": 0.06230505183339119\n    }, {\n      \"x\": 0.5342157483100891,\n      \"y\": 0.9835634231567383,\n      \"z\": 0.021662971004843712\n    }, {\n      \"x\": 0.5668109655380249,\n      \"y\": 0.8042187094688416,\n      \"z\": -0.044937074184417725\n    }, {\n      \"x\": 0.5176341533660889,\n      \"y\": 0.7530587315559387,\n      \"z\": -0.012967454269528389\n    }, {\n      \"x\": 0.430206298828125,\n      \"y\": 0.6835605502128601,\n      \"z\": 0.04612284153699875\n    }, {\n      \"x\": 0.4794231951236725,\n      \"y\": 0.6732114553451538,\n      \"z\": 0.003970044665038586\n    }, {\n      \"x\": 0.49073347449302673,\n      \"y\": 0.6722435355186462,\n      \"z\": 0.0008692514384165406\n    }, {\n      \"x\": 0.5294116139411926,\n      \"y\": 0.884677529335022,\n      \"z\": 0.004413890186697245\n    }, {\n      \"x\": 0.4430122375488281,\n      \"y\": 0.80235356092453,\n      \"z\": 0.04987282305955887\n    }, {\n      \"x\": 0.5603825449943542,\n      \"y\": 1.0092442035675049,\n      \"z\": 0.026417359709739685\n    }, {\n      \"x\": 0.5186598300933838,\n      \"y\": 0.9828659892082214,\n      \"z\": 0.0513598807156086\n    }, {\n      \"x\": 0.5010536909103394,\n      \"y\": 0.9640932679176331,\n      \"z\": 0.06591596454381943\n    }, {\n      \"x\": 0.5524769425392151,\n      \"y\": 0.539441704750061,\n      \"z\": -0.035816047340631485\n    }, {\n      \"x\": 0.5879997611045837,\n      \"y\": 1.0091472864151,\n      \"z\": 0.02285068854689598\n    }, {\n      \"x\": 0.5016193985939026,\n      \"y\": 0.6684437990188599,\n      \"z\": 0.00028415941051207483\n    }, {\n      \"x\": 0.511952817440033,\n      \"y\": 0.6642197370529175,\n      \"z\": 0.0021144719794392586\n    }, {\n      \"x\": 0.5194343328475952,\n      \"y\": 0.6623469591140747,\n      \"z\": 0.004674181342124939\n    }, {\n      \"x\": 0.4321230351924896,\n      \"y\": 0.6496355533599854,\n      \"z\": 0.03124697133898735\n    }, {\n      \"x\": 0.508686363697052,\n      \"y\": 0.6479565501213074,\n      \"z\": -0.00044765998609364033\n    }, {\n      \"x\": 0.4963986277580261,\n      \"y\": 0.6431032419204712,\n      \"z\": -0.0032507688738405704\n    }, {\n      \"x\": 0.4845542013645172,\n      \"y\": 0.6430778503417969,\n      \"z\": -0.002903624437749386\n    }, {\n      \"x\": 0.4733612537384033,\n      \"y\": 0.647506833076477,\n      \"z\": 0.00023347247042693198\n    }, {\n      \"x\": 0.4668654501438141,\n      \"y\": 0.653346598148346,\n      \"z\": 0.004762572236359119\n    }, {\n      \"x\": 0.41815051436424255,\n      \"y\": 0.633708119392395,\n      \"z\": 0.09809435904026031\n    }, {\n      \"x\": 0.47159942984580994,\n      \"y\": 0.6711485385894775,\n      \"z\": 0.007849935442209244\n    }, {\n      \"x\": 0.5734396576881409,\n      \"y\": 0.8256140351295471,\n      \"z\": -0.03155219927430153\n    }, {\n      \"x\": 0.5306524038314819,\n      \"y\": 0.8337990641593933,\n      \"z\": -0.018351426348090172\n    }, {\n      \"x\": 0.5371729135513306,\n      \"y\": 0.7910830974578857,\n      \"z\": -0.037286680191755295\n    }, {\n      \"x\": 0.5549534559249878,\n      \"y\": 0.8275275826454163,\n      \"z\": -0.030664825811982155\n    }, {\n      \"x\": 0.5597432255744934,\n      \"y\": 0.6418541669845581,\n      \"z\": -0.03318847343325615\n    }, {\n      \"x\": 0.4958484172821045,\n      \"y\": 0.9429569244384766,\n      \"z\": 0.048340678215026855\n    }, {\n      \"x\": 0.5140507817268372,\n      \"y\": 0.9634028077125549,\n      \"z\": 0.03589847311377525\n    }, {\n      \"x\": 0.5587693452835083,\n      \"y\": 0.9951097369194031,\n      \"z\": 0.00908728688955307\n    }, {\n      \"x\": 0.46411189436912537,\n      \"y\": 0.9051855206489563,\n      \"z\": 0.10601935535669327\n    }, {\n      \"x\": 0.5181609392166138,\n      \"y\": 0.6554316878318787,\n      \"z\": 0.002546071307733655\n    }, {\n      \"x\": 0.5436590909957886,\n      \"y\": 0.7085841298103333,\n      \"z\": -0.03844436630606651\n    }, {\n      \"x\": 0.5872187614440918,\n      \"y\": 0.9960382580757141,\n      \"z\": 0.0063423276878893375\n    }, {\n      \"x\": 0.5379653573036194,\n      \"y\": 0.9989125728607178,\n      \"z\": 0.03636329993605614\n    }, {\n      \"x\": 0.4350326955318451,\n      \"y\": 0.8088565468788147,\n      \"z\": 0.09147704392671585\n    }, {\n      \"x\": 0.5523084998130798,\n      \"y\": 0.8773422837257385,\n      \"z\": -0.009068487212061882\n    }, {\n      \"x\": 0.5510149598121643,\n      \"y\": 0.8816931843757629,\n      \"z\": -0.011043853126466274\n    }, {\n      \"x\": 0.5503793954849243,\n      \"y\": 0.88776695728302,\n      \"z\": -0.01348799467086792\n    }, {\n      \"x\": 0.5501549243927002,\n      \"y\": 0.8954370617866516,\n      \"z\": -0.012142189778387547\n    }, {\n      \"x\": 0.546072781085968,\n      \"y\": 0.9192524552345276,\n      \"z\": -0.003157563041895628\n    }, {\n      \"x\": 0.5314661860466003,\n      \"y\": 0.8771666884422302,\n      \"z\": 0.0005075141089037061\n    }, {\n      \"x\": 0.5293324589729309,\n      \"y\": 0.8762547969818115,\n      \"z\": 0.00039177737198770046\n    }, {\n      \"x\": 0.5275698900222778,\n      \"y\": 0.8750609755516052,\n      \"z\": 0.000047732755774632096\n    }, {\n      \"x\": 0.5104271173477173,\n      \"y\": 0.8607332110404968,\n      \"z\": 0.0012934643309563398\n    }, {\n      \"x\": 0.45938700437545776,\n      \"y\": 0.8134918212890625,\n      \"z\": 0.023569690063595772\n    }, {\n      \"x\": 0.5418947339057922,\n      \"y\": 0.6864100694656372,\n      \"z\": -0.027333909645676613\n    }, {\n      \"x\": 0.531914234161377,\n      \"y\": 0.6456130743026733,\n      \"z\": -0.005434140563011169\n    }, {\n      \"x\": 0.523697018623352,\n      \"y\": 0.647885262966156,\n      \"z\": -0.0002466466394253075\n    }, {\n      \"x\": 0.5338191390037537,\n      \"y\": 0.8783687353134155,\n      \"z\": 0.002268768846988678\n    }, {\n      \"x\": 0.46226605772972107,\n      \"y\": 0.8610277771949768,\n      \"z\": 0.04718952998518944\n    }, {\n      \"x\": 0.5434442758560181,\n      \"y\": 0.6456181406974792,\n      \"z\": -0.02327350154519081\n    }, {\n      \"x\": 0.5399754643440247,\n      \"y\": 0.940219521522522,\n      \"z\": 0.005075343884527683\n    }, {\n      \"x\": 0.5661457777023315,\n      \"y\": 0.71457839012146,\n      \"z\": -0.06242101639509201\n    }, {\n      \"x\": 0.5523148775100708,\n      \"y\": 0.6974870562553406,\n      \"z\": -0.04863070324063301\n    }, {\n      \"x\": 0.5639959573745728,\n      \"y\": 0.6923378109931946,\n      \"z\": -0.05180761218070984\n    }, {\n      \"x\": 0.5367592573165894,\n      \"y\": 0.7423217296600342,\n      \"z\": -0.03623027727007866\n    }, {\n      \"x\": 0.5853689908981323,\n      \"y\": 0.9752064943313599,\n      \"z\": -0.002361974213272333\n    }, {\n      \"x\": 0.5835235118865967,\n      \"y\": 0.9493685960769653,\n      \"z\": -0.003941743168979883\n    }, {\n      \"x\": 0.5615018606185913,\n      \"y\": 0.949194610118866,\n      \"z\": -0.0015953965485095978\n    }, {\n      \"x\": 0.5068561434745789,\n      \"y\": 0.9048219323158264,\n      \"z\": 0.01862684078514576\n    }, {\n      \"x\": 0.5134067535400391,\n      \"y\": 0.7971825003623962,\n      \"z\": -0.008485661819577217\n    }, {\n      \"x\": 0.5223897099494934,\n      \"y\": 0.925589919090271,\n      \"z\": 0.01249657291918993\n    }, {\n      \"x\": 0.48500555753707886,\n      \"y\": 0.7959478497505188,\n      \"z\": -0.0032065745908766985\n    }, {\n      \"x\": 0.5037734508514404,\n      \"y\": 0.8184596300125122,\n      \"z\": -0.004932103678584099\n    }, {\n      \"x\": 0.4766361117362976,\n      \"y\": 0.828806459903717,\n      \"z\": 0.01027688942849636\n    }, {\n      \"x\": 0.5589827299118042,\n      \"y\": 0.974656343460083,\n      \"z\": 0.0009666886180639267\n    }, {\n      \"x\": 0.5294582843780518,\n      \"y\": 0.7541216611862183,\n      \"z\": -0.025603046640753746\n    }, {\n      \"x\": 0.4973002076148987,\n      \"y\": 0.9208990931510925,\n      \"z\": 0.031931452453136444\n    }, {\n      \"x\": 0.5163551568984985,\n      \"y\": 0.9432790875434875,\n      \"z\": 0.024321340024471283\n    }, {\n      \"x\": 0.49399662017822266,\n      \"y\": 0.8814862370491028,\n      \"z\": 0.018687399104237556\n    }, {\n      \"x\": 0.44948166608810425,\n      \"y\": 0.836137592792511,\n      \"z\": 0.05702034756541252\n    }, {\n      \"x\": 0.47898444533348083,\n      \"y\": 0.8836610913276672,\n      \"z\": 0.03150695189833641\n    }, {\n      \"x\": 0.4454479217529297,\n      \"y\": 0.8499438166618347,\n      \"z\": 0.08868525922298431\n    }, {\n      \"x\": 0.49572959542274475,\n      \"y\": 0.8452823758125305,\n      \"z\": 0.0036111653316766024\n    }, {\n      \"x\": 0.5362502336502075,\n      \"y\": 0.7222585678100586,\n      \"z\": -0.027912352234125137\n    }, {\n      \"x\": 0.5393770337104797,\n      \"y\": 0.7850722074508667,\n      \"z\": -0.05415399745106697\n    }, {\n      \"x\": 0.531399667263031,\n      \"y\": 0.7898418307304382,\n      \"z\": -0.03883346915245056\n    }, {\n      \"x\": 0.5451627373695374,\n      \"y\": 0.7717036604881287,\n      \"z\": -0.06480253487825394\n    }, {\n      \"x\": 0.5206395983695984,\n      \"y\": 0.6287745833396912,\n      \"z\": -0.010521138086915016\n    }, {\n      \"x\": 0.4974782466888428,\n      \"y\": 0.6191938519477844,\n      \"z\": -0.014098240062594414\n    }, {\n      \"x\": 0.4774145185947418,\n      \"y\": 0.6193130612373352,\n      \"z\": -0.013643337413668633\n    }, {\n      \"x\": 0.4616098403930664,\n      \"y\": 0.6259890198707581,\n      \"z\": -0.008448202162981033\n    }, {\n      \"x\": 0.4516478478908539,\n      \"y\": 0.6368461847305298,\n      \"z\": 0.00009050309745362028\n    }, {\n      \"x\": 0.4485096037387848,\n      \"y\": 0.6719120740890503,\n      \"z\": 0.022984720766544342\n    }, {\n      \"x\": 0.42177659273147583,\n      \"y\": 0.7240667343139648,\n      \"z\": 0.08511673659086227\n    }, {\n      \"x\": 0.4616215229034424,\n      \"y\": 0.6988231539726257,\n      \"z\": 0.014238474890589714\n    }, {\n      \"x\": 0.4755798876285553,\n      \"y\": 0.7034608721733093,\n      \"z\": 0.00625590980052948\n    }, {\n      \"x\": 0.4924992024898529,\n      \"y\": 0.7005885243415833,\n      \"z\": 0.0009391739731654525\n    }, {\n      \"x\": 0.5082254409790039,\n      \"y\": 0.693384051322937,\n      \"z\": -0.0009464038303121924\n    }, {\n      \"x\": 0.5203112959861755,\n      \"y\": 0.6849707961082458,\n      \"z\": -0.0022114769089967012\n    }, {\n      \"x\": 0.52867591381073,\n      \"y\": 0.6779075860977173,\n      \"z\": -0.002962538506835699\n    }, {\n      \"x\": 0.4213953912258148,\n      \"y\": 0.7219811677932739,\n      \"z\": 0.1350894570350647\n    }, {\n      \"x\": 0.5320829749107361,\n      \"y\": 0.794858992099762,\n      \"z\": -0.03181503340601921\n    }, {\n      \"x\": 0.5452795028686523,\n      \"y\": 0.7286570072174072,\n      \"z\": -0.04771539941430092\n    }, {\n      \"x\": 0.5496407747268677,\n      \"y\": 0.7866933345794678,\n      \"z\": -0.06452003121376038\n    }, {\n      \"x\": 0.557040274143219,\n      \"y\": 0.7962084412574768,\n      \"z\": -0.05837344378232956\n    }, {\n      \"x\": 0.549176812171936,\n      \"y\": 0.7895247936248779,\n      \"z\": -0.057761140167713165\n    }, {\n      \"x\": 0.5362890362739563,\n      \"y\": 0.8005836606025696,\n      \"z\": -0.026903774589300156\n    }, {\n      \"x\": 0.560200035572052,\n      \"y\": 0.7983731031417847,\n      \"z\": -0.06172555685043335\n    }, {\n      \"x\": 0.5616944432258606,\n      \"y\": 0.8022753596305847,\n      \"z\": -0.045200999826192856\n    }, {\n      \"x\": 0.5273328423500061,\n      \"y\": 0.6611284017562866,\n      \"z\": 0.0029021520167589188\n    }, {\n      \"x\": 0.534850537776947,\n      \"y\": 0.6660012006759644,\n      \"z\": -0.005215510260313749\n    }, {\n      \"x\": 0.5394860506057739,\n      \"y\": 0.6701375246047974,\n      \"z\": -0.014931917190551758\n    }, {\n      \"x\": 0.4634307324886322,\n      \"y\": 0.658291757106781,\n      \"z\": 0.009295716881752014\n    }, {\n      \"x\": 0.4538393020629883,\n      \"y\": 0.6519932150840759,\n      \"z\": 0.00930330716073513\n    }, {\n      \"x\": 0.5776031613349915,\n      \"y\": 0.7159298658370972,\n      \"z\": -0.057365912944078445\n    }, {\n      \"x\": 0.6504855155944824,\n      \"y\": 0.6461779475212097,\n      \"z\": 0.014184834435582161\n    }, {\n      \"x\": 0.5860154032707214,\n      \"y\": 0.7962266206741333,\n      \"z\": -0.04522843658924103\n    }, {\n      \"x\": 0.6842049360275269,\n      \"y\": 0.5631637573242188,\n      \"z\": 0.07207967340946198\n    }, {\n      \"x\": 0.6152560710906982,\n      \"y\": 0.6674962639808655,\n      \"z\": 0.0007529259892180562\n    }, {\n      \"x\": 0.6280948519706726,\n      \"y\": 0.6684326529502869,\n      \"z\": 0.0016892586136236787\n    }, {\n      \"x\": 0.6408625245094299,\n      \"y\": 0.6663892269134521,\n      \"z\": 0.005331226624548435\n    }, {\n      \"x\": 0.6557814478874207,\n      \"y\": 0.6534678936004639,\n      \"z\": 0.01646413467824459\n    }, {\n      \"x\": 0.6035663485527039,\n      \"y\": 0.6639701724052429,\n      \"z\": 0.0013799630105495453\n    }, {\n      \"x\": 0.6329053044319153,\n      \"y\": 0.608010470867157,\n      \"z\": -0.006195899099111557\n    }, {\n      \"x\": 0.6167260408401489,\n      \"y\": 0.6117533445358276,\n      \"z\": -0.006319951266050339\n    }, {\n      \"x\": 0.6471013426780701,\n      \"y\": 0.6112449765205383,\n      \"z\": -0.0017843559617176652\n    }, {\n      \"x\": 0.6560901999473572,\n      \"y\": 0.6185776591300964,\n      \"z\": 0.004047257360070944\n    }, {\n      \"x\": 0.6666946411132812,\n      \"y\": 0.6651176810264587,\n      \"z\": 0.023647578433156013\n    }, {\n      \"x\": 0.6311345100402832,\n      \"y\": 0.9495396018028259,\n      \"z\": 0.014004078693687916\n    }, {\n      \"x\": 0.6544655561447144,\n      \"y\": 0.6397901773452759,\n      \"z\": 0.01809609681367874\n    }, {\n      \"x\": 0.6965808868408203,\n      \"y\": 0.6482675075531006,\n      \"z\": 0.08304904401302338\n    }, {\n      \"x\": 0.679817259311676,\n      \"y\": 0.650188148021698,\n      \"z\": 0.03632688894867897\n    }, {\n      \"x\": 0.6336516737937927,\n      \"y\": 0.7541458010673523,\n      \"z\": -0.007742783520370722\n    }, {\n      \"x\": 0.5921701192855835,\n      \"y\": 0.8567668199539185,\n      \"z\": -0.029399123042821884\n    }, {\n      \"x\": 0.591663658618927,\n      \"y\": 0.870215654373169,\n      \"z\": -0.02103729173541069\n    }, {\n      \"x\": 0.6068367958068848,\n      \"y\": 0.8584195375442505,\n      \"z\": -0.020668085664510727\n    }, {\n      \"x\": 0.6176617741584778,\n      \"y\": 0.860965371131897,\n      \"z\": -0.009790095500648022\n    }, {\n      \"x\": 0.6040634512901306,\n      \"y\": 0.8686612844467163,\n      \"z\": -0.015289564616978168\n    }, {\n      \"x\": 0.6143736839294434,\n      \"y\": 0.8671170473098755,\n      \"z\": -0.005712216719985008\n    }, {\n      \"x\": 0.6373105049133301,\n      \"y\": 0.8815656900405884,\n      \"z\": 0.012672550976276398\n    }, {\n      \"x\": 0.5832505822181702,\n      \"y\": 0.7866312861442566,\n      \"z\": -0.07051534950733185\n    }, {\n      \"x\": 0.5836675763130188,\n      \"y\": 0.7658692598342896,\n      \"z\": -0.07566110789775848\n    }, {\n      \"x\": 0.6709531545639038,\n      \"y\": 0.604898989200592,\n      \"z\": 0.005951565690338612\n    }, {\n      \"x\": 0.6029891967773438,\n      \"y\": 0.705652117729187,\n      \"z\": -0.013388276100158691\n    }, {\n      \"x\": 0.6131622195243835,\n      \"y\": 0.7728396058082581,\n      \"z\": -0.036248479038476944\n    }, {\n      \"x\": 0.6123163104057312,\n      \"y\": 0.7612020373344421,\n      \"z\": -0.03264721855521202\n    }, {\n      \"x\": 0.6696187853813171,\n      \"y\": 0.744706928730011,\n      \"z\": 0.009673702530562878\n    }, {\n      \"x\": 0.5803102254867554,\n      \"y\": 0.7385968565940857,\n      \"z\": -0.0689152330160141\n    }, {\n      \"x\": 0.6404349207878113,\n      \"y\": 0.5877999663352966,\n      \"z\": -0.01929756999015808\n    }, {\n      \"x\": 0.6588467955589294,\n      \"y\": 0.5929454565048218,\n      \"z\": -0.008487257175147533\n    }, {\n      \"x\": 0.6720337867736816,\n      \"y\": 0.530631422996521,\n      \"z\": 0.043437421321868896\n    }, {\n      \"x\": 0.584305465221405,\n      \"y\": 0.6099005341529846,\n      \"z\": -0.030301367864012718\n    }, {\n      \"x\": 0.6034283638000488,\n      \"y\": 0.6217452883720398,\n      \"z\": -0.001970183802768588\n    }, {\n      \"x\": 0.6460927724838257,\n      \"y\": 0.8608663082122803,\n      \"z\": 0.015541625209152699\n    }, {\n      \"x\": 0.6957815289497375,\n      \"y\": 0.8326103091239929,\n      \"z\": 0.13015234470367432\n    }, {\n      \"x\": 0.6043362617492676,\n      \"y\": 0.7861682772636414,\n      \"z\": -0.030476901680231094\n    }, {\n      \"x\": 0.594293475151062,\n      \"y\": 0.7942103147506714,\n      \"z\": -0.032218821346759796\n    }, {\n      \"x\": 0.6324057579040527,\n      \"y\": 0.8665139675140381,\n      \"z\": 0.014255806803703308\n    }, {\n      \"x\": 0.6296147704124451,\n      \"y\": 0.8667733669281006,\n      \"z\": 0.010388285852968693\n    }, {\n      \"x\": 0.663644552230835,\n      \"y\": 0.5798642635345459,\n      \"z\": -0.0022301070857793093\n    }, {\n      \"x\": 0.6140630841255188,\n      \"y\": 0.7809288501739502,\n      \"z\": -0.02835679054260254\n    }, {\n      \"x\": 0.615908145904541,\n      \"y\": 0.5921698212623596,\n      \"z\": -0.026804860681295395\n    }, {\n      \"x\": 0.617181122303009,\n      \"y\": 0.5748661756515503,\n      \"z\": -0.03060605563223362\n    }, {\n      \"x\": 0.6222207546234131,\n      \"y\": 0.49137672781944275,\n      \"z\": -0.011151673272252083\n    }, {\n      \"x\": 0.6669357419013977,\n      \"y\": 0.5541607141494751,\n      \"z\": 0.017466170713305473\n    }, {\n      \"x\": 0.6182981729507446,\n      \"y\": 0.5320425629615784,\n      \"z\": -0.021793590858578682\n    }, {\n      \"x\": 0.6760554313659668,\n      \"y\": 0.595052182674408,\n      \"z\": 0.017115700989961624\n    }, {\n      \"x\": 0.6801463961601257,\n      \"y\": 0.5800720453262329,\n      \"z\": 0.043127160519361496\n    }, {\n      \"x\": 0.5922210812568665,\n      \"y\": 0.8644017577171326,\n      \"z\": -0.02662893570959568\n    }, {\n      \"x\": 0.6054555177688599,\n      \"y\": 0.8637874722480774,\n      \"z\": -0.018363753333687782\n    }, {\n      \"x\": 0.6161889433860779,\n      \"y\": 0.8641164898872375,\n      \"z\": -0.008808949030935764\n    }, {\n      \"x\": 0.6017249822616577,\n      \"y\": 0.7901403307914734,\n      \"z\": -0.028126630932092667\n    }, {\n      \"x\": 0.631446123123169,\n      \"y\": 0.8664817810058594,\n      \"z\": 0.012112865224480629\n    }, {\n      \"x\": 0.6249198913574219,\n      \"y\": 0.8716511130332947,\n      \"z\": 0.003882825840264559\n    }, {\n      \"x\": 0.6281915903091431,\n      \"y\": 0.867301881313324,\n      \"z\": 0.009891441091895103\n    }, {\n      \"x\": 0.5986843109130859,\n      \"y\": 0.7813931703567505,\n      \"z\": -0.050227612257003784\n    }, {\n      \"x\": 0.6126407384872437,\n      \"y\": 0.869275689125061,\n      \"z\": -0.0031255714129656553\n    }, {\n      \"x\": 0.6027271151542664,\n      \"y\": 0.8711842894554138,\n      \"z\": -0.009324162267148495\n    }, {\n      \"x\": 0.59088134765625,\n      \"y\": 0.8742044568061829,\n      \"z\": -0.014608660712838173\n    }, {\n      \"x\": 0.5984604358673096,\n      \"y\": 0.9216185212135315,\n      \"z\": -0.005981989670544863\n    }, {\n      \"x\": 0.5950398445129395,\n      \"y\": 0.8964707255363464,\n      \"z\": -0.01703473925590515\n    }, {\n      \"x\": 0.5941568613052368,\n      \"y\": 0.8882410526275635,\n      \"z\": -0.017784785479307175\n    }, {\n      \"x\": 0.5928806662559509,\n      \"y\": 0.8803883194923401,\n      \"z\": -0.014153128489851952\n    }, {\n      \"x\": 0.5909661054611206,\n      \"y\": 0.8748103976249695,\n      \"z\": -0.012609979137778282\n    }, {\n      \"x\": 0.6128016710281372,\n      \"y\": 0.8702545762062073,\n      \"z\": -0.0022550546564161777\n    }, {\n      \"x\": 0.6150846481323242,\n      \"y\": 0.8726804256439209,\n      \"z\": -0.00414019962772727\n    }, {\n      \"x\": 0.6173093914985657,\n      \"y\": 0.8770190477371216,\n      \"z\": -0.005970994010567665\n    }, {\n      \"x\": 0.619335412979126,\n      \"y\": 0.8814800977706909,\n      \"z\": -0.0036864024586975574\n    }, {\n      \"x\": 0.6292637586593628,\n      \"y\": 0.8314558267593384,\n      \"z\": -0.007714875973761082\n    }, {\n      \"x\": 0.702275276184082,\n      \"y\": 0.7320667505264282,\n      \"z\": 0.1433621346950531\n    }, {\n      \"x\": 0.6204835176467896,\n      \"y\": 0.8689177632331848,\n      \"z\": 0.0044869170524179935\n    }, {\n      \"x\": 0.6223508715629578,\n      \"y\": 0.8704851269721985,\n      \"z\": 0.00352082890458405\n    }, {\n      \"x\": 0.590448260307312,\n      \"y\": 0.8029727935791016,\n      \"z\": -0.03200828656554222\n    }, {\n      \"x\": 0.6097423434257507,\n      \"y\": 0.7933741211891174,\n      \"z\": -0.018042555078864098\n    }, {\n      \"x\": 0.59229576587677,\n      \"y\": 0.7993767261505127,\n      \"z\": -0.032564569264650345\n    }, {\n      \"x\": 0.6171364188194275,\n      \"y\": 0.7153720259666443,\n      \"z\": -0.007672437466681004\n    }, {\n      \"x\": 0.6389747858047485,\n      \"y\": 0.726390540599823,\n      \"z\": -0.002999067772179842\n    }, {\n      \"x\": 0.6151940226554871,\n      \"y\": 0.769412100315094,\n      \"z\": -0.024427521973848343\n    }, {\n      \"x\": 0.6526776552200317,\n      \"y\": 0.505868136882782,\n      \"z\": 0.01412637997418642\n    }, {\n      \"x\": 0.6475822329521179,\n      \"y\": 0.5375454425811768,\n      \"z\": -0.0033899128902703524\n    }, {\n      \"x\": 0.6433356404304504,\n      \"y\": 0.5714520215988159,\n      \"z\": -0.017428796738386154\n    }, {\n      \"x\": 0.626949667930603,\n      \"y\": 0.8962116837501526,\n      \"z\": 0.005602736957371235\n    }, {\n      \"x\": 0.5868416428565979,\n      \"y\": 0.5829002261161804,\n      \"z\": -0.03727729618549347\n    }, {\n      \"x\": 0.5877229571342468,\n      \"y\": 0.5345035791397095,\n      \"z\": -0.032396964728832245\n    }, {\n      \"x\": 0.5887066125869751,\n      \"y\": 0.48655083775520325,\n      \"z\": -0.025856535881757736\n    }, {\n      \"x\": 0.6507197618484497,\n      \"y\": 0.6612282991409302,\n      \"z\": 0.011114613153040409\n    }, {\n      \"x\": 0.6803066730499268,\n      \"y\": 0.677992045879364,\n      \"z\": 0.032125361263751984\n    }, {\n      \"x\": 0.5963194370269775,\n      \"y\": 0.6598632335662842,\n      \"z\": 0.002976928371936083\n    }, {\n      \"x\": 0.667536199092865,\n      \"y\": 0.6274255514144897,\n      \"z\": 0.015618261881172657\n    }, {\n      \"x\": 0.5930740833282471,\n      \"y\": 0.6940041780471802,\n      \"z\": -0.019217798486351967\n    }, {\n      \"x\": 0.6053346395492554,\n      \"y\": 0.7676517963409424,\n      \"z\": -0.050308309495449066\n    }, {\n      \"x\": 0.6934473514556885,\n      \"y\": 0.6884298920631409,\n      \"z\": 0.04794462397694588\n    }, {\n      \"x\": 0.6738007664680481,\n      \"y\": 0.6934011578559875,\n      \"z\": 0.020697161555290222\n    }, {\n      \"x\": 0.6588084697723389,\n      \"y\": 0.7033141851425171,\n      \"z\": 0.008462334051728249\n    }, {\n      \"x\": 0.6346072554588318,\n      \"y\": 0.7029502391815186,\n      \"z\": 0.001542167621664703\n    }, {\n      \"x\": 0.6157816648483276,\n      \"y\": 0.6966525912284851,\n      \"z\": -0.002009218093007803\n    }, {\n      \"x\": 0.6015574336051941,\n      \"y\": 0.688928484916687,\n      \"z\": -0.006588225718587637\n    }, {\n      \"x\": 0.5746836066246033,\n      \"y\": 0.6711069345474243,\n      \"z\": -0.03597589209675789\n    }, {\n      \"x\": 0.6947521567344666,\n      \"y\": 0.7309479117393494,\n      \"z\": 0.046707939356565475\n    }, {\n      \"x\": 0.6759101152420044,\n      \"y\": 0.6249120831489563,\n      \"z\": 0.021654341369867325\n    }, {\n      \"x\": 0.5794773101806641,\n      \"y\": 0.7971615195274353,\n      \"z\": -0.06339326500892639\n    }, {\n      \"x\": 0.6041849851608276,\n      \"y\": 0.727514922618866,\n      \"z\": -0.017512541264295578\n    }, {\n      \"x\": 0.6968844532966614,\n      \"y\": 0.6440950036048889,\n      \"z\": 0.12727996706962585\n    }, {\n      \"x\": 0.5910853147506714,\n      \"y\": 0.679325520992279,\n      \"z\": -0.009497715160250664\n    }, {\n      \"x\": 0.6157375574111938,\n      \"y\": 0.7695677280426025,\n      \"z\": -0.010624290443956852\n    }, {\n      \"x\": 0.6606494784355164,\n      \"y\": 0.6410489678382874,\n      \"z\": 0.0208158977329731\n    }, {\n      \"x\": 0.6040687561035156,\n      \"y\": 0.7531470656394958,\n      \"z\": -0.045887019485235214\n    }, {\n      \"x\": 0.7012156248092651,\n      \"y\": 0.780247151851654,\n      \"z\": 0.14028730988502502\n    }, {\n      \"x\": 0.595149576663971,\n      \"y\": 0.6527782678604126,\n      \"z\": 0.006308757700026035\n    }, {\n      \"x\": 0.5925500392913818,\n      \"y\": 0.7436665892601013,\n      \"z\": -0.060151755809783936\n    }, {\n      \"x\": 0.6780198812484741,\n      \"y\": 0.8905693888664246,\n      \"z\": 0.0626060739159584\n    }, {\n      \"x\": 0.676746666431427,\n      \"y\": 0.9113880395889282,\n      \"z\": 0.08726003766059875\n    }, {\n      \"x\": 0.7030686140060425,\n      \"y\": 0.7312687635421753,\n      \"z\": 0.09529774636030197\n    }, {\n      \"x\": 0.688987135887146,\n      \"y\": 0.8588417172431946,\n      \"z\": 0.07752864807844162\n    }, {\n      \"x\": 0.6883691549301147,\n      \"y\": 0.6109960675239563,\n      \"z\": 0.06669612973928452\n    }, {\n      \"x\": 0.6358906030654907,\n      \"y\": 0.9702065587043762,\n      \"z\": 0.023120900616049767\n    }, {\n      \"x\": 0.5781539678573608,\n      \"y\": 0.8023634552955627,\n      \"z\": -0.044763918966054916\n    }, {\n      \"x\": 0.6170316934585571,\n      \"y\": 0.7408350706100464,\n      \"z\": -0.011375460773706436\n    }, {\n      \"x\": 0.688542366027832,\n      \"y\": 0.6516284346580505,\n      \"z\": 0.050206027925014496\n    }, {\n      \"x\": 0.6385149359703064,\n      \"y\": 0.6540714502334595,\n      \"z\": 0.006462941411882639\n    }, {\n      \"x\": 0.6279382109642029,\n      \"y\": 0.6563615798950195,\n      \"z\": 0.003062846139073372\n    }, {\n      \"x\": 0.6268895268440247,\n      \"y\": 0.8736732006072998,\n      \"z\": 0.00627936702221632\n    }, {\n      \"x\": 0.6944946050643921,\n      \"y\": 0.7709181308746338,\n      \"z\": 0.053824134171009064\n    }, {\n      \"x\": 0.614617109298706,\n      \"y\": 1.0022112131118774,\n      \"z\": 0.02719894051551819\n    }, {\n      \"x\": 0.6493719220161438,\n      \"y\": 0.9665167927742004,\n      \"z\": 0.053563784807920456\n    }, {\n      \"x\": 0.6624587178230286,\n      \"y\": 0.943530797958374,\n      \"z\": 0.068605437874794\n    }, {\n      \"x\": 0.6162528991699219,\n      \"y\": 0.6558693051338196,\n      \"z\": 0.002187855076044798\n    }, {\n      \"x\": 0.6058168411254883,\n      \"y\": 0.654328465461731,\n      \"z\": 0.0036193584091961384\n    }, {\n      \"x\": 0.5987918972969055,\n      \"y\": 0.6536934971809387,\n      \"z\": 0.006134530063718557\n    }, {\n      \"x\": 0.6831037402153015,\n      \"y\": 0.6195642948150635,\n      \"z\": 0.03511790186166763\n    }, {\n      \"x\": 0.6062582731246948,\n      \"y\": 0.6356398463249207,\n      \"z\": 0.001280312892049551\n    }, {\n      \"x\": 0.6174948811531067,\n      \"y\": 0.62776118516922,\n      \"z\": -0.0013642468256875873\n    }, {\n      \"x\": 0.6297246217727661,\n      \"y\": 0.6253792643547058,\n      \"z\": -0.0007034156005829573\n    }, {\n      \"x\": 0.6407091617584229,\n      \"y\": 0.627578616142273,\n      \"z\": 0.0028144705574959517\n    }, {\n      \"x\": 0.6479622721672058,\n      \"y\": 0.6322650909423828,\n      \"z\": 0.00750273372977972\n    }, {\n      \"x\": 0.6915091276168823,\n      \"y\": 0.5990704298019409,\n      \"z\": 0.10270945727825165\n    }, {\n      \"x\": 0.6457163095474243,\n      \"y\": 0.6504453420639038,\n      \"z\": 0.010696077719330788\n    }, {\n      \"x\": 0.6164222955703735,\n      \"y\": 0.8231936097145081,\n      \"z\": -0.016772059723734856\n    }, {\n      \"x\": 0.6042401194572449,\n      \"y\": 0.7830976843833923,\n      \"z\": -0.03630910441279411\n    }, {\n      \"x\": 0.5922216773033142,\n      \"y\": 0.8228387236595154,\n      \"z\": -0.029992375522851944\n    }, {\n      \"x\": 0.6646111011505127,\n      \"y\": 0.92097008228302,\n      \"z\": 0.050967294722795486\n    }, {\n      \"x\": 0.651232898235321,\n      \"y\": 0.9460107088088989,\n      \"z\": 0.038000158965587616\n    }, {\n      \"x\": 0.6140977144241333,\n      \"y\": 0.9882472157478333,\n      \"z\": 0.009882091544568539\n    }, {\n      \"x\": 0.6870781183242798,\n      \"y\": 0.8768675327301025,\n      \"z\": 0.10980932414531708\n    }, {\n      \"x\": 0.5986856818199158,\n      \"y\": 0.6456438899040222,\n      \"z\": 0.003999010659754276\n    }, {\n      \"x\": 0.585981547832489,\n      \"y\": 0.7034481763839722,\n      \"z\": -0.0377722829580307\n    }, {\n      \"x\": 0.6342031359672546,\n      \"y\": 0.9867448806762695,\n      \"z\": 0.03786521404981613\n    }, {\n      \"x\": 0.7013950943946838,\n      \"y\": 0.776049017906189,\n      \"z\": 0.09598205983638763\n    }, {\n      \"x\": 0.6030206680297852,\n      \"y\": 0.8719133138656616,\n      \"z\": -0.007931148633360863\n    }, {\n      \"x\": 0.6050592064857483,\n      \"y\": 0.8767156004905701,\n      \"z\": -0.009791925549507141\n    }, {\n      \"x\": 0.6073468923568726,\n      \"y\": 0.8831382393836975,\n      \"z\": -0.012361008673906326\n    }, {\n      \"x\": 0.6087977290153503,\n      \"y\": 0.890143632888794,\n      \"z\": -0.01098148338496685\n    }, {\n      \"x\": 0.6147705316543579,\n      \"y\": 0.9110084772109985,\n      \"z\": -0.0018823575228452682\n    }, {\n      \"x\": 0.622577965259552,\n      \"y\": 0.8670604825019836,\n      \"z\": 0.002609190298244357\n    }, {\n      \"x\": 0.6241236329078674,\n      \"y\": 0.8651344180107117,\n      \"z\": 0.0025534380692988634\n    }, {\n      \"x\": 0.6257084608078003,\n      \"y\": 0.8638408184051514,\n      \"z\": 0.0023300074972212315\n    }, {\n      \"x\": 0.639931321144104,\n      \"y\": 0.8449671268463135,\n      \"z\": 0.0038123116828501225\n    }, {\n      \"x\": 0.6810906529426575,\n      \"y\": 0.7856625318527222,\n      \"z\": 0.02717764675617218\n    }, {\n      \"x\": 0.583532452583313,\n      \"y\": 0.6811994910240173,\n      \"z\": -0.026588857173919678\n    }, {\n      \"x\": 0.5855660438537598,\n      \"y\": 0.6393819451332092,\n      \"z\": -0.004512844607234001\n    }, {\n      \"x\": 0.5932201743125916,\n      \"y\": 0.6398029327392578,\n      \"z\": 0.0008020466193556786\n    }, {\n      \"x\": 0.6200879812240601,\n      \"y\": 0.8683351874351501,\n      \"z\": 0.00417016725987196\n    }, {\n      \"x\": 0.6842559576034546,\n      \"y\": 0.8330534100532532,\n      \"z\": 0.050836317241191864\n    }, {\n      \"x\": 0.5754412412643433,\n      \"y\": 0.6418221592903137,\n      \"z\": -0.022838059812784195\n    }, {\n      \"x\": 0.6232790350914001,\n      \"y\": 0.9295297265052795,\n      \"z\": 0.006339520215988159\n    }, {\n      \"x\": 0.5764067769050598,\n      \"y\": 0.694546639919281,\n      \"z\": -0.04825803264975548\n    }, {\n      \"x\": 0.59778892993927,\n      \"y\": 0.7343927621841431,\n      \"z\": -0.035004377365112305\n    }, {\n      \"x\": 0.6042810678482056,\n      \"y\": 0.9441440105438232,\n      \"z\": -0.0010970570147037506\n    }, {\n      \"x\": 0.6496372222900391,\n      \"y\": 0.8869078159332275,\n      \"z\": 0.021036235615611076\n    }, {\n      \"x\": 0.6274012327194214,\n      \"y\": 0.7830310463905334,\n      \"z\": -0.006658440921455622\n    }, {\n      \"x\": 0.637792706489563,\n      \"y\": 0.9104999899864197,\n      \"z\": 0.014290250837802887\n    }, {\n      \"x\": 0.6549934148788452,\n      \"y\": 0.7748609185218811,\n      \"z\": -0.0006672973395325243\n    }, {\n      \"x\": 0.6404005289077759,\n      \"y\": 0.801220715045929,\n      \"z\": -0.0026642554439604282\n    }, {\n      \"x\": 0.6671456694602966,\n      \"y\": 0.8045546412467957,\n      \"z\": 0.013180811889469624\n    }, {\n      \"x\": 0.6107483506202698,\n      \"y\": 0.9680658578872681,\n      \"z\": 0.001778992242179811\n    }, {\n      \"x\": 0.6060343980789185,\n      \"y\": 0.744587242603302,\n      \"z\": -0.024382334202528\n    }, {\n      \"x\": 0.6602751612663269,\n      \"y\": 0.8998945355415344,\n      \"z\": 0.0344940721988678\n    }, {\n      \"x\": 0.6463775038719177,\n      \"y\": 0.9262562394142151,\n      \"z\": 0.02617623284459114\n    }, {\n      \"x\": 0.6579852104187012,\n      \"y\": 0.8602304458618164,\n      \"z\": 0.021586716175079346\n    }, {\n      \"x\": 0.6926165223121643,\n      \"y\": 0.8053340315818787,\n      \"z\": 0.061075080186128616\n    }, {\n      \"x\": 0.6724731922149658,\n      \"y\": 0.8594399690628052,\n      \"z\": 0.03457934781908989\n    }, {\n      \"x\": 0.6975721716880798,\n      \"y\": 0.8183245062828064,\n      \"z\": 0.09300774335861206\n    }, {\n      \"x\": 0.6512877941131592,\n      \"y\": 0.8258221745491028,\n      \"z\": 0.006324059329926968\n    }, {\n      \"x\": 0.594887375831604,\n      \"y\": 0.7148372530937195,\n      \"z\": -0.026898479089140892\n    }, {\n      \"x\": 0.6017440557479858,\n      \"y\": 0.7773507833480835,\n      \"z\": -0.05312420800328255\n    }, {\n      \"x\": 0.6096571683883667,\n      \"y\": 0.7806998491287231,\n      \"z\": -0.037646256387233734\n    }, {\n      \"x\": 0.5952993035316467,\n      \"y\": 0.7654367685317993,\n      \"z\": -0.06398405134677887\n    }, {\n      \"x\": 0.5950021147727966,\n      \"y\": 0.6201304793357849,\n      \"z\": -0.009297547861933708\n    }, {\n      \"x\": 0.6165438890457153,\n      \"y\": 0.6052900552749634,\n      \"z\": -0.012455573305487633\n    }, {\n      \"x\": 0.6362661719322205,\n      \"y\": 0.6015968918800354,\n      \"z\": -0.011649220250546932\n    }, {\n      \"x\": 0.6522727608680725,\n      \"y\": 0.6046400666236877,\n      \"z\": -0.005903332494199276\n    }, {\n      \"x\": 0.6625409722328186,\n      \"y\": 0.6128141283988953,\n      \"z\": 0.0030042496509850025\n    }, {\n      \"x\": 0.6688099503517151,\n      \"y\": 0.6457712054252625,\n      \"z\": 0.026322703808546066\n    }, {\n      \"x\": 0.7013440728187561,\n      \"y\": 0.6893666386604309,\n      \"z\": 0.08984331786632538\n    }, {\n      \"x\": 0.6608623266220093,\n      \"y\": 0.6749406456947327,\n      \"z\": 0.0172116681933403\n    }, {\n      \"x\": 0.6482325196266174,\n      \"y\": 0.6823726296424866,\n      \"z\": 0.008881398476660252\n    }, {\n      \"x\": 0.6313265562057495,\n      \"y\": 0.6842025518417358,\n      \"z\": 0.0031308617908507586\n    }, {\n      \"x\": 0.6147016286849976,\n      \"y\": 0.6809731721878052,\n      \"z\": 0.0007630771724507213\n    }, {\n      \"x\": 0.6018834114074707,\n      \"y\": 0.6755372285842896,\n      \"z\": -0.0008834321051836014\n    }, {\n      \"x\": 0.5925027132034302,\n      \"y\": 0.670681357383728,\n      \"z\": -0.001968748401850462\n    }, {\n      \"x\": 0.700127363204956,\n      \"y\": 0.6871103644371033,\n      \"z\": 0.13980500400066376\n    }, {\n      \"x\": 0.6095665693283081,\n      \"y\": 0.7853189706802368,\n      \"z\": -0.03074747882783413\n    }, {\n      \"x\": 0.5880423784255981,\n      \"y\": 0.7229287028312683,\n      \"z\": -0.04691500961780548\n    }, {\n      \"x\": 0.5930182337760925,\n      \"y\": 0.7811514139175415,\n      \"z\": -0.06398335844278336\n    }, {\n      \"x\": 0.5867722034454346,\n      \"y\": 0.7922660112380981,\n      \"z\": -0.05794971063733101\n    }, {\n      \"x\": 0.5933279991149902,\n      \"y\": 0.7842848896980286,\n      \"z\": -0.05714067071676254\n    }, {\n      \"x\": 0.6063535809516907,\n      \"y\": 0.7920218706130981,\n      \"z\": -0.02590685710310936\n    }, {\n      \"x\": 0.5839452743530273,\n      \"y\": 0.794978141784668,\n      \"z\": -0.0615212507545948\n    }, {\n      \"x\": 0.5828126072883606,\n      \"y\": 0.8000800013542175,\n      \"z\": -0.0449722595512867\n    }, {\n      \"x\": 0.5909603834152222,\n      \"y\": 0.6541213393211365,\n      \"z\": 0.003991890233010054\n    }, {\n      \"x\": 0.5852181911468506,\n      \"y\": 0.6602938771247864,\n      \"z\": -0.004428438376635313\n    }, {\n      \"x\": 0.5825737714767456,\n      \"y\": 0.6651063561439514,\n      \"z\": -0.014345290139317513\n    }, {\n      \"x\": 0.6517343521118164,\n      \"y\": 0.6362385153770447,\n      \"z\": 0.012151890434324741\n    }, {\n      \"x\": 0.6615052819252014,\n      \"y\": 0.6281577944755554,\n      \"z\": 0.0123682152479887\n    }, {\n      \"x\": 0.4856873154640198,\n      \"y\": 0.6568945646286011,\n      \"z\": 0.000720038078725338\n    }, {\n      \"x\": 0.49988406896591187,\n      \"y\": 0.6547410488128662,\n      \"z\": 0.0006949726957827806\n    }, {\n      \"x\": 0.48438939452171326,\n      \"y\": 0.6392973065376282,\n      \"z\": 0.000705525919329375\n    }, {\n      \"x\": 0.47143134474754333,\n      \"y\": 0.6589511632919312,\n      \"z\": 0.0006980331381782889\n    }, {\n      \"x\": 0.48704618215560913,\n      \"y\": 0.6752797961235046,\n      \"z\": 0.0006921177846379578\n    }, {\n      \"x\": 0.6243702173233032,\n      \"y\": 0.640461802482605,\n      \"z\": -0.00006592126737814397\n    }, {\n      \"x\": 0.6390967965126038,\n      \"y\": 0.6385173797607422,\n      \"z\": -0.00016105435497593135\n    }, {\n      \"x\": 0.6230536699295044,\n      \"y\": 0.6224825382232666,\n      \"z\": -0.00016136496560648084\n    }, {\n      \"x\": 0.6095397472381592,\n      \"y\": 0.641917884349823,\n      \"z\": -0.0001803556369850412\n    }, {\n      \"x\": 0.6250996589660645,\n      \"y\": 0.6586247682571411,\n      \"z\": -0.0001785515050869435\n    }]],\n    \"faceBlendshapes\": [{\n      \"categories\": [{\n        \"index\": 0,\n        \"score\": 0.000005187174338061595,\n        \"categoryName\": \"_neutral\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 1,\n        \"score\": 0.24521504342556,\n        \"categoryName\": \"browDownLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 2,\n        \"score\": 0.1987743377685547,\n        \"categoryName\": \"browDownRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 3,\n        \"score\": 0.013400448486208916,\n        \"categoryName\": \"browInnerUp\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 4,\n        \"score\": 0.012361560948193073,\n        \"categoryName\": \"browOuterUpLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 5,\n        \"score\": 0.019305096939206123,\n        \"categoryName\": \"browOuterUpRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 6,\n        \"score\": 0.000028426356948330067,\n        \"categoryName\": \"cheekPuff\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 7,\n        \"score\": 3.4500112633395474e-7,\n        \"categoryName\": \"cheekSquintLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 8,\n        \"score\": 4.83789051486383e-7,\n        \"categoryName\": \"cheekSquintRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 9,\n        \"score\": 0.07650448381900787,\n        \"categoryName\": \"eyeBlinkLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 10,\n        \"score\": 0.05070012807846069,\n        \"categoryName\": \"eyeBlinkRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 11,\n        \"score\": 0.13978900015354156,\n        \"categoryName\": \"eyeLookDownLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 12,\n        \"score\": 0.14198613166809082,\n        \"categoryName\": \"eyeLookDownRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 13,\n        \"score\": 0.2177766114473343,\n        \"categoryName\": \"eyeLookInLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 14,\n        \"score\": 0.014739357866346836,\n        \"categoryName\": \"eyeLookInRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 15,\n        \"score\": 0.02361512929201126,\n        \"categoryName\": \"eyeLookOutLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 16,\n        \"score\": 0.19679604470729828,\n        \"categoryName\": \"eyeLookOutRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 17,\n        \"score\": 0.04874616861343384,\n        \"categoryName\": \"eyeLookUpLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 18,\n        \"score\": 0.049392376095056534,\n        \"categoryName\": \"eyeLookUpRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 19,\n        \"score\": 0.34944331645965576,\n        \"categoryName\": \"eyeSquintLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 20,\n        \"score\": 0.2939716875553131,\n        \"categoryName\": \"eyeSquintRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 21,\n        \"score\": 0.005955042317509651,\n        \"categoryName\": \"eyeWideLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 22,\n        \"score\": 0.006776117719709873,\n        \"categoryName\": \"eyeWideRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 23,\n        \"score\": 0.000016942436559475027,\n        \"categoryName\": \"jawForward\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 24,\n        \"score\": 0.0045165494084358215,\n        \"categoryName\": \"jawLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 25,\n        \"score\": 0.07803940027952194,\n        \"categoryName\": \"jawOpen\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 26,\n        \"score\": 0.00002090057751047425,\n        \"categoryName\": \"jawRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 27,\n        \"score\": 0.06032035872340202,\n        \"categoryName\": \"mouthClose\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 28,\n        \"score\": 0.00228882092051208,\n        \"categoryName\": \"mouthDimpleLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 29,\n        \"score\": 0.00781762320548296,\n        \"categoryName\": \"mouthDimpleRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 30,\n        \"score\": 0.0017093931091949344,\n        \"categoryName\": \"mouthFrownLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 31,\n        \"score\": 0.0019319106359034777,\n        \"categoryName\": \"mouthFrownRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 32,\n        \"score\": 0.00008485237776767462,\n        \"categoryName\": \"mouthFunnel\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 33,\n        \"score\": 0.0009051355300471187,\n        \"categoryName\": \"mouthLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 34,\n        \"score\": 0.0003630454302765429,\n        \"categoryName\": \"mouthLowerDownLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 35,\n        \"score\": 0.00017601238505449146,\n        \"categoryName\": \"mouthLowerDownRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 36,\n        \"score\": 0.12865161895751953,\n        \"categoryName\": \"mouthPressLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 37,\n        \"score\": 0.20137207210063934,\n        \"categoryName\": \"mouthPressRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 38,\n        \"score\": 0.0022203284315764904,\n        \"categoryName\": \"mouthPucker\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 39,\n        \"score\": 0.0009096377179957926,\n        \"categoryName\": \"mouthRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 40,\n        \"score\": 0.34189721941947937,\n        \"categoryName\": \"mouthRollLower\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 41,\n        \"score\": 0.11409689486026764,\n        \"categoryName\": \"mouthRollUpper\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 42,\n        \"score\": 0.17172536253929138,\n        \"categoryName\": \"mouthShrugLower\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 43,\n        \"score\": 0.004038424696773291,\n        \"categoryName\": \"mouthShrugUpper\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 44,\n        \"score\": 0.00023205230536404997,\n        \"categoryName\": \"mouthSmileLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 45,\n        \"score\": 0.00019313619122840464,\n        \"categoryName\": \"mouthSmileRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 46,\n        \"score\": 0.0018571305554360151,\n        \"categoryName\": \"mouthStretchLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 47,\n        \"score\": 0.0023813238367438316,\n        \"categoryName\": \"mouthStretchRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 48,\n        \"score\": 0.000024323100660694763,\n        \"categoryName\": \"mouthUpperUpLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 49,\n        \"score\": 0.00003161552012898028,\n        \"categoryName\": \"mouthUpperUpRight\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 50,\n        \"score\": 1.08198406678639e-7,\n        \"categoryName\": \"noseSneerLeft\",\n        \"displayName\": \"\"\n      }, {\n        \"index\": 51,\n        \"score\": 0.0000012652527630052646,\n        \"categoryName\": \"noseSneerRight\",\n        \"displayName\": \"\"\n      }],\n      \"headIndex\": -1,\n      \"headName\": \"\"\n    }],\n    \"facialTransformationMatrixes\": [{\n      \"rows\": 4,\n      \"columns\": 4,\n      \"data\": [0.9947517514228821, 0.10230544209480286, 0.0013679931871592999, 0, -0.10230997204780579, 0.9947447776794434, 0.003816320328041911, 0, -0.000970348424743861, -0.0039362297393381596, 0.9999914169311523, 0, 2.8888821601867676, -7.808934211730957, -30.52109146118164, 1]\n    }]\n  }\n};\n\nexport { Facemesh, FacemeshDatas, FacemeshEye, FacemeshEyeDefaults };\n", "import * as React from 'react';\nimport { forwardRef, useEffect, useImperativeHandle, useContext, createContext } from 'react';\nimport { suspend, clear } from 'suspend-react';\n\n/* eslint react-hooks/exhaustive-deps: 1 */\nconst FaceLandmarkerContext = /* @__PURE__ */createContext({});\nconst FaceLandmarkerDefaults = {\n  basePath: 'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.17/wasm',\n  options: {\n    baseOptions: {\n      modelAssetPath: 'https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task',\n      delegate: 'GPU'\n    },\n    runningMode: 'VIDEO',\n    outputFaceBlendshapes: true,\n    outputFacialTransformationMatrixes: true\n  }\n};\nconst FaceLandmarker = /*#__PURE__*/forwardRef(({\n  basePath = FaceLandmarkerDefaults.basePath,\n  options = FaceLandmarkerDefaults.options,\n  children\n}, fref) => {\n  const opts = JSON.stringify(options);\n  const faceLandmarker = suspend(async () => {\n    const {\n      FilesetResolver,\n      FaceLandmarker\n    } = await import('@mediapipe/tasks-vision');\n    const vision = await FilesetResolver.forVisionTasks(basePath);\n    return FaceLandmarker.createFromOptions(vision, options);\n  }, [basePath, opts]);\n  useEffect(() => {\n    return () => {\n      faceLandmarker == null || faceLandmarker.close();\n      clear([basePath, opts]);\n    };\n  }, [faceLandmarker, basePath, opts]);\n  useImperativeHandle(fref, () => faceLandmarker, [faceLandmarker]); // expose faceLandmarker through ref\n\n  return /*#__PURE__*/React.createElement(FaceLandmarkerContext.Provider, {\n    value: faceLandmarker\n  }, children);\n});\nfunction useFaceLandmarker() {\n  return useContext(FaceLandmarkerContext);\n}\n\nexport { FaceLandmarker, FaceLandmarkerDefaults, useFaceLandmarker };\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACDzC,IAAM;AAAA;AAAA,EAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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AK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,GAAG,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,GAAG,KAAK,KAAK,IAAI,GAAG,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,GAAG,GAAG,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,GAAG,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,GAAG,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,IAAI,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,GAAG,KAAK,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,GAAG,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA;AAAA;AAAA,EAGxzY,aAAa;AAAA,IACX,aAAa,CAAC;AAAA,MACZ,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,QAAQ;AAAA,IACV,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,CAAC;AAAA,IACD,OAAO;AAAA,MACL,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,UAAU;AAAA,IACZ;AAAA,EACF;AAAA;AAAA;AAAA,EAGA,8BAA8B;AAAA,IAC5B,iBAAiB,CAAC,CAAC;AAAA,MACjB,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,GAAG;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP,CAAC,CAAC;AAAA,IACF,mBAAmB,CAAC;AAAA,MAClB,cAAc,CAAC;AAAA,QACb,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,QACT,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",
  "names": ["matrix", "i", "f", "eps", "geometry", "target", "el", "styles", "gl", "isOrthographicCamera", "scale", "React", "target", "i", "React", "React", "React", "React", "Loader", "React", "matrix", "tempMatrix", "React", "ReactDOM", "context", "eps", "target", "state", "distance", "React", "rotation", "React", "context", "key", "React", "import_react", "context", "React", "Billboard", "React", "React", "import_react", "scale", "i", "scale", "React", "React", "Line", "isArray", "QuadraticBezierLine", "start", "end", "mid", "segments", "points", "React", "CubicBezierLine", "React", "CatmullRomLine", "i", "React", "camera", "React", "Text", "invalidate", "React", "import_react", "React", "target", "React", "GradientType", "colors", "canvas", "context", "i", "React", "React", "import_react", "i", "Texture", "scale", "React", "geometry", "React", "React", "target", "i", "forwardRef", "React", "position", "normal", "dummy", "i", "React", "React", "forwardRef", "object", "React", "MarchingCubes", "React", "Decal", "position", "rotation", "scale", "forwardRef", "target", "normal", "i", "React", "import_react", "React", "loader", "React", "effect", "React", "i", "target", "context", "geometry", "scale", "col", "loader", "React", "React", "target", "OrthographicCamera", "set", "camera", "size", "React", "isFunction", "PerspectiveCamera", "set", "camera", "size", "React", "import_react", "gl", "scene", "fbo", "update", "CubeCamera", "React", "DeviceOrientationControls", "React", "FlyControls", "React", "MapControls", "React", "OrbitControls", "performance", "React", "TrackballControls", "performance", "React", "import_react", "ArcballControls", "performance", "React", "TransformControls", "onChange", "onMouseDown", "onMouseUp", "onObjectChange", "React", "PointerLockControls", "React", "FirstPersonControls", "React", "import_react", "CameraControls", "performance", "React", "context", "geometry", "eps", "instance", "i", "target", "React", "React", "direction", "OrthographicCamera", "React", "context", "position", "React", "scale", "rotation", "context", "React", "React", "loader", "React", "React", "import_react", "loader", "React", "import_react", "video", "texture", "VideoTexture", "f", "React", "import_react", "i", "totalFrames", "col", "json", "React", "React", "React", "Stats", "StatsImpl", "React", "StatsGl", "stats", "React", "v", "React", "raycast", "React", "React", "i", "geometry", "target", "i", "target", "i", "target", "leftBounds", "i", "i", "i", "uint16Array", "uint32Array", "i", "geometry", "i", "offset", "count", "i", "areIntersecting", "closestPointLineToLine", "v2", "temp1", "temp2", "closestPointsSegmentToSegment", "sphereIntersectTriangle", "triangle", "i", "target", "i2", "matrix", "update", "i", "v", "triangle", "i2", "closestPointToPoint", "target", "geometry", "float32Array", "uint16Array", "uint32Array", "nodeIndex32", "nodeIndex16", "temp", "target", "ray", "position", "normal", "intersection", "i", "i2", "ray", "geometry", "i", "intersection", "triangle", "geometry", "uint32Array", "uint16Array", "float32Array", "i", "_traverse", "byteOffset", "ray", "ray", "geometry", "i", "intersection", "triangle", "ray", "float32Array", "uint16Array", "uint32Array", "ray", "float32Array", "uint16Array", "uint32Array", "float32Array", "uint16Array", "uint32Array", "i", "i2", "obb", "obb2", "temp1", "geometry", "triangle", "triangle2", "i", "geometry", "uint32Array", "uint16Array", "float32Array", "i", "_traverse", "byteOffset", "ray", "_raycast", "float32Array", "uint16Array", "uint32Array", "_xyzFields", "ray", "_raycastFirst", "float32Array", "uint16Array", "uint32Array", "boundingBox", "triangle", "triangle2", "invertedMat", "obb", "obb2", "_intersectsGeometry", "float32Array", "uint16Array", "uint32Array", "i", "i2", "tempMatrix", "obb", "obb2", "temp1", "temp2", "temp3", "temp4", "geometry", "triangle", "triangle2", "i", "i", "obb", "geometry", "i", "uint32Array", "uint16Array", "_traverse", "ray", "triangle", "triangle2", "box", "target", "boundingBox", "matrix", "_box1", "_box2", "i", "l", "i", "geometry", "position", "target", "i", "v3", "uint16Array", "uint32Array", "float32Array", "geometry", "React", "context", "Context", "i", "React", "React", "temp", "React", "position", "React", "boundingBox", "React", "import_react", "i", "React", "React", "Center", "React", "React", "_mesh", "i", "globalContext", "tempMatrix", "context", "localContext", "props", "ref", "colors", "instance", "instances", "Merged", "isArray", "geometry", "context", "aspect", "React", "React", "v", "React", "v", "React", "geometry", "i", "v", "MeshReflectorMaterial", "gl", "camera", "scene", "normal", "target", "fbo1", "fbo2", "blurpass", "reflectorProps", "React", "import_react", "MeshRefractionMaterial", "temp", "geometry", "React", "v", "React", "React", "geometry", "React", "React", "React", "create", "Sphere", "Plane", "Shape", "geometry", "v", "i", "React", "RoundedBox", "React", "geometry", "ScreenQuad", "React", "React", "AnimationState", "context", "target", "direction", "position", "v", "React", "React", "forwardRef", "React", "React", "import_react", "isArray", "extensions", "loader", "target", "extensions", "fbo", "scale", "React", "scale", "renderTarget", "renderTargetBlur", "planeGeometry", "blurPlane", "depthMaterial", "horizontalBlurMaterial", "verticalBlurMaterial", "blur", "React", "scale", "forwardRef", "frames", "i", "position", "update", "props", "height", "React", "i", "position", "React", "canvas", "context", "React", "v", "i", "React", "geometry", "scale", "React", "scale", "target", "forwardRef", "React", "Sky", "scale", "React", "position", "colors", "color", "i", "React", "parentMatrix", "translation", "rotation", "scale", "context", "opaque_fragment", "colors", "temp", "React", "v", "scale", "forwardRef", "colors", "React", "React", "LIST_URL", "React", "React", "isGeometry", "isRefObject", "isRef", "geometry", "position", "i", "React", "i", "React", "context", "parentMatrix", "colors", "ref", "refs", "React", "context", "geometry", "colors", "segments", "i", "React", "React", "gl", "camera", "scene", "import_react", "_inverseMatrix", "_ray", "_sphere", "_vA", "geometry", "React", "React", "React", "import_react", "context", "React", "forwardRef", "intersection", "React", "position", "rotation", "scale", "matrix", "forwardRef", "fbo", "Container", "React", "React", "normal", "React", "boundingBox", "i", "intersection", "blend", "quad", "target", "React", "clear", "Container", "position", "React", "React", "React", "context", "normal", "direction", "translation", "scale", "context", "rotation", "coneWidth", "coneLength", "cylinderLength", "matrixL", "React", "ray", "scale", "context", "normal", "angle", "React", "ray", "intersection", "offsetMatrix", "translation", "scale", "context", "normal", "React", "vec1", "vec2", "calculateOffset", "normal", "upV", "direction", "scale", "context", "position", "rotation", "radius", "matrixL", "matrix", "rotation", "scale", "translation", "props", "context", "React", "import_react", "VideoTexture", "React", "import_react", "VideoTexture", "React", "import_react", "React", "v1", "v2", "v3", "v", "position", "scale", "i", "rotation", "sphere", "_sphere", "React", "import_react", "FaceLandmarker", "mean", "v1", "v2", "v", "target", "update", "eps", "result", "VideoTexture"]
}
